/*! For license information please see vendors.69a33470.js.LICENSE.txt */
(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[96],{14:t=>{t.exports=function(){return!1}},61:t=>{t.exports=function(t,e){return t<e}},73:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},111:(t,e,n)=>{var r=n(1069),o=0;t.exports=function(t){var e=++o;return r(t)+e}},127:(t,e,n)=>{var r=n(2125);t.exports=function(t,e){return r(t,e,"pre")}},129:(t,e,n)=>{"use strict";n.d(e,{KE:()=>oe,YY:()=>pt,CU:()=>at,bP:()=>ce,Yv:()=>de,gk:()=>X,AB:()=>he,iI:()=>F,zU:()=>K,BQ:()=>Ut,OX:()=>ie,Zc:()=>ue,KV:()=>W,jT:()=>se,JJ:()=>ae,tG:()=>le});var r=n(7184),o=n(1140),i=n(2195),s=n(4282),a=n(8115);const l=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function c(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const d=(t,e,n)=>{let o=c(t,n);if(!o)return!1;let i=f(o);if(!i){let n=o.blockRange(),r=n&&(0,a.jP)(n);return null!=r&&(e&&e(t.tr.lift(n,r).scrollIntoView()),!0)}let l=i.nodeBefore;if(M(t,i,e,-1))return!0;if(0==o.parent.content.size&&(h(l,"end")||r.nh.isSelectable(l)))for(let c=o.depth;;c--){let n=(0,a.$L)(t.doc,o.before(c),o.after(c),s.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(e){let o=t.tr.step(n);o.setSelection(h(l,"end")?r.LN.findFrom(o.doc.resolve(o.mapping.map(i.pos,-1)),-1):r.nh.create(o.doc,i.pos-l.nodeSize)),e(o.scrollIntoView())}return!0}if(1==c||o.node(c-1).childCount>1)break}return!(!l.isAtom||i.depth!=o.depth-1)&&(e&&e(t.tr.delete(i.pos-l.nodeSize,i.pos).scrollIntoView()),!0)};function u(t,e,n){let o=e.nodeBefore,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let t=o.lastChild;if(!t)return!1;o=t}let l=e.nodeAfter,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let t=l.firstChild;if(!t)return!1;l=t}let d=(0,a.$L)(t.doc,i,c,s.Ji.empty);if(!d||d.from!=i||d instanceof a.Ln&&d.slice.size>=c-i)return!1;if(n){let e=t.tr.step(d);e.setSelection(r.U3.create(e.doc,i)),n(e.scrollIntoView())}return!0}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const p=(t,e,n)=>{let{$head:o,empty:i}=t.selection,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=f(o)}let a=s&&s.nodeBefore;return!(!a||!r.nh.isSelectable(a))&&(e&&e(t.tr.setSelection(r.nh.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function f(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function m(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const g=(t,e,n)=>{let o=m(t,n);if(!o)return!1;let i=v(o);if(!i)return!1;let l=i.nodeAfter;if(M(t,i,e,1))return!0;if(0==o.parent.content.size&&(h(l,"start")||r.nh.isSelectable(l))){let n=(0,a.$L)(t.doc,o.before(),o.after(),s.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(e){let o=t.tr.step(n);o.setSelection(h(l,"start")?r.LN.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):r.nh.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return!(!l.isAtom||i.depth!=o.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+l.nodeSize).scrollIntoView()),!0)},y=(t,e,n)=>{let{$head:o,empty:i}=t.selection,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=v(o)}let a=s&&s.nodeAfter;return!(!a||!r.nh.isSelectable(a))&&(e&&e(t.tr.setSelection(r.nh.create(t.doc,s.pos)).scrollIntoView()),!0)};function v(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const x=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function b(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const w=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=b(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let o=n.after(),i=t.tr.replaceWith(o,o,a.createAndFill());i.setSelection(r.LN.near(i.doc.resolve(o),1)),e(i.scrollIntoView())}return!0},k=(t,e)=>{let n=t.selection,{$from:o,$to:i}=n;if(n instanceof r.i5||o.parent.inlineContent||i.parent.inlineContent)return!1;let s=b(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let n=(!o.parentOffset&&i.index()<i.parent.childCount?o:i).pos,a=t.tr.insert(n,s.createAndFill());a.setSelection(r.U3.create(a.doc,n+1)),e(a.scrollIntoView())}return!0},S=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if((0,a.zy)(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&(0,a.jP)(r);return null!=o&&(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};const C=(t,e)=>{let{$from:n,$to:o}=t.selection;if(t.selection instanceof r.nh&&t.selection.node.isBlock)return!(!n.parentOffset||!(0,a.zy)(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i,s,l=[],c=!1,d=!1;for(let r=n.depth;;r--){if(n.node(r).isBlock){c=n.end(r)==n.pos+(n.depth-r),d=n.start(r)==n.pos-(n.depth-r),s=b(n.node(r-1).contentMatchAt(n.indexAfter(r-1)));let t=E&&E(o.parent,c,n);l.unshift(t||(c&&s?{type:s}:null)),i=r;break}if(1==r)return!1;l.unshift(null)}let u=t.tr;(t.selection instanceof r.U3||t.selection instanceof r.i5)&&u.deleteSelection();let h=u.mapping.map(n.pos),p=(0,a.zy)(u.doc,h,l.length,l);if(p||(l[0]=s?{type:s}:null,p=(0,a.zy)(u.doc,h,l.length,l)),!p)return!1;if(u.split(h,l.length,l),!c&&d&&n.node(i).type!=s){let t=u.mapping.map(n.before(i)),e=u.doc.resolve(t);s&&n.node(i-1).canReplaceWith(e.index(),e.index()+1,s)&&u.setNodeMarkup(u.mapping.map(n.before(i)),s)}return e&&e(u.scrollIntoView()),!0};var E;function M(t,e,n,o){let i,l,c=e.nodeBefore,d=e.nodeAfter,u=c.type.spec.isolating||d.type.spec.isolating;if(!u&&function(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!(0,a.n9)(t.doc,e.pos))&&(n&&n(t.tr.join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;let p=!u&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(i=(l=c.contentMatchAt(c.childCount)).findWrapping(d.type))&&l.matchType(i[0]||d.type).validEnd){if(n){let r=e.pos+d.nodeSize,o=s.FK.empty;for(let t=i.length-1;t>=0;t--)o=s.FK.from(i[t].create(null,o));o=s.FK.from(c.copy(o));let l=t.tr.step(new a.Wg(e.pos-1,r,e.pos,r,new s.Ji(o,1,0),i.length,!0)),u=l.doc.resolve(r+2*i.length);u.nodeAfter&&u.nodeAfter.type==c.type&&(0,a.n9)(l.doc,u.pos)&&l.join(u.pos),n(l.scrollIntoView())}return!0}let f=d.type.spec.isolating||o>0&&u?null:r.LN.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),g=m&&(0,a.jP)(m);if(null!=g&&g>=e.depth)return n&&n(t.tr.lift(m,g).scrollIntoView()),!0;if(p&&h(d,"start",!0)&&h(c,"end")){let r=c,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let i=d,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=s.FK.empty;for(let t=o.length-1;t>=0;t--)r=s.FK.from(o[t].copy(r));n(t.tr.step(new a.Wg(e.pos-o.length,e.pos+d.nodeSize,e.pos+l,e.pos+d.nodeSize-l,new s.Ji(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function T(t){return function(e,n){let o=e.selection,i=t<0?o.$from:o.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(n&&n(e.tr.setSelection(r.U3.create(e.doc,t<0?i.start(s):i.end(s)))),!0)}}const O=T(-1),_=T(1);function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[i];n.doc.nodesBetween(r,s,(r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)o=!0;else{let e=n.doc.resolve(i),r=e.index();o=e.parent.canReplaceWith(r,r+1,t)}})}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];o.setBlockType(i,s,t,e)}r(o.scrollIntoView())}return!0}}function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let P=N(l,d,p),D=N(l,g,y);const R={Enter:N(x,k,S,C),"Mod-Enter":w,Backspace:P,"Mod-Backspace":P,"Shift-Backspace":P,Delete:D,"Mod-Delete":D,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new r.i5(t.doc))),!0)},I={"Ctrl-h":R.Backspace,"Alt-Backspace":R["Mod-Backspace"],"Ctrl-d":R.Delete,"Ctrl-Alt-Backspace":R["Mod-Delete"],"Alt-Delete":R["Mod-Delete"],"Alt-d":R["Mod-Delete"],"Ctrl-a":O,"Ctrl-e":_};for(let pe in R)I[pe]=R[pe];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function L(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:i}=n.selection,l=o.blockRange(i);if(!l)return!1;let c=r?n.tr:null;return!!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!1,i=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&0==e.startIndex){if(0==e.$from.index(e.depth-1))return!1;let t=l.resolve(e.start-2);i=new s.u$(t,t,e.depth),e.endIndex<e.parent.childCount&&(e=new s.u$(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let c=(0,a.oM)(i,n,r,e);if(!c)return!1;t&&function(t,e,n,r,o){let i=s.FK.empty;for(let a=n.length-1;a>=0;a--)i=s.FK.from(n[a].type.create(n[a].attrs,i));t.step(new a.Wg(e.start-(r?2:0),e.end,e.start,e.end,new s.Ji(i,0,0),n.length,!0));let l=0;for(let s=0;s<n.length;s++)n[s].type==o&&(l=s+1);let c=n.length-l,d=e.start+n.length-(r?2:0),u=e.parent;for(let s=e.startIndex,h=e.endIndex,p=!0;s<h;s++,p=!1)!p&&(0,a.zy)(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=u.child(s).nodeSize}(t,e,c,o,n);return!0}(c,l,t,e)&&(r&&r(c.scrollIntoView()),!0)}}function j(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,e=>e.childCount>0&&e.firstChild.type==t);return!!i&&(!n||(r.node(i.depth-1).type==t?function(t,e,n,r){let o=t.tr,i=r.end,l=r.$to.end(r.depth);i<l&&(o.step(new a.Wg(i-1,l,i,l,new s.Ji(s.FK.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new s.u$(o.doc.resolve(r.$from.pos),o.doc.resolve(l),r.depth));const c=(0,a.jP)(r);if(null==c)return!1;o.lift(r,c);let d=o.doc.resolve(o.mapping.map(i,-1)-1);(0,a.n9)(o.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&o.join(d.pos);return e(o.scrollIntoView()),!0}(e,n,t,i):function(t,e,n){let r=t.tr,o=n.parent;for(let s=n.end,a=n.endIndex-1,m=n.startIndex;a>m;a--)s-=o.child(a).nodeSize,r.delete(s-1,s+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let c=0==n.startIndex,d=n.endIndex==o.childCount,u=i.node(-1),h=i.index(-1);if(!u.canReplace(h+(c?0:1),h+1,l.content.append(d?s.FK.empty:s.FK.from(o))))return!1;let p=i.pos,f=p+l.nodeSize;return r.step(new a.Wg(p-(c?1:0),f+(d?1:0),p+1,f-1,new s.Ji((c?s.FK.empty:s.FK.from(o.copy(s.FK.empty))).append(d?s.FK.empty:s.FK.from(o.copy(s.FK.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}(e,n,i)))}}function B(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class z{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){var t=this;const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(e=>{let[n,r]=e;return[n,function(){const e=r(...arguments)(s);return i.getMeta("preventDispatch")||t.hasCustomState||o.dispatch(i),e}]}))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t){var e=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a=[],l=!!t,c=t||i.tr,d={...Object.fromEntries(Object.entries(r).map(t=>{let[r,o]=t;return[r,function(){const t=e.buildProps(c,n),r=o(...arguments)(t);return a.push(r),d}]})),run:()=>(l||!n||c.getMeta("preventDispatch")||this.hasCustomState||s.dispatch(c),a.every(t=>!0===t))};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,o=t||n.tr,i=this.buildProps(o,r),s=Object.fromEntries(Object.entries(e).map(t=>{let[e,n]=t;return[e,function(){return n(...arguments)({...i,dispatch:void 0})}]}));return{...s,chain:()=>this.createChain(o,r)}}buildProps(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s={tr:t,editor:r,view:i,state:B({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(t=>{let[e,n]=t;return[e,function(){return n(...arguments)(s)}]}))}};return s}}class V{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=this.callbacks[t];return o&&o.forEach(t=>t.apply(this,n)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(t=>t!==e):delete this.callbacks[t]),this}once(t,e){var n=this;const r=function(){n.off(t,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];e.apply(n,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}}function F(t,e,n){if(void 0===t.config[e]&&t.parent)return F(t.parent,e,n);if("function"===typeof t.config[e]){return t.config[e].bind({...n,parent:t.parent?F(t.parent,e,n):null})}return t.config[e]}function $(t){return{baseExtensions:t.filter(t=>"extension"===t.type),nodeExtensions:t.filter(t=>"node"===t.type),markExtensions:t.filter(t=>"mark"===t.type)}}function H(t){const e=[],{nodeExtensions:n,markExtensions:r}=$(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(t=>{const n=F(t,"addGlobalAttributes",{name:t.name,options:t.options,storage:t.storage,extensions:o});if(!n)return;n().forEach(t=>{t.types.forEach(n=>{Object.entries(t.attributes).forEach(t=>{let[r,o]=t;e.push({type:n,name:r,attribute:{...i,...o}})})})})}),o.forEach(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=F(t,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(n=>{let[r,o]=n;const s={...i,...o};"function"===typeof(null===s||void 0===s?void 0:s.default)&&(s.default=s.default()),(null===s||void 0===s?void 0:s.isRequired)&&void 0===(null===s||void 0===s?void 0:s.default)&&delete s.default,e.push({type:t.name,name:r,attribute:s})})}),e}function U(t,e){if("string"===typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(t=>!!t).reduce((t,e)=>{const n={...t};return Object.entries(e).forEach(t=>{let[e,r]=t;if(n[e])if("class"===e){const t=r?String(r).split(" "):[],o=n[e]?n[e].split(" "):[],i=t.filter(t=>!o.includes(t));n[e]=[...o,...i].join(" ")}else if("style"===e){const t=r?r.split(";").map(t=>t.trim()).filter(Boolean):[],o=n[e]?n[e].split(";").map(t=>t.trim()).filter(Boolean):[],i=new Map;o.forEach(t=>{const[e,n]=t.split(":").map(t=>t.trim());i.set(e,n)}),t.forEach(t=>{const[e,n]=t.split(":").map(t=>t.trim());i.set(e,n)}),n[e]=Array.from(i.entries()).map(t=>{let[e,n]=t;return`${e}: ${n}`}).join("; ")}else n[e]=r;else n[e]=r}),n},{})}function K(t,e){return e.filter(e=>e.type===t.type.name).filter(t=>t.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]}).reduce((t,e)=>W(t,e),{})}function q(t){return"function"===typeof t}function X(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(q(t)){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return e?t.bind(e)(...r):t(...r)}return t}function J(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;const o=e.reduce((t,e)=>{const r=e.attribute.parseHTML?e.attribute.parseHTML(n):function(t){return"string"!==typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t}(n.getAttribute(e.name));return null===r||void 0===r?t:{...t,[e.name]:r}},{});return{...r,...o}}}}function Y(t){return Object.fromEntries(Object.entries(t).filter(t=>{let[e,n]=t;return("attrs"!==e||!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(t).length&&t.constructor===Object}(n))&&(null!==n&&void 0!==n)}))}function Z(t,e){var n;const r=H(t),{nodeExtensions:o,markExtensions:i}=$(t),a=null===(n=o.find(t=>F(t,"topNode")))||void 0===n?void 0:n.name,l=Object.fromEntries(o.map(n=>{const o=r.filter(t=>t.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e},s=Y({...t.reduce((t,e)=>{const r=F(e,"extendNodeSchema",i);return{...t,...r?r(n):{}}},{}),content:X(F(n,"content",i)),marks:X(F(n,"marks",i)),group:X(F(n,"group",i)),inline:X(F(n,"inline",i)),atom:X(F(n,"atom",i)),selectable:X(F(n,"selectable",i)),draggable:X(F(n,"draggable",i)),code:X(F(n,"code",i)),whitespace:X(F(n,"whitespace",i)),linebreakReplacement:X(F(n,"linebreakReplacement",i)),defining:X(F(n,"defining",i)),isolating:X(F(n,"isolating",i)),attrs:Object.fromEntries(o.map(t=>{var e;return[t.name,{default:null===(e=null===t||void 0===t?void 0:t.attribute)||void 0===e?void 0:e.default}]}))}),a=X(F(n,"parseHTML",i));a&&(s.parseDOM=a.map(t=>J(t,o)));const l=F(n,"renderHTML",i);l&&(s.toDOM=t=>l({node:t,HTMLAttributes:K(t,o)}));const c=F(n,"renderText",i);return c&&(s.toText=c),[n.name,s]})),c=Object.fromEntries(i.map(n=>{const o=r.filter(t=>t.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e},s=Y({...t.reduce((t,e)=>{const r=F(e,"extendMarkSchema",i);return{...t,...r?r(n):{}}},{}),inclusive:X(F(n,"inclusive",i)),excludes:X(F(n,"excludes",i)),group:X(F(n,"group",i)),spanning:X(F(n,"spanning",i)),code:X(F(n,"code",i)),attrs:Object.fromEntries(o.map(t=>{var e;return[t.name,{default:null===(e=null===t||void 0===t?void 0:t.attribute)||void 0===e?void 0:e.default}]}))}),a=X(F(n,"parseHTML",i));a&&(s.parseDOM=a.map(t=>J(t,o)));const l=F(n,"renderHTML",i);return l&&(s.toDOM=t=>l({mark:t,HTMLAttributes:K(t,o)})),[n.name,s]}));return new s.Sj({topNode:a,nodes:l,marks:c})}function G(t,e){return e.nodes[t]||e.marks[t]||null}function Q(t,e){return Array.isArray(e)?e.some(e=>("string"===typeof e?e:e.name)===t.name):e}function tt(t,e){const n=s.ZF.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function et(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class nt{constructor(t){this.find=t.find,this.handler=t.handler}}function rt(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(e=c.nodeBefore||c.nodeAfter)||void 0===e?void 0:e.marks.find(t=>t.type.spec.code)))return!1;let d=!1;const u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(t,e,o,i)=>{var s,a;const l=(null===(a=(s=t.type.spec).toText)||void 0===a?void 0:a.call(s,{node:t,pos:e,parent:o,index:i}))||t.textContent||"%leaf%";n+=t.isAtom&&!t.isText?l:l.slice(0,Math.max(0,r-e))}),n}(c)+i;return s.forEach(t=>{if(d)return;const e=((t,e)=>{if(et(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(u,t.find);if(!e)return;const s=l.state.tr,c=B({state:l.state,transaction:s}),h={from:r-(e[0].length-i.length),to:o},{commands:p,chain:f,can:m}=new z({editor:n,state:c});null!==t.handler({state:c,range:h,match:e,commands:p,chain:f,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:r,to:o,text:i}),l.dispatch(s),d=!0)}),d}function ot(t){const{editor:e,rules:n}=t,o=new r.k_({state:{init:()=>null,apply(t,r,i){const a=t.getMeta(o);if(a)return a;const l=t.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:t}=l;"string"===typeof t||(t=tt(s.FK.from(t),i.schema));const{from:r}=l,a=r+t.length;rt({editor:e,from:r,to:a,text:t,rules:n,plugin:o})}),t.selectionSet||t.docChanged?null:r}},props:{handleTextInput:(t,r,i,s)=>rt({editor:e,from:r,to:i,text:s,rules:n,plugin:o}),handleDOMEvents:{compositionend:t=>(setTimeout(()=>{const{$cursor:r}=t.state.selection;r&&rt({editor:e,from:r.pos,to:r.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(t,r){if("Enter"!==r.key)return!1;const{$cursor:i}=t.state.selection;return!!i&&rt({editor:e,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:o})}},isInputRules:!0});return o}function it(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function st(t,e){const n={...t};return it(t)&&it(e)&&Object.keys(e).forEach(r=>{it(e[r])&&it(t[r])?n[r]=st(t[r],e[r]):n[r]=e[r]}),n}class at{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=X(F(this,"addOptions",{name:this.name}))),this.storage=X(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(){return new at(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.extend({...this.config,addOptions:()=>st(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=new at(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=X(F(e,"addOptions",{name:e.name})),e.storage=X(F(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit(t){let{editor:e,mark:n}=t;const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const t=o.marks();if(!!!t.find(t=>(null===t||void 0===t?void 0:t.type.name)===n.name))return!1;const i=t.find(t=>(null===t||void 0===t?void 0:t.type.name)===n.name);return i&&r.removeStoredMark(i),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}class lt{constructor(t){this.find=t.find,this.handler=t.handler}}function ct(t){const{editor:e,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:d}=new z({editor:e,state:n}),u=[];n.doc.nodesBetween(r,o,(t,e)=>{if(!t.isTextblock||t.type.spec.code)return;const h=Math.max(r,e),p=Math.min(o,e+t.content.size);((t,e,n)=>{if(et(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(e=>{const n=[e.text];return n.index=e.index,n.input=t,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(e.replaceWith)),n}):[]})(t.textBetween(h-e,p-e,void 0,"\ufffc"),i.find,s).forEach(t=>{if(void 0===t.index)return;const e=h+t.index+1,r=e+t[0].length,o={from:n.tr.mapping.map(e),to:n.tr.mapping.map(r)},p=i.handler({state:n,range:o,match:t,commands:l,chain:c,can:d,pasteEvent:s,dropEvent:a});u.push(p)})});return u.every(t=>null!==t)}let dt=null;function ut(t){const{editor:e,rules:n}=t;let o,i=null,a=!1,l=!1,c="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{o="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch{o=null}const d=t=>{let{state:n,from:r,to:i,rule:s,pasteEvt:a}=t;const l=n.tr,d=B({state:n,transaction:l});if(ct({editor:e,state:d,from:Math.max(r-1,0),to:i.b-1,rule:s,pasteEvent:a,dropEvent:o})&&l.steps.length){try{o="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch{o=null}return c="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}};return n.map(t=>new r.k_({view(t){const n=n=>{var r;i=(null===(r=t.dom.parentElement)||void 0===r?void 0:r.contains(n.target))?t.dom.parentElement:null,i&&(dt=e)},r=()=>{dt&&(dt=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(t,e)=>{if(l=i===t.dom.parentElement,o=e,!l){const t=dt;(null===t||void 0===t?void 0:t.isEditable)&&setTimeout(()=>{const e=t.state.selection;e&&t.commands.deleteRange({from:e.from,to:e.to})},10)}return!1},paste:(t,e)=>{var n;const r=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html");return c=e,a=!!(null===r||void 0===r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(e,n,r)=>{const o=e[0],i="paste"===o.getMeta("uiEvent")&&!a,u="drop"===o.getMeta("uiEvent")&&!l,h=o.getMeta("applyPasteRules"),p=!!h;if(!i&&!u&&!p)return;if(p){let{text:e}=h;"string"===typeof e||(e=tt(s.FK.from(e),r.schema));const{from:n}=h,o=n+e.length,i=(t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(e=n.clipboardData)||void 0===e||e.setData("text/html",t),n})(e);return d({rule:t,state:r,from:n,to:{b:o},pasteEvt:i})}const f=n.doc.content.findDiffStart(r.doc.content),m=n.doc.content.findDiffEnd(r.doc.content);return"number"===typeof f&&m&&f!==m.b?d({rule:t,state:r,from:f,to:m,pasteEvt:c}):void 0}}))}class ht{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=ht.resolve(t),this.schema=Z(this.extensions,e),this.setupExtensions()}static resolve(t){const e=ht.sort(ht.flatten(t)),n=function(t){const e=t.filter((e,n)=>t.indexOf(e)!==n);return Array.from(new Set(e))}(e.map(t=>t.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(t=>`'${t}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(t=>{const e=F(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage});return e?[t,...this.flatten(e())]:t}).flat(10)}static sort(t){return t.sort((t,e)=>{const n=F(t,"priority")||100,r=F(e,"priority")||100;return n>r?-1:n<r?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const n=F(e,"addCommands",{name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:G(e.name,this.schema)});return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this,e=ht.sort([...this.extensions].reverse()),n=[],r=[],o=e.map(e=>{const o={name:e.name,options:e.options,storage:e.storage,editor:t,type:G(e.name,this.schema)},s=[],a=F(e,"addKeyboardShortcuts",o);let l={};if("mark"===e.type&&F(e,"exitable",o)&&(l.ArrowRight=()=>at.handleExit({editor:t,mark:e})),a){const e=Object.fromEntries(Object.entries(a()).map(e=>{let[n,r]=e;return[n,()=>r({editor:t})]}));l={...l,...e}}const c=(0,i.w)(l);s.push(c);const d=F(e,"addInputRules",o);Q(e,t.options.enableInputRules)&&d&&n.push(...d());const u=F(e,"addPasteRules",o);Q(e,t.options.enablePasteRules)&&u&&r.push(...u());const h=F(e,"addProseMirrorPlugins",o);if(h){const t=h();s.push(...t)}return s}).flat();return[ot({editor:t,rules:n}),...ut({editor:t,rules:r}),...o]}get attributes(){return H(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=$(this.extensions);return Object.fromEntries(e.filter(t=>!!F(t,"addNodeView")).map(e=>{const n=this.attributes.filter(t=>t.type===e.name),r={name:e.name,options:e.options,storage:e.storage,editor:t,type:U(e.name,this.schema)},o=F(e,"addNodeView",r);if(!o)return[];return[e.name,(r,i,s,a,l)=>{const c=K(r,n);return o()({node:r,view:i,getPos:s,decorations:a,innerDecorations:l,editor:t,extension:e,HTMLAttributes:c})}]}))}setupExtensions(){this.extensions.forEach(t=>{var e;this.editor.extensionStorage[t.name]=t.storage;const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:G(t.name,this.schema)};if("mark"===t.type){(null===(e=X(F(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name)}const r=F(t,"onBeforeCreate",n),o=F(t,"onCreate",n),i=F(t,"onUpdate",n),s=F(t,"onSelectionUpdate",n),a=F(t,"onTransaction",n),l=F(t,"onFocus",n),c=F(t,"onBlur",n),d=F(t,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),i&&this.editor.on("update",i),s&&this.editor.on("selectionUpdate",s),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class pt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=X(F(this,"addOptions",{name:this.name}))),this.storage=X(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(){return new pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.extend({...this.config,addOptions:()=>st(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=new pt({...this.config,...t});return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=X(F(e,"addOptions",{name:e.name})),e.storage=X(F(e,"addStorage",{name:e.name,options:e.options})),e}}function ft(t,e,n){const{from:r,to:o}=e,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,o,(t,n,l,c)=>{var d;t.isBlock&&n>r&&(a+=i);const u=null===s||void 0===s?void 0:s[t.type.name];if(u)return l&&(a+=u({node:t,pos:n,parent:l,index:c,range:e})),!1;t.isText&&(a+=null===(d=null===t||void 0===t?void 0:t.text)||void 0===d?void 0:d.slice(Math.max(r,n)-n,o-n))}),a}function mt(t){return Object.fromEntries(Object.entries(t.nodes).filter(t=>{let[,e]=t;return e.spec.toText}).map(t=>{let[e,n]=t;return[e,n.spec.toText]}))}const gt=pt.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new r.k_({key:new r.hs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(t=>t.$from.pos)),a=Math.max(...i.map(t=>t.$to.pos)),l=mt(n);return ft(r,{from:s,to:a},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});function yt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0};const r=Object.keys(e);return!r.length||r.every(r=>n.strict?e[r]===t[r]:et(e[r])?e[r].test(t[r]):e[r]===t[r])}function vt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.find(t=>t.type===e&&yt(Object.fromEntries(Object.keys(n).map(e=>[e,t.attrs[e]])),n))}function xt(t,e){return!!vt(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function bt(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if(o.node&&o.node.marks.some(t=>t.type===e)||(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(t=>t.type===e))return;n=n||(null===(r=o.node.marks[0])||void 0===r?void 0:r.attrs);if(!vt([...o.node.marks],e,n))return;let i=o.index,s=t.start()+o.offset,a=i+1,l=s+o.node.nodeSize;for(;i>0&&xt([...t.parent.child(i-1).marks],e,n);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&xt([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function wt(t,e){if("string"===typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function kt(t){return t instanceof r.U3}function St(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(t,e),n)}function Ct(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return null;const n=r.LN.atStart(t),o=r.LN.atEnd(t);if("start"===e||!0===e)return n;if("end"===e)return o;const i=n.from,s=o.to;return"all"===e?r.U3.create(t,St(0,i,s),St(t.content.size,i,s)):r.U3.create(t,St(e,i,s),St(e,i,s))}function Et(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function Mt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Tt=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):1===r.nodeType&&Tt(r)}return t};function Ot(t){const e=`<body>${t}</body>`,n=(new window.DOMParser).parseFromString(e,"text/html").body;return Tt(n)}function _t(t,e,n){if(t instanceof s.bP||t instanceof s.FK)return t;n={slice:!0,parseOptions:{},...n};const r="string"===typeof t;if("object"===typeof t&&null!==t)try{if(Array.isArray(t)&&t.length>0)return s.FK.fromArray(t.map(t=>e.nodeFromJSON(t)));const r=e.nodeFromJSON(t);return n.errorOnInvalidContent&&r.check(),r}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),_t("",e,n)}if(r){if(n.errorOnInvalidContent){let r=!1,o="";const i=new s.Sj({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:t=>(r=!0,o="string"===typeof t?t:t.outerHTML,null)}]}})});if(n.slice?s.S4.fromSchema(i).parseSlice(Ot(t),n.parseOptions):s.S4.fromSchema(i).parse(Ot(t),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const r=s.S4.fromSchema(e);return n.slice?r.parseSlice(Ot(t),n.parseOptions).content:r.parse(Ot(t),n.parseOptions)}return _t("",e,n)}function At(){return"undefined"!==typeof navigator&&/Mac/.test(navigator.platform)}function Nt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{from:r,to:o,empty:i}=t.selection,s=e?U(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(t,e)=>{if(t.isText)return;const n=Math.max(r,e),i=Math.min(o,e+t.nodeSize);a.push({node:t,from:n,to:i})});const l=o-r,c=a.filter(t=>!s||s.name===t.node.type.name).filter(t=>yt(t.node.attrs,n,{strict:!1}));if(i)return!!c.length;return c.reduce((t,e)=>t+e.to-e.from,0)>=l}function Pt(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Dt(t,e){const n="string"===typeof e?[e]:e;return Object.keys(t).reduce((e,r)=>(n.includes(r)||(e[r]=t[r]),e),{})}function Rt(t,e){return _t(t,e,{slice:!1,parseOptions:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},errorOnInvalidContent:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).errorOnInvalidContent})}function It(t,e){const n=wt(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,t=>{s.push(...t.marks)});const a=s.find(t=>t.type.name===n.name);return a?{...a.attrs}:{}}function Lt(t){return e=>function(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}(e.$from,t)}function jt(t,e){return ft(t,{from:0,to:t.content.size},e)}function Bt(t,e){const n=Pt("string"===typeof e?e:e.name,t.schema);return"node"===n?function(t,e){const n=U(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,t=>{i.push(t)});const s=i.reverse().find(t=>t.type.name===n.name);return s?{...s.attrs}:{}}(t,e):"mark"===n?It(t,e):{}}function zt(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(e=>{const o=bt(n.resolve(t),e.type);o&&r.push({mark:e,...o})}):n.nodesBetween(t,e,(t,e)=>{t&&void 0!==(null===t||void 0===t?void 0:t.nodeSize)&&r.push(...t.marks.map(n=>({from:e,to:e+t.nodeSize,mark:n})))}),r}function Vt(t,e,n){return Object.fromEntries(Object.entries(n).filter(n=>{let[r]=n;const o=t.find(t=>t.type===e&&t.name===r);return!!o&&o.attribute.keepOnSplit}))}function Ft(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{empty:r,ranges:o}=t.selection,i=e?wt(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(t=>!i||i.name===t.type.name).find(t=>yt(t.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(e=>{let{$from:n,$to:r}=e;const o=n.pos,i=r.pos;t.doc.nodesBetween(o,i,(t,e)=>{if(!t.isText&&!t.marks.length)return;const n=Math.max(o,e),r=Math.min(i,e+t.nodeSize);s+=r-n,a.push(...t.marks.map(t=>({mark:t,from:n,to:r})))})}),0===s)return!1;const l=a.filter(t=>!i||i.name===t.mark.type.name).filter(t=>yt(t.mark.attrs,n,{strict:!1})).reduce((t,e)=>t+e.to-e.from,0),c=a.filter(t=>!i||t.mark.type!==i&&t.mark.type.excludes(i)).reduce((t,e)=>t+e.to-e.from,0);return(l>0?l+c:l)>=s}function $t(t,e){const{nodeExtensions:n}=$(e),r=n.find(e=>e.name===t);if(!r)return!1;const o=X(F(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"===typeof o&&o.split(" ").includes("list")}function Ht(t){let{checkChildren:e=!0,ignoreWhitespace:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(n){if("hardBreak"===t.type.name)return!0;if(t.isText)return/^\s*$/m.test(null!==(r=t.text)&&void 0!==r?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(0===t.content.childCount)return!0;if(e){let r=!0;return t.content.forEach(t=>{!1!==r&&(Ht(t,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function Ut(t){return t instanceof r.nh}function Wt(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(t=>null===e||void 0===e?void 0:e.includes(t.type.name));t.tr.ensureMarks(r)}}const Kt=(t,e)=>{const n=Lt(t=>t.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=t.doc.nodeAt(r);return n.node.type!==(null===o||void 0===o?void 0:o.type)||!(0,a.n9)(t.doc,n.pos)||(t.join(n.pos),!0)},qt=(t,e)=>{const n=Lt(t=>t.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=t.doc.nodeAt(r);return n.node.type!==(null===o||void 0===o?void 0:o.type)||!(0,a.n9)(t.doc,r)||(t.join(r),!0)};var Xt=Object.freeze({__proto__:null,blur:()=>t=>{let{editor:e,view:n}=t;return requestAnimationFrame(()=>{var t;e.isDestroyed||(n.dom.blur(),null===(t=null===window||void 0===window?void 0:window.getSelection())||void 0===t||t.removeAllRanges())}),!0},clearContent:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e=>{let{commands:n}=e;return n.setContent("",t)}},clearNodes:()=>t=>{let{state:e,tr:n,dispatch:r}=t;const{selection:o}=n,{ranges:i}=o;return!r||(i.forEach(t=>{let{$from:r,$to:o}=t;e.doc.nodesBetween(r.pos,o.pos,(t,e)=>{if(t.type.isText)return;const{doc:r,mapping:o}=n,i=r.resolve(o.map(e)),s=r.resolve(o.map(e+t.nodeSize)),l=i.blockRange(s);if(!l)return;const c=(0,a.jP)(l);if(t.type.isTextblock){const{defaultType:t}=i.parent.contentMatchAt(i.index());n.setNodeMarkup(l.start,t)}(c||0===c)&&n.lift(l,c)})}),!0)},command:t=>e=>t(e),createParagraphNear:()=>t=>{let{state:e,dispatch:n}=t;return k(e,n)},cut:(t,e)=>n=>{let{editor:o,tr:i}=n;const{state:s}=o,a=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const l=i.mapping.map(e);return i.insert(l,a.content),i.setSelection(new r.U3(i.doc.resolve(Math.max(l-1,0)))),!0},deleteCurrentNode:()=>t=>{let{tr:e,dispatch:n}=t;const{selection:r}=e,o=r.$anchor.node();if(o.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1){if(i.node(s).type===o.type){if(n){const t=i.before(s),n=i.after(s);e.delete(t,n).scrollIntoView()}return!0}}return!1},deleteNode:t=>e=>{let{tr:n,state:r,dispatch:o}=e;const i=U(t,r.schema),s=n.selection.$anchor;for(let t=s.depth;t>0;t-=1){if(s.node(t).type===i){if(o){const e=s.before(t),r=s.after(t);n.delete(e,r).scrollIntoView()}return!0}}return!1},deleteRange:t=>e=>{let{tr:n,dispatch:r}=e;const{from:o,to:i}=t;return r&&n.delete(o,i),!0},deleteSelection:()=>t=>{let{state:e,dispatch:n}=t;return l(e,n)},enter:()=>t=>{let{commands:e}=t;return e.keyboardShortcut("Enter")},exitCode:()=>t=>{let{state:e,dispatch:n}=t;return w(e,n)},extendMarkRange:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:o,state:i,dispatch:s}=n;const a=wt(t,i.schema),{doc:l,selection:c}=o,{$from:d,from:u,to:h}=c;if(s){const t=bt(d,a,e);if(t&&t.from<=u&&t.to>=h){const e=r.U3.create(l,t.from,t.to);o.setSelection(e)}}return!0}},first:t=>e=>{const n="function"===typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1},focus:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{editor:r,view:o,tr:i,dispatch:s}=n;e={scrollIntoView:!0,...e};const a=()=>{(Mt()||Et())&&o.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(o.focus(),(null===e||void 0===e?void 0:e.scrollIntoView)&&r.commands.scrollIntoView())})};if(o.hasFocus()&&null===t||!1===t)return!0;if(s&&null===t&&!kt(r.state.selection))return a(),!0;const l=Ct(i.doc,t)||r.state.selection,c=r.state.selection.eq(l);return s&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0}},forEach:(t,e)=>n=>t.every((t,r)=>e(t,{...n,index:r})),insertContent:(t,e)=>n=>{let{tr:r,commands:o}=n;return o.insertContentAt({from:r.selection.from,to:r.selection.to},t,e)},insertContentAt:(t,e,n)=>o=>{let{tr:i,dispatch:l,editor:c}=o;var d;if(l){let o;const l=t=>{c.emit("contentError",{editor:c,error:t,disableCollaboration:()=>{c.storage.collaboration&&(c.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...(n={parseOptions:c.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!c.options.enableContentCheck&&c.options.emitContentError)try{_t(e,c.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(u){l(u)}try{o=_t(e,c.schema,{parseOptions:h,errorOnInvalidContent:null!==(d=n.errorOnInvalidContent)&&void 0!==d?d:c.options.enableContentCheck})}catch(u){return l(u),!1}let{from:p,to:f}="number"===typeof t?{from:t,to:t}:{from:t.from,to:t.to},m=!0,g=!0;if(("type"in o?[o]:o).forEach(t=>{t.check(),m=!!m&&(t.isText&&0===t.marks.length),g=!!g&&t.isBlock}),p===f&&g){const{parent:t}=i.doc.resolve(p);t.isTextblock&&!t.type.spec.code&&!t.childCount&&(p-=1,f+=1)}let y;if(m){if(Array.isArray(e))y=e.map(t=>t.text||"").join("");else if(e instanceof s.FK){let t="";e.forEach(e=>{e.text&&(t+=e.text)}),y=t}else y="object"===typeof e&&e&&e.text?e.text:e;i.insertText(y,p,f)}else y=o,i.replaceWith(p,f,y);n.updateSelection&&function(t,e,n){const o=t.steps.length-1;if(o<e)return;const i=t.steps[o];if(!(i instanceof a.Ln||i instanceof a.Wg))return;const s=t.mapping.maps[o];let l=0;s.forEach((t,e,n,r)=>{0===l&&(l=r)}),t.setSelection(r.LN.near(t.doc.resolve(l),n))}(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:p,text:y}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:p,text:y})}return!0},joinBackward:()=>t=>{let{state:e,dispatch:n}=t;return d(e,n)},joinDown:()=>t=>{let{state:e,dispatch:n}=t;return((t,e)=>{let n,o=t.selection;if(o instanceof r.nh){if(o.node.isTextblock||!(0,a.n9)(t.doc,o.to))return!1;n=o.to}else if(n=(0,a.N0)(t.doc,o.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0})(e,n)},joinForward:()=>t=>{let{state:e,dispatch:n}=t;return g(e,n)},joinItemBackward:()=>t=>{let{state:e,dispatch:n,tr:r}=t;try{const t=(0,a.N0)(e.doc,e.selection.$from.pos,-1);return null!==t&&void 0!==t&&(r.join(t,2),n&&n(r),!0)}catch{return!1}},joinItemForward:()=>t=>{let{state:e,dispatch:n,tr:r}=t;try{const t=(0,a.N0)(e.doc,e.selection.$from.pos,1);return null!==t&&void 0!==t&&(r.join(t,2),n&&n(r),!0)}catch{return!1}},joinTextblockBackward:()=>t=>{let{state:e,dispatch:n}=t;return((t,e,n)=>{let r=c(t,n);if(!r)return!1;let o=f(r);return!!o&&u(t,o,e)})(e,n)},joinTextblockForward:()=>t=>{let{state:e,dispatch:n}=t;return((t,e,n)=>{let r=m(t,n);if(!r)return!1;let o=v(r);return!!o&&u(t,o,e)})(e,n)},joinUp:()=>t=>{let{state:e,dispatch:n}=t;return((t,e)=>{let n,o=t.selection,i=o instanceof r.nh;if(i){if(o.node.isTextblock||!(0,a.n9)(t.doc,o.from))return!1;n=o.from}else if(n=(0,a.N0)(t.doc,o.from,-1),null==n)return!1;if(e){let o=t.tr.join(n);i&&o.setSelection(r.nh.create(o.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0})(e,n)},keyboardShortcut:t=>e=>{let{editor:n,view:r,tr:o,dispatch:i}=e;const s=function(t){const e=t.split(/-(?!$)/);let n,r,o,i,s=e[e.length-1];"Space"===s&&(s=" ");for(let a=0;a<e.length-1;a+=1){const t=e[a];if(/^(cmd|meta|m)$/i.test(t))i=!0;else if(/^a(lt)?$/i.test(t))n=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))o=!0;else{if(!/^mod$/i.test(t))throw new Error(`Unrecognized modifier name: ${t}`);Mt()||At()?i=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),i&&(s=`Meta-${s}`),o&&(s=`Shift-${s}`),s}(t).split(/-(?!$)/),a=s.find(t=>!["Alt","Ctrl","Meta","Shift"].includes(t)),l=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=n.captureTransaction(()=>{r.someProp("handleKeyDown",t=>t(r,l))});return null===c||void 0===c||c.steps.forEach(t=>{const e=t.map(o.mapping);e&&i&&o.maybeStep(e)}),!0},lift:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return!!Nt(r,U(t,r.schema),e)&&((t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&(0,a.jP)(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)})(r,o)}},liftEmptyBlock:()=>t=>{let{state:e,dispatch:n}=t;return S(e,n)},liftListItem:t=>e=>{let{state:n,dispatch:r}=e;return j(U(t,n.schema))(n,r)},newlineInCode:()=>t=>{let{state:e,dispatch:n}=t;return x(e,n)},resetAttributes:(t,e)=>n=>{let{tr:r,state:o,dispatch:i}=n,s=null,a=null;const l=Pt("string"===typeof t?t:t.name,o.schema);return!!l&&("node"===l&&(s=U(t,o.schema)),"mark"===l&&(a=wt(t,o.schema)),i&&r.selection.ranges.forEach(t=>{o.doc.nodesBetween(t.$from.pos,t.$to.pos,(t,n)=>{s&&s===t.type&&r.setNodeMarkup(n,void 0,Dt(t.attrs,e)),a&&t.marks.length&&t.marks.forEach(o=>{a===o.type&&r.addMark(n,n+t.nodeSize,a.create(Dt(o.attrs,e)))})})}),!0)},scrollIntoView:()=>t=>{let{tr:e,dispatch:n}=t;return n&&e.scrollIntoView(),!0},selectAll:()=>t=>{let{tr:e,dispatch:n}=t;if(n){const t=new r.i5(e.doc);e.setSelection(t)}return!0},selectNodeBackward:()=>t=>{let{state:e,dispatch:n}=t;return p(e,n)},selectNodeForward:()=>t=>{let{state:e,dispatch:n}=t;return y(e,n)},selectParentNode:()=>t=>{let{state:e,dispatch:n}=t;return((t,e)=>{let n,{$from:o,to:i}=t.selection,s=o.sharedDepth(i);return 0!=s&&(n=o.before(s),e&&e(t.tr.setSelection(r.nh.create(t.doc,n))),!0)})(e,n)},selectTextblockEnd:()=>t=>{let{state:e,dispatch:n}=t;return _(e,n)},selectTextblockStart:()=>t=>{let{state:e,dispatch:n}=t;return O(e,n)},setContent:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{let{editor:i,tr:s,dispatch:a,commands:l}=o;var c,d;const{doc:u}=s;if("full"!==n.preserveWhitespace){const o=Rt(t,i.schema,n,{errorOnInvalidContent:null!==(c=r.errorOnInvalidContent)&&void 0!==c?c:i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,o).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:null!==(d=r.errorOnInvalidContent)&&void 0!==d?d:i.options.enableContentCheck})}},setMark:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:i}=n;const{selection:s}=r,{empty:a,ranges:l}=s,c=wt(t,o.schema);if(i)if(a){const t=It(o,c);r.addStoredMark(c.create({...t,...e}))}else l.forEach(t=>{const n=t.$from.pos,i=t.$to.pos;o.doc.nodesBetween(n,i,(t,o)=>{const s=Math.max(o,n),a=Math.min(o+t.nodeSize,i);t.marks.find(t=>t.type===c)?t.marks.forEach(t=>{c===t.type&&r.addMark(s,a,c.create({...t.attrs,...e}))}):r.addMark(s,a,c.create(e))})});return function(t,e,n){var r;const{selection:o}=e;let i=null;if(kt(o)&&(i=o.$cursor),i){const e=null!==(r=t.storedMarks)&&void 0!==r?r:i.marks();return!!n.isInSet(e)||!e.some(t=>t.type.excludes(n))}const{ranges:s}=o;return s.some(e=>{let{$from:r,$to:o}=e,i=0===r.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(n);return t.doc.nodesBetween(r.pos,o.pos,(t,e,r)=>{if(i)return!1;if(t.isInline){const e=!r||r.type.allowsMarkType(n),o=!!n.isInSet(t.marks)||!t.marks.some(t=>t.type.excludes(n));i=e&&o}return!i}),i})}(o,r,c)}},setMeta:(t,e)=>n=>{let{tr:r}=n;return r.setMeta(t,e),!0},setNode:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o,chain:i}=n;const s=U(t,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),s.isTextblock?i().command(t=>{let{commands:n}=t;return!!A(s,{...a,...e})(r)||n.clearNodes()}).command(t=>{let{state:n}=t;return A(s,{...a,...e})(n,o)}).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)}},setNodeSelection:t=>e=>{let{tr:n,dispatch:o}=e;if(o){const{doc:e}=n,o=St(t,0,e.content.size),i=r.nh.create(e,o);n.setSelection(i)}return!0},setTextSelection:t=>e=>{let{tr:n,dispatch:o}=e;if(o){const{doc:e}=n,{from:o,to:i}="number"===typeof t?{from:t,to:t}:t,s=r.U3.atStart(e).from,a=r.U3.atEnd(e).to,l=St(o,s,a),c=St(i,s,a),d=r.U3.create(e,l,c);n.setSelection(d)}return!0},sinkListItem:t=>e=>{let{state:n,dispatch:r}=e;const o=U(t,n.schema);return(i=o,function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,t=>t.childCount>0&&t.firstChild.type==i);if(!o)return!1;let l=o.startIndex;if(0==l)return!1;let c=o.parent,d=c.child(l-1);if(d.type!=i)return!1;if(e){let n=d.lastChild&&d.lastChild.type==c.type,r=s.FK.from(n?i.create():null),l=new s.Ji(s.FK.from(i.create(null,s.FK.from(c.type.create(null,r)))),n?3:1,0),u=o.start,h=o.end;e(t.tr.step(new a.Wg(u-(n?3:1),h,u,h,l,1,!0)).scrollIntoView())}return!0})(n,r);var i},splitBlock:function(){let{keepMarks:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=>{let{tr:n,state:o,dispatch:i,editor:s}=e;const{selection:l,doc:c}=n,{$from:d,$to:u}=l,h=Vt(s.extensionManager.attributes,d.node().type.name,d.node().attrs);if(l instanceof r.nh&&l.node.isBlock)return!(!d.parentOffset||!(0,a.zy)(c,d.pos))&&(i&&(t&&Wt(o,s.extensionManager.splittableMarks),n.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const p=u.parentOffset===u.parent.content.size,f=0===d.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(d.node(-1).contentMatchAt(d.indexAfter(-1)));let m=p&&f?[{type:f,attrs:h}]:void 0,g=(0,a.zy)(n.doc,n.mapping.map(d.pos),1,m);if(m||g||!(0,a.zy)(n.doc,n.mapping.map(d.pos),1,f?[{type:f}]:void 0)||(g=!0,m=f?[{type:f,attrs:h}]:void 0),i){if(g&&(l instanceof r.U3&&n.deleteSelection(),n.split(n.mapping.map(d.pos),1,m),f&&!p&&!d.parentOffset&&d.parent.type!==f)){const t=n.mapping.map(d.before()),e=n.doc.resolve(t);d.node(-1).canReplaceWith(e.index(),e.index()+1,f)&&n.setNodeMarkup(n.mapping.map(d.before()),f)}t&&Wt(o,s.extensionManager.splittableMarks),n.scrollIntoView()}return g}},splitListItem:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:o,state:i,dispatch:l,editor:c}=n;var d;const u=U(t,i.schema),{$from:h,$to:p}=i.selection,f=i.selection.node;if(f&&f.isBlock||h.depth<2||!h.sameParent(p))return!1;const m=h.node(-1);if(m.type!==u)return!1;const g=c.extensionManager.attributes;if(0===h.parent.content.size&&h.node(-1).childCount===h.indexAfter(-1)){if(2===h.depth||h.node(-3).type!==u||h.index(-2)!==h.node(-2).childCount-1)return!1;if(l){let t=s.FK.empty;const n=h.index(-1)?1:h.index(-2)?2:3;for(let e=h.depth-n;e>=h.depth-3;e-=1)t=s.FK.from(h.node(e).copy(t));const i=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,a={...Vt(g,h.node().type.name,h.node().attrs),...e},l=(null===(d=u.contentMatch.defaultType)||void 0===d?void 0:d.createAndFill(a))||void 0;t=t.append(s.FK.from(u.createAndFill(null,l)||void 0));const c=h.before(h.depth-(n-1));o.replace(c,h.after(-i),new s.Ji(t,4-n,0));let p=-1;o.doc.nodesBetween(c,o.doc.content.size,(t,e)=>{if(p>-1)return!1;t.isTextblock&&0===t.content.size&&(p=e+1)}),p>-1&&o.setSelection(r.U3.near(o.doc.resolve(p))),o.scrollIntoView()}return!0}const y=p.pos===h.end()?m.contentMatchAt(0).defaultType:null,v={...Vt(g,m.type.name,m.attrs),...e},x={...Vt(g,h.node().type.name,h.node().attrs),...e};o.delete(h.pos,p.pos);const b=y?[{type:u,attrs:v},{type:y,attrs:x}]:[{type:u,attrs:v}];if(!(0,a.zy)(o.doc,h.pos,2))return!1;if(l){const{selection:t,storedMarks:e}=i,{splittableMarks:n}=c.extensionManager,r=e||t.$to.parentOffset&&t.$from.marks();if(o.split(h.pos,2,b).scrollIntoView(),!r||!l)return!0;const s=r.filter(t=>n.includes(t.type.name));o.ensureMarks(s)}return!0}},toggleList:function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{let{editor:i,tr:s,state:a,dispatch:l,chain:c,commands:d,can:u}=o;const{extensions:h,splittableMarks:p}=i.extensionManager,f=U(t,a.schema),m=U(e,a.schema),{selection:g,storedMarks:y}=a,{$from:v,$to:x}=g,b=v.blockRange(x),w=y||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const k=Lt(t=>$t(t.type.name,h))(g);if(b.depth>=1&&k&&b.depth-k.depth<=1){if(k.node.type===f)return d.liftListItem(m);if($t(k.node.type.name,h)&&f.validContent(k.node.content)&&l)return c().command(()=>(s.setNodeMarkup(k.pos,f),!0)).command(()=>Kt(s,f)).command(()=>qt(s,f)).run()}return n&&w&&l?c().command(()=>{const t=u().wrapInList(f,r),e=w.filter(t=>p.includes(t.type.name));return s.ensureMarks(e),!!t||d.clearNodes()}).wrapInList(f,r).command(()=>Kt(s,f)).command(()=>qt(s,f)).run():c().command(()=>!!u().wrapInList(f,r)||d.clearNodes()).wrapInList(f,r).command(()=>Kt(s,f)).command(()=>qt(s,f)).run()}},toggleMark:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:o,commands:i}=r;const{extendEmptyMarkRange:s=!1}=n,a=wt(t,o.schema);return Ft(o,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)}},toggleNode:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:o,commands:i}=r;const s=U(t,o.schema),a=U(e,o.schema),l=Nt(o,s,n);let c;return o.selection.$anchor.sameParent(o.selection.$head)&&(c=o.selection.$anchor.parent.attrs),l?i.setNode(a,c):i.setNode(s,{...c,...n})}},toggleWrap:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,commands:o}=n;const i=U(t,r.schema);return Nt(r,i,e)?o.lift(i):o.wrapIn(i,e)}},undoInputRule:()=>t=>{let{state:e,dispatch:n}=t;const r=e.plugins;for(let o=0;o<r.length;o+=1){const t=r[o];let i;if(t.spec.isInputRules&&(i=t.getState(e))){if(n){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>t=>{let{tr:e,dispatch:n}=t;const{selection:r}=e,{empty:o,ranges:i}=r;return o||n&&i.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},unsetMark:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:i}=n;var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=r,c=wt(t,o.schema),{$from:d,empty:u,ranges:h}=l;if(!i)return!0;if(u&&a){let{from:t,to:e}=l;const n=null===(s=d.marks().find(t=>t.type===c))||void 0===s?void 0:s.attrs,o=bt(d,c,n);o&&(t=o.from,e=o.to),r.removeMark(t,e,c)}else h.forEach(t=>{r.removeMark(t.$from.pos,t.$to.pos,c)});return r.removeStoredMark(c),!0}},updateAttributes:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:i}=n,s=null,a=null;const l=Pt("string"===typeof t?t:t.name,o.schema);return!!l&&("node"===l&&(s=U(t,o.schema)),"mark"===l&&(a=wt(t,o.schema)),i&&r.selection.ranges.forEach(t=>{const n=t.$from.pos,i=t.$to.pos;let l,c,d,u;r.selection.empty?o.doc.nodesBetween(n,i,(t,e)=>{s&&s===t.type&&(d=Math.max(e,n),u=Math.min(e+t.nodeSize,i),l=e,c=t)}):o.doc.nodesBetween(n,i,(t,o)=>{o<n&&s&&s===t.type&&(d=Math.max(o,n),u=Math.min(o+t.nodeSize,i),l=o,c=t),o>=n&&o<=i&&(s&&s===t.type&&r.setNodeMarkup(o,void 0,{...t.attrs,...e}),a&&t.marks.length&&t.marks.forEach(s=>{if(a===s.type){const l=Math.max(o,n),c=Math.min(o+t.nodeSize,i);r.addMark(l,c,a.create({...s.attrs,...e}))}}))}),c&&(void 0!==l&&r.setNodeMarkup(l,void 0,{...c.attrs,...e}),a&&c.marks.length&&c.marks.forEach(t=>{a===t.type&&r.addMark(d,u,a.create({...t.attrs,...e}))}))}),!0)}},wrapIn:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),l=s&&(0,a.oM)(s,t,e);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}(U(t,r.schema),e)(r,o)}},wrapInList:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return L(U(t,r.schema),e)(r,o)}}});const Jt=pt.create({name:"commands",addCommands:()=>({...Xt})}),Yt=pt.create({name:"drop",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Zt=pt.create({name:"editable",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Gt=new r.hs("focusEvents"),Qt=pt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new r.k_({key:Gt,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),te=pt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(t=>{let{commands:e}=t;return[()=>e.undoInputRule(),()=>e.command(t=>{let{tr:n}=t;const{selection:o,doc:i}=n,{empty:s,$anchor:a}=o,{pos:l,parent:c}=a,d=a.parent.isTextblock&&l>0?n.doc.resolve(l-1):a,u=d.parent.type.spec.isolating,h=a.pos-a.parentOffset,p=u&&1===d.parent.childCount?h===a.pos:r.LN.atStart(i).from===l;return!(!s||!c.type.isTextblock||c.textContent.length||!p||p&&"paragraph"===a.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]}),e=()=>this.editor.commands.first(t=>{let{commands:e}=t;return[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]}),n={Enter:()=>this.editor.commands.first(t=>{let{commands:e}=t;return[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]}),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Mt()||At()?i:o},addProseMirrorPlugins(){return[new r.k_({key:new r.hs("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(t=>t.getMeta("composition")))return;const o=t.some(t=>t.docChanged)&&!e.doc.eq(n.doc),i=t.some(t=>t.getMeta("preventClearDocument"));if(!o||i)return;const{empty:s,from:a,to:l}=e.selection,c=r.LN.atStart(e.doc).from,d=r.LN.atEnd(e.doc).to;if(s||!(a===c&&l===d))return;if(!Ht(n.doc))return;const u=n.tr,h=B({state:n,transaction:u}),{commands:p}=new z({editor:this.editor,state:h});return p.clearNodes(),u.steps.length?u:void 0}})]}}),ee=pt.create({name:"paste",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),ne=pt.create({name:"tabindex",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class re{get name(){return this.node.type.name}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=e,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return null!==(t=this.actualDepth)&&void 0!==t?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let e=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);e=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:e,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),e=this.resolvedPos.doc.resolve(t);return new re(e,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new re(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new re(t,this.editor)}get children(){const t=[];return this.node.content.forEach((e,n)=>{const r=e.isBlock&&!e.isTextblock,o=e.isAtom&&!e.isText,i=this.pos+n+(o?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(i);if(!r&&s.depth<=this.depth)return;const a=new re(s,this.editor,r,r?e:null);r&&(a.actualDepth=this.depth+1),t.push(new re(s,this.editor,r,r?e:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===t)if(Object.keys(e).length>0){const t=r.node.attrs,n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];if(t[o]!==e[o])break}}else n=r;r=r.parent}return n}querySelector(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.querySelectorAll(t,e,!0)[0]||null}querySelectorAll(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.children||0===this.children.length)return r;const o=Object.keys(e);return this.children.forEach(i=>{if(!(n&&r.length>0)){if(i.node.type.name===t){o.every(t=>e[t]===i.node.attrs[t])&&r.push(i)}n&&r.length>0||(r=r.concat(i.querySelectorAll(t,e,n)))}}),r}setAttribute(t){const{tr:e}=this.editor.state;e.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(e)}}class oe extends V{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:t=>{let{error:e}=t;throw e},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",t=>{let{event:e,slice:n,moved:r}=t;return this.options.onDrop(e,n,r)}),this.on("paste",t=>{let{event:e,slice:n}=t;return this.options.onPaste(e,n)}),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=q(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(t=>{const e="string"===typeof t?`${t}$`:t.key;n=n.filter(t=>!t.key.startsWith(e))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[Zt,gt.configure({blockSeparator:null===(e=null===(t=this.options.coreExtensionOptions)||void 0===t?void 0:t.clipboardTextSerializer)||void 0===e?void 0:e.blockSeparator}),Jt,Qt,te,ne,Yt,ee].filter(t=>"object"!==typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[t.name]):[],...this.options.extensions].filter(t=>["extension","node","mark"].includes(null===t||void 0===t?void 0:t.type));this.extensionManager=new ht(n,this)}createCommandManager(){this.commandManager=new z({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let e;try{e=Rt(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>"collaboration"!==t.name),this.createExtensionManager()}}),e=Rt(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=Ct(e,this.options.autofocus);this.view=new o.Lz(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...null===(t=this.options.editorProps)||void 0===t?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:r.$t.create({doc:e,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach(t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)}):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),o=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return Bt(this.state,t)}isActive(t,e){const n="string"===typeof t?t:null,r="string"===typeof t?e:t;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return Nt(t,null,n)||Ft(t,null,n);const r=Pt(e,t.schema);return"node"===r?Nt(t,e,n):"mark"===r&&Ft(t,e,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tt(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e="\n\n",textSerializers:n={}}=t||{};return jt(this.state.doc,{blockSeparator:e,textSerializers:{...mt(this.schema),...n}})}get isEmpty(){return Ht(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}$node(t,e){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new re(e,this)}get $doc(){return this.$pos(0)}}function ie(t){return new nt({find:t.find,handler:e=>{let{state:n,range:r,match:o}=e;const i=X(t.getAttributes,void 0,o);if(!1===i||null===i)return null;const{tr:s}=n,a=o[o.length-1],l=o[0];if(a){const e=l.search(/\S/),o=r.from+l.indexOf(a),c=o+a.length;if(zt(r.from,r.to,n.doc).filter(e=>e.mark.type.excluded.find(n=>n===t.type&&n!==e.mark.type)).filter(t=>t.to>o).length)return null;c<r.to&&s.delete(c,r.to),o>r.from&&s.delete(r.from+e,o);const d=r.from+e+a.length;s.addMark(r.from+e,d,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function se(t){return new nt({find:t.find,handler:e=>{let{state:n,range:r,match:o}=e;const i=X(t.getAttributes,void 0,o)||{},{tr:s}=n,a=r.from;let l=r.to;const c=t.type.create(i);if(o[1]){let t=a+o[0].lastIndexOf(o[1]);t>l?t=l:l=t+o[1].length;const e=o[0][o[0].length-1];s.insertText(e,a+o[0].length-1),s.replaceWith(t,l,c)}else if(o[0]){const e=t.type.isInline?a:a-1;s.insert(e,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()}})}function ae(t){return new nt({find:t.find,handler:e=>{let{state:n,range:r,match:o}=e;const i=n.doc.resolve(r.from),s=X(t.getAttributes,void 0,o)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)}})}function le(t){return new nt({find:t.find,handler:e=>{let{state:n,range:r,match:o,chain:i}=e;const s=X(t.getAttributes,void 0,o)||{},l=n.tr.delete(r.from,r.to),c=l.doc.resolve(r.from).blockRange(),d=c&&(0,a.oM)(c,t.type,s);if(!d)return null;if(l.wrap(c,d),t.keepMarks&&t.editor){const{selection:e,storedMarks:r}=n,{splittableMarks:o}=t.editor.extensionManager,i=r||e.$to.parentOffset&&e.$from.marks();if(i){const t=i.filter(t=>o.includes(t.type.name));l.ensureMarks(t)}}if(t.keepAttributes){const e="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";i().updateAttributes(e,s).run()}const u=l.doc.resolve(r.from-1).nodeBefore;u&&u.type===t.type&&(0,a.n9)(l.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(o,u))&&l.join(r.from-1)}})}class ce{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=X(F(this,"addOptions",{name:this.name}))),this.storage=X(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(){return new ce(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.extend({...this.config,addOptions:()=>st(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=new ce(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=X(F(e,"addOptions",{name:e.name})),e.storage=X(F(e,"addStorage",{name:e.name,options:e.options})),e}}class de{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,o,i,s,a,l;const{view:c}=this.editor,d=t.target,u=3===d.nodeType?null===(e=d.parentElement)||void 0===e?void 0:e.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(d))||!u)return;let h=0,p=0;if(this.dom!==u){const e=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),r=null!==(o=t.offsetX)&&void 0!==o?o:null===(i=t.nativeEvent)||void 0===i?void 0:i.offsetX,l=null!==(s=t.offsetY)&&void 0!==s?s:null===(a=t.nativeEvent)||void 0===a?void 0:a.offsetY;h=n.x-e.x+r,p=n.y-e.y+l}const f=this.dom.cloneNode(!0);null===(l=t.dataTransfer)||void 0===l||l.setDragImage(f,h,p);const m=this.getPos();if("number"!==typeof m)return;const g=r.nh.create(c.state.doc,m),y=c.state.tr.setSelection(g);c.dispatch(y)}stopEvent(t){var e;if(!this.dom)return!1;if("function"===typeof this.options.stopEvent)return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!(null===(e=this.contentDOM)||void 0===e?void 0:e.contains(n))))return!1;const o=t.type.startsWith("drag"),i="drop"===t.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!i&&!o)return!0;const{isEditable:s}=this.editor,{isDragging:a}=this,l=!!this.node.type.spec.draggable,c=r.nh.isSelectable(this.node),d="copy"===t.type,u="paste"===t.type,h="cut"===t.type,p="mousedown"===t.type;if(!l&&c&&o&&t.target===this.dom&&t.preventDefault(),l&&o&&!a&&t.target===this.dom)return t.preventDefault(),!1;if(l&&s&&!a&&p){const t=n.closest("[data-drag-handle]");t&&(this.dom===t||this.dom.contains(t))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(a||i||d||u||h||p&&c)}ignoreMutation(t){if(!this.dom||!this.contentDOM)return!0;if("function"===typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:t});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===t.type)return!1;if(this.dom.contains(t.target)&&"childList"===t.type&&(Mt()||Et())&&this.editor.isFocused){if([...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(t=>t.isContentEditable))return!1}return this.contentDOM===t.target&&"attributes"===t.type||!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(e=>{let{tr:n}=e;const r=this.getPos();return"number"===typeof r&&(n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if("number"!==typeof t)return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}}function ue(t){return new lt({find:t.find,handler:e=>{let{state:n,range:r,match:o,pasteEvent:i}=e;const s=X(t.getAttributes,void 0,o,i);if(!1===s||null===s)return null;const{tr:a}=n,l=o[o.length-1],c=o[0];let d=r.to;if(l){const e=c.search(/\S/),o=r.from+c.indexOf(l),i=o+l.length;if(zt(r.from,r.to,n.doc).filter(e=>e.mark.type.excluded.find(n=>n===t.type&&n!==e.mark.type)).filter(t=>t.to>o).length)return null;i<r.to&&a.delete(i,r.to),o>r.from&&a.delete(r.from+e,o),d=r.from+e+l.length,a.addMark(r.from+e,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function he(t,e){const{selection:n}=t,{$from:o}=n;if(n instanceof r.nh){const t=o.index();return o.parent.canReplaceWith(t,t+1,e)}let i=o.depth;for(;i>=0;){const t=o.index(i);if(o.node(i).contentMatchAt(t).matchType(e))return!0;i-=1}return!1}},141:t=>{t.exports=function(t){return void 0===t}},143:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},149:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},191:(t,e,n)=>{"use strict";var r=n(5750);t.exports=i;var o="\0";function i(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function s(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function l(t,e,n,o){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}return i+"\x01"+s+"\x01"+(r.isUndefined(o)?"\0":o)}function c(t,e){return l(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._in[e])})},i.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._out[e])})},i.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,function(t){n.length>1?o.setNode(t,e):o.setNode(t)}),this},i.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return r.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=o;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},i.prototype.children=function(t){if(r.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),r.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var o={};function i(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(o[t]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(e.nodes(),function(t){e.setParent(t,i(t))}),e},i.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r}),this},i.prototype.setEdge=function(){var t,e,n,o,i=!1,a=arguments[0];"object"===typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(o=arguments[1],i=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var c=l(this._isDirected,t,e,n);if(r.has(this._edgeLabels,c))return i&&(this._edgeLabels[c]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[c]=i?o:this._defaultEdgeLabelFn(t,e,n);var d=function(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var s=o;o=i,i=s}var a={v:o,w:i};r&&(a.name=r);return a}(this._isDirected,t,e,n);return t=d.v,e=d.w,Object.freeze(d),this._edgeObjs[c]=d,s(this._preds[e],t),s(this._sucs[t],e),this._in[e][c]=d,this._out[t][c]=d,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,function(t){return t.v===e}):o}},i.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,function(t){return t.w===e}):o}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},247:(t,e,n)=>{var r=n(5750),o=n(8808);t.exports=function(t){return r.filter(o(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},293:(t,e,n)=>{"use strict";n.d(e,{E:()=>o});var r=n(5043);const o=n(4735).B?r.useLayoutEffect:r.useEffect},310:(t,e,n)=>{var r=n(1817),o=n(5990),i=n(6140);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},320:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},388:(t,e,n)=>{var r=n(8208),o=n(5641);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,function(t){return r.has(t,"barycenter")}),s=n.lhs,a=r.sortBy(n.rhs,function(t){return-t.i}),l=[],c=0,d=0,u=0;s.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),u=i(l,a,u),r.forEach(s,function(t){u+=t.vs.length,l.push(t.vs),c+=t.barycenter*t.weight,d+=t.weight,u=i(l,a,u)});var h;var p={vs:r.flatten(l,!0)};d&&(p.barycenter=c/d,p.weight=d);return p}},396:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},411:()=>{},438:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).get(t)}},449:(t,e,n)=>{var r=n(6924),o=n(2761);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},450:(t,e,n)=>{var r=n(755),o=n(5647),i=n(4416),s=n(6272),a=o(function(t){return i(r(t,1,s,!0))});t.exports=a},474:(t,e,n)=>{var r=n(823),o=n(8122),i=n(6571);t.exports=function(t){return i(t)?r(t,!0):o(t)}},539:(t,e,n)=>{var r=n(9742),o=n(7498),i=n(3279);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},550:(t,e,n)=>{"use strict";var r=n(8208),o=n(5819),i=n(4308),s=n(9791),a=n(1987),l=n(8381),c=n(7938).Graph,d=n(5641);function u(t,e,n){return r.map(e,function(e){return a(t,e,n)})}function h(t,e){var n=new c;r.forEach(t,function(t){var o=t.graph().root,i=s(t,o,n,e);r.forEach(i.vs,function(e,n){t.node(e).order=n}),l(t,n,i.vs)})}function p(t,e){r.forEach(e,function(e){r.forEach(e,function(e,n){t.node(e).order=n})})}t.exports=function(t){var e=d.maxRank(t),n=u(t,r.range(1,e+1),"inEdges"),s=u(t,r.range(e-1,-1,-1),"outEdges"),a=o(t);p(t,a);for(var l,c=Number.POSITIVE_INFINITY,f=0,m=0;m<4;++f,++m){h(f%2?n:s,f%4>=2),a=d.buildLayerMatrix(t);var g=i(t,a);g<c&&(m=0,l=r.cloneDeep(a),c=g)}p(t,l)}},614:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},620:(t,e,n)=>{var r=n(6913),o=n(4052),i=n(2761);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},644:t=>{t.exports=function(t){return t!==t}},705:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},723:(t,e,n)=>{var r=n(7529),o=n(7171),i=n(9096),s=n(4052);t.exports=function(t,e){return(s(t)?r:o)(t,i(e,3))}},726:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},755:(t,e,n)=>{var r=n(8895),o=n(7116);t.exports=function t(e,n,i,s,a){var l=-1,c=e.length;for(i||(i=o),a||(a=[]);++l<c;){var d=e[l];n>0&&i(d)?n>1?t(d,n-1,i,s,a):r(a,d):s||(a[a.length]=d)}return a}},764:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},793:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},801:(t,e,n)=>{var r=n(1141),o=n(6686),i=n(9841),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=a.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):s.test(t)?NaN:+t}},819:(t,e,n)=>{var r=n(755);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},823:(t,e,n)=>{var r=n(3343),o=n(2777),i=n(4052),s=n(4543),a=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),d=!n&&o(t),u=!n&&!d&&s(t),h=!n&&!d&&!u&&l(t),p=n||d||u||h,f=p?r(t.length,String):[],m=f.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},914:(t,e,n)=>{var r=n(9841);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},929:(t,e,n)=>{var r=n(3211),o=n(6571),i=n(9194),s=n(6686);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?o(n)&&i(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},954:(t,e,n)=>{"use strict";n.d(e,{A:()=>wt});var r=n(129);const o=/^\s*>\s$/,i=r.bP.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML(t){let{HTMLAttributes:e}=t;return["blockquote",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>t=>{let{commands:e}=t;return e.wrapIn(this.name)},toggleBlockquote:()=>t=>{let{commands:e}=t;return e.toggleWrap(this.name)},unsetBlockquote:()=>t=>{let{commands:e}=t;return e.lift(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,r.tG)({find:o,type:this.type})]}}),s=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,a=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,l=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,c=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,d=r.CU.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML(t){let{HTMLAttributes:e}=t;return["strong",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>t=>{let{commands:e}=t;return e.setMark(this.name)},toggleBold:()=>t=>{let{commands:e}=t;return e.toggleMark(this.name)},unsetBold:()=>t=>{let{commands:e}=t;return e.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,r.OX)({find:s,type:this.type}),(0,r.OX)({find:l,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:a,type:this.type}),(0,r.Zc)({find:c,type:this.type})]}}),u="textStyle",h=/^\s*([-+*])\s$/,p=r.bP.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML(t){let{HTMLAttributes:e}=t;return["ul",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>t=>{let{commands:e,chain:n}=t;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(u)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=(0,r.tG)({find:h,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,r.tG)({find:h,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(u),editor:this.editor})),[t]}}),f=/(^|[^`])`([^`]+)`(?!`)/,m=/(^|[^`])`([^`]+)`(?!`)/g,g=r.CU.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML(t){let{HTMLAttributes:e}=t;return["code",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>t=>{let{commands:e}=t;return e.setMark(this.name)},toggleCode:()=>t=>{let{commands:e}=t;return e.toggleMark(this.name)},unsetCode:()=>t=>{let{commands:e}=t;return e.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,r.OX)({find:f,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:m,type:this.type})]}});var y=n(7184);const v=/^```([a-z]+)?[\s\n]$/,x=/^~~~([a-z]+)?[\s\n]$/,b=r.bP.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,r=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter(t=>t.startsWith(n)).map(t=>t.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML(t){let{node:e,HTMLAttributes:n}=t;return["pre",(0,r.KV)(this.options.HTMLAttributes,n),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>e=>{let{commands:n}=e;return n.setNode(this.name,t)},toggleCodeBlock:t=>e=>{let{commands:n}=e;return n.toggleNode(this.name,"paragraph",t)}}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:t=>{let{editor:e}=t;if(!this.options.exitOnTripleEnter)return!1;const{state:n}=e,{selection:r}=n,{$from:o,empty:i}=r;if(!i||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith("\n\n");return!(!s||!a)&&e.chain().command(t=>{let{tr:e}=t;return e.delete(o.pos-2,o.pos),!0}).exitCode().run()},ArrowDown:t=>{let{editor:e}=t;if(!this.options.exitOnArrowDown)return!1;const{state:n}=e,{selection:r,doc:o}=n,{$from:i,empty:s}=r;if(!s||i.parent.type!==this.type)return!1;if(!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();if(void 0===a)return!1;return o.nodeAt(a)?e.commands.command(t=>{let{tr:e}=t;return e.setSelection(y.LN.near(o.resolve(a))),!0}):e.commands.exitCode()}}},addInputRules(){return[(0,r.JJ)({find:v,type:this.type,getAttributes:t=>({language:t[1]})}),(0,r.JJ)({find:x,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new y.k_({key:new y.hs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=null===o||void 0===o?void 0:o.mode;if(!n||!i)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(y.U3.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),w=r.bP.create({name:"doc",topNode:!0,content:"block+"});var k=n(8115);function S(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new y.k_({view:e=>new C(e,t)})}class C{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}})}destroy(){this.handlers.forEach(t=>{let{name:e,handler:n}=t;return this.editorView.dom.removeEventListener(e,n)})}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r=this.editorView.dom,o=r.getBoundingClientRect(),i=o.width/r.offsetWidth,s=o.height/r.offsetHeight;if(n){let n=e.nodeBefore,r=e.nodeAfter;if(n||r){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(e){let o=e.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let a=this.width/2*s;t={left:o.left,right:o.right,top:i-a,bottom:i+a}}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;t={left:e.left-n,right:e.left+n,top:e.top,bottom:e.bottom}}let a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{let t=c.getBoundingClientRect(),e=t.width/c.offsetWidth,n=t.height/c.offsetHeight;a=t.left-c.scrollLeft*e,l=t.top-c.scrollTop*n}this.element.style.left=(t.left-a)/i+"px",this.element.style.top=(t.top-l)/s+"px",this.element.style.width=(t.right-t.left)/i+"px",this.element.style.height=(t.bottom-t.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,e,t):r;if(e&&!o){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=(0,k.Um)(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const E=r.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[S(this.options)]}});var M=n(2195),T=n(4282),O=n(1140);class _ extends y.LN{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return _.valid(n)?new _(n):y.LN.near(n)}content(){return T.Ji.empty}eq(t){return t instanceof _&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new _(t.resolve(e.pos))}getBookmark(){return new A(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t:for(;;){if(!n&&_.valid(t))return t;let r=t.pos,o=null;for(let n=t.depth;;n--){let i=t.node(n);if(e>0?t.indexAfter(n)<i.childCount:t.index(n)>0){o=i.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let s=t.doc.resolve(r);if(_.valid(s))return s}for(;;){let i=e>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!y.nh.isSelectable(o)){t=t.doc.resolve(r+o.nodeSize*e),n=!1;continue t}break}o=i,r+=e;let s=t.doc.resolve(r);if(_.valid(s))return s}return null}}}_.prototype.visible=!1,_.findFrom=_.findGapCursorFrom,y.LN.jsonID("gapcursor",_);class A{constructor(t){this.pos=t}map(t){return new A(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return _.valid(e)?new _(e):y.LN.near(e)}}const N=(0,M.K)({ArrowLeft:P("horiz",-1),ArrowRight:P("horiz",1),ArrowUp:P("vert",-1),ArrowDown:P("vert",1)});function P(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){let i=t.selection,s=e>0?i.$to:i.$from,a=i.empty;if(i instanceof y.U3){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}let l=_.findGapCursorFrom(s,e,a);return!!l&&(r&&r(t.tr.setSelection(new _(l))),!0)}}function D(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!_.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&y.nh.isSelectable(t.state.doc.nodeAt(o.inside)))&&(t.dispatch(t.state.tr.setSelection(new _(r))),!0)}function R(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof _))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=T.FK.empty;for(let s=r.length-1;s>=0;s--)o=T.FK.from(r[s].createAndFill(null,o));let i=t.state.tr.replace(n.pos,n.pos,new T.Ji(o,0,0));return i.setSelection(y.U3.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function I(t){if(!(t.selection instanceof _))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",O.zF.create(t.doc,[O.NZ.widget(t.selection.head,e,{key:"gapcursor"})])}const L=r.YY.create({name:"gapCursor",addProseMirrorPlugins:()=>[new y.k_({props:{decorations:I,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&_.valid(n)?new _(n):null,handleClick:D,handleKeyDown:N,handleDOMEvents:{beforeinput:R}}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=(0,r.gk)((0,r.iI)(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),j=r.bP.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML(t){let{HTMLAttributes:e}=t;return["br",(0,r.KV)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>t=>{let{commands:e,chain:n,state:r,editor:o}=t;return e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:t,storedMarks:e}=r;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=o.extensionManager,a=e||t.$to.parentOffset&&t.$from.marks();return n().insertContent({type:this.name}).command(t=>{let{tr:e,dispatch:n}=t;if(n&&a&&i){const t=a.filter(t=>s.includes(t.type.name));e.ensureMarks(t)}return!0}).run()})])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),B=r.bP.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML(t){let{node:e,HTMLAttributes:n}=t;return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,(0,r.KV)(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:t=>e=>{let{commands:n}=e;return!!this.options.levels.includes(t.level)&&n.setNode(this.name,t)},toggleHeading:t=>e=>{let{commands:n}=e;return!!this.options.levels.includes(t.level)&&n.toggleNode(this.name,"paragraph",t)}}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>(0,r.JJ)({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var z=200,V=function(){};V.prototype.append=function(t){return t.length?(t=V.from(t),!this.length&&t||t.length<z&&this.leafAppend(t)||this.length<z&&t.leafPrepend(this)||this.appendInner(t)):this},V.prototype.prepend=function(t){return t.length?V.from(t).append(this):this},V.prototype.appendInner=function(t){return new $(this,t)},V.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?V.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},V.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},V.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},V.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},e,n),r},V.from=function(t){return t instanceof V?t:t&&t.length?new F(t):V.empty};var F=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=z)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=z)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(V);V.empty=new F([]);var $=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(V);const H=V;class U{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}e&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,a=t.tr,l=[],c=[];return this.items.forEach((t,e)=>{if(!t.step)return n||(n=this.remapping(o,e+1),r=n.maps.length),r--,void c.push(t);if(n){c.push(new W(t.map));let e,o=t.step.map(n.slice(r));o&&a.maybeStep(o).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new W(e,void 0,void 0,l.length+c.length))),r--,e&&n.appendMap(e,r)}else a.maybeStep(t.step);return t.selection?(i=n?t.selection.map(n.slice(r)):t.selection,s=new U(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(t,e,n,r){let o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<t.steps.length;c++){let n,l=t.steps[c].invert(t.docs[c]),d=new W(t.mapping.maps[c],l,e);(n=a&&a.merge(d))&&(d=n,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),e&&(i++,e=void 0),r||(a=d)}let l=i-n.depth;return l>q&&(s=function(t,e){let n;return t.forEach((t,r)=>{if(t.selection&&0==e--)return n=r,!1}),t.slice(n)}(s,l),i-=l),new U(s.append(o),i)}remapping(t,e){let n=new k.X9;return this.items.forEach((e,r)=>{let o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,o)},t,e),n}addMaps(t){return 0==this.eventCount?this:new U(this.items.append(t.map(t=>new W(t))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach(t=>{t.selection&&s--},r);let a=e;this.items.forEach(e=>{let r=o.getMirror(--a);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(e.step){let i=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(o.slice(a+1,r));c&&s++,n.push(new W(l,i,c))}else n.push(new W(l))},r);let l=[];for(let u=e;u<i;u++)l.push(new W(o.maps[u]));let c=this.items.slice(0,r).append(l).append(n),d=new U(c,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((i,s)=>{if(s>=t)r.push(i),i.selection&&o++;else if(i.step){let t=i.step.map(e.slice(n)),s=t&&t.getMap();if(n--,s&&e.appendMap(s,n),t){let a=i.selection&&i.selection.map(e.slice(n));a&&o++;let l,c=new W(s.invert(),t,a),d=r.length-1;(l=r.length&&r[d].merge(c))?r[d]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new U(H.from(r.reverse()),o)}}U.empty=new U(H.empty,0);class W{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new W(e.getMap().invert(),e,this.selection)}}}class K{constructor(t,e,n,r,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const q=20;function X(t){let e=[];for(let n=t.length-1;n>=0&&0==e.length;n--)t[n].forEach((t,n,r,o)=>e.push(r,o));return e}function J(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}let Y=!1,Z=null;function G(t){let e=t.plugins;if(Z!=e){Y=!1,Z=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Y=!0;break}}return Y}const Q=new y.hs("history"),tt=new y.hs("closeHistory");function et(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new y.k_({key:Q,state:{init:()=>new K(U.empty,U.empty,null,0,-1),apply:(e,n,r)=>function(t,e,n,r){let o,i=n.getMeta(Q);if(i)return i.historyState;n.getMeta(tt)&&(t=new K(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(Q))return s.getMeta(Q).redo?new K(t.done.addTransform(n,void 0,r,G(e)),t.undone,X(n.mapping.maps),t.prevTime,t.prevComposition):new K(t.done,t.undone.addTransform(n,void 0,r,G(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new K(t.done.rebased(n,o),t.undone.rebased(n,o),J(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new K(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),J(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let o=n.getMeta("composition"),i=0==t.prevTime||!s&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((t,r)=>{for(let o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)}),n}(n,t.prevRanges)),a=s?J(t.prevRanges,n.mapping):X(n.mapping.maps);return new K(t.done.addTransform(n,i?e.selection.getBookmark():void 0,r,G(e)),U.empty,a,n.time,null==o?t.prevComposition:o)}}(n,r,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?rt:"historyRedo"==n?ot:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}function nt(t,e){return(n,r)=>{let o=Q.getState(n);if(!o||0==(t?o.undone:o.done).eventCount)return!1;if(r){let i=function(t,e,n){let r=G(e),o=Q.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,r),l=new K(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(Q,{redo:n,historyState:l})}(o,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const rt=nt(!1,!0),ot=nt(!0,!0);nt(!1,!1),nt(!0,!1);const it=r.YY.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>t=>{let{state:e,dispatch:n}=t;return rt(e,n)},redo:()=>t=>{let{state:e,dispatch:n}=t;return ot(e,n)}}),addProseMirrorPlugins(){return[et(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}}),st=r.bP.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML(t){let{HTMLAttributes:e}=t;return["hr",(0,r.KV)(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>t=>{let{chain:e,state:n}=t;if(!(0,r.AB)(n,n.schema.nodes[this.name]))return!1;const{selection:o}=n,{$from:i,$to:s}=o,a=e();return 0===i.parentOffset?a.insertContentAt({from:Math.max(i.pos-1,0),to:s.pos},{type:this.name}):(0,r.BQ)(o)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(t=>{let{tr:e,dispatch:n}=t;var r;if(n){const{$to:t}=e.selection,n=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(y.U3.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(y.nh.create(e.doc,t.pos)):e.setSelection(y.U3.create(e.doc,t.pos));else{const o=null===(r=t.parent.type.contentMatch.defaultType)||void 0===r?void 0:r.create();o&&(e.insert(n,o),e.setSelection(y.U3.create(e.doc,n+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,r.jT)({find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type})]}}),at=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,lt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,ct=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,dt=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,ut=r.CU.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML(t){let{HTMLAttributes:e}=t;return["em",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>t=>{let{commands:e}=t;return e.setMark(this.name)},toggleItalic:()=>t=>{let{commands:e}=t;return e.toggleMark(this.name)},unsetItalic:()=>t=>{let{commands:e}=t;return e.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,r.OX)({find:at,type:this.type}),(0,r.OX)({find:ct,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:lt,type:this.type}),(0,r.Zc)({find:dt,type:this.type})]}}),ht=r.bP.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML(t){let{HTMLAttributes:e}=t;return["li",(0,r.KV)(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pt="textStyle",ft=/^(\d+)\.\s$/,mt=r.bP.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML(t){let{HTMLAttributes:e}=t;const{start:n,...o}=e;return 1===n?["ol",(0,r.KV)(this.options.HTMLAttributes,o),0]:["ol",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>t=>{let{commands:e,chain:n}=t;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(pt)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=(0,r.tG)({find:ft,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,r.tG)({find:ft,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(pt)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),gt=r.bP.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(t){let{HTMLAttributes:e}=t;return["p",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>t=>{let{commands:e}=t;return e.setNode(this.name)}}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),yt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,vt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,xt=r.CU.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML(t){let{HTMLAttributes:e}=t;return["s",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>t=>{let{commands:e}=t;return e.setMark(this.name)},toggleStrike:()=>t=>{let{commands:e}=t;return e.toggleMark(this.name)},unsetStrike:()=>t=>{let{commands:e}=t;return e.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,r.OX)({find:yt,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:vt,type:this.type})]}}),bt=r.bP.create({name:"text",group:"inline"}),wt=r.YY.create({name:"starterKit",addExtensions(){const t=[];return!1!==this.options.bold&&t.push(d.configure(this.options.bold)),!1!==this.options.blockquote&&t.push(i.configure(this.options.blockquote)),!1!==this.options.bulletList&&t.push(p.configure(this.options.bulletList)),!1!==this.options.code&&t.push(g.configure(this.options.code)),!1!==this.options.codeBlock&&t.push(b.configure(this.options.codeBlock)),!1!==this.options.document&&t.push(w.configure(this.options.document)),!1!==this.options.dropcursor&&t.push(E.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&t.push(L.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&t.push(j.configure(this.options.hardBreak)),!1!==this.options.heading&&t.push(B.configure(this.options.heading)),!1!==this.options.history&&t.push(it.configure(this.options.history)),!1!==this.options.horizontalRule&&t.push(st.configure(this.options.horizontalRule)),!1!==this.options.italic&&t.push(ut.configure(this.options.italic)),!1!==this.options.listItem&&t.push(ht.configure(this.options.listItem)),!1!==this.options.orderedList&&t.push(mt.configure(this.options.orderedList)),!1!==this.options.paragraph&&t.push(gt.configure(this.options.paragraph)),!1!==this.options.strike&&t.push(xt.configure(this.options.strike)),!1!==this.options.text&&t.push(bt.configure(this.options.text)),t}})},1051:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});const r=(0,n(5043).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"})},1069:(t,e,n)=>{var r=n(8541);t.exports=function(t){return null==t?"":r(t)}},1097:(t,e,n)=>{var r=n(5750),o=n(191);function i(t){return r.map(t.nodes(),function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i})}function s(t){return r.map(t.edges(),function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o})}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:s(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),r.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},1104:(t,e,n)=>{var r=n(6614),o=n(8673);t.exports=function(t,e){return t&&r(e,o(e),t)}},1140:(t,e,n)=>{"use strict";n.d(e,{Lz:()=>yn,NZ:()=>$e,zF:()=>We});var r=n(7184),o=n(4282),i=n(8115);const s=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},a=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let l=null;const c=function(t,e,n){let r=l||(l=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},d=function(t,e,n,r){return n&&(h(t,e,n,r,-1)||h(t,e,n,r,1))},u=/^(img|br|input|textarea|hr)$/i;function h(t,e,n,r,o){for(var i;;){if(t==n&&e==r)return!0;if(e==(o<0?0:p(t))){let n=t.parentNode;if(!n||1!=n.nodeType||f(t)||u.test(t.nodeName)||"false"==t.contentEditable)return!1;e=s(t)+(o<0?0:1),t=n}else{if(1!=t.nodeType)return!1;{let n=t.childNodes[e+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;e+=o}else t=n,e=o<0?p(t):0}}}}function p(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function f(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const m=function(t){return t.focusNode&&d(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function g(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const y="undefined"!=typeof navigator?navigator:null,v="undefined"!=typeof document?document:null,x=y&&y.userAgent||"",b=/Edge\/(\d+)/.exec(x),w=/MSIE \d/.exec(x),k=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(x),S=!!(w||k||b),C=w?document.documentMode:k?+k[1]:b?+b[1]:0,E=!S&&/gecko\/(\d+)/i.test(x);E&&(/Firefox\/(\d+)/.exec(x)||[0,0])[1];const M=!S&&/Chrome\/(\d+)/.exec(x),T=!!M,O=M?+M[1]:0,_=!S&&!!y&&/Apple Computer/.test(y.vendor),A=_&&(/Mobile\/\w+/.test(x)||!!y&&y.maxTouchPoints>2),N=A||!!y&&/Mac/.test(y.platform),P=!!y&&/Win/.test(y.platform),D=/Android \d/.test(x),R=!!v&&"webkitFontSmoothing"in v.documentElement.style,I=R?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function L(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function j(t,e){return"number"==typeof t?t:t[e]}function B(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function z(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(1!=s.nodeType){s=a(s);continue}let t=s,n=t==i.body,l=n?L(i):B(t),c=0,d=0;if(e.top<l.top+j(r,"top")?d=-(l.top-e.top+j(o,"top")):e.bottom>l.bottom-j(r,"bottom")&&(d=e.bottom-e.top>l.bottom-l.top?e.top+j(o,"top")-l.top:e.bottom-l.bottom+j(o,"bottom")),e.left<l.left+j(r,"left")?c=-(l.left-e.left+j(o,"left")):e.right>l.right-j(r,"right")&&(c=e.right-l.right+j(o,"right")),c||d)if(n)i.defaultView.scrollBy(c,d);else{let n=t.scrollLeft,r=t.scrollTop;d&&(t.scrollTop+=d),c&&(t.scrollLeft+=c);let o=t.scrollLeft-n,i=t.scrollTop-r;e={left:e.left-o,top:e.top-i,right:e.right-o,bottom:e.bottom-i}}let u=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(u))break;s="absolute"==u?s.offsetParent:a(s)}}function V(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=a(r));return e}function F(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:i}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let $=null;function H(t,e){let n,r,o,i,s=2e8,a=0,l=e.top,d=e.top;for(let u=t.firstChild,h=0;u;u=u.nextSibling,h++){let t;if(1==u.nodeType)t=u.getClientRects();else{if(3!=u.nodeType)continue;t=c(u).getClientRects()}for(let c=0;c<t.length;c++){let p=t[c];if(p.top<=l&&p.bottom>=d){l=Math.max(p.bottom,l),d=Math.min(p.top,d);let t=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(t<s){n=u,s=t,r=t&&3==n.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==u.nodeType&&t&&(a=h+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!o&&p.left<=e.left&&p.right>=e.left&&(o=u,i={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(a=h+1)}}return!n&&o&&(n=o,r=i,s=0),n&&3==n.nodeType?function(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let n=X(r,1);if(n.top!=n.bottom&&U(e,n))return{node:t,offset:o+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:t,offset:a}:H(n,r)}function U(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function W(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=t.childNodes[i];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let o=t[r];if(U(e,o))return W(n,e,o)}}if((i=(i+1)%r)==o)break}return t}function K(t,e){let n,r=t.dom.ownerDocument,o=0,i=function(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(p(r.offsetNode),r.offset)}}catch(r){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(p(r.startContainer),r.startOffset)}}}(r,e.left,e.top);i&&({node:n,offset:o}=i);let s,l=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=t.dom.getBoundingClientRect();if(!U(e,n))return null;if(l=W(t.dom,e,n),!l)return null}if(_)for(let d=l;n&&d;d=a(d))d.draggable&&(n=void 0);if(l=function(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(l,e),n){if(E&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let t,r=n.childNodes[o];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&o++}let r;R&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=e.top&&o--,n==t.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(s=function(t,e,n,r){let o=-1;for(let i=e,s=!1;i!=t.dom;){let e,n=t.docView.nearestDesc(i,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((e=n.dom.getBoundingClientRect()).width||e.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!s&&e.left>r.left||e.top>r.top?o=n.posBefore:(!s&&e.right<r.left||e.bottom<r.top)&&(o=n.posAfter),s=!0),!n.contentDOM&&o<0&&!n.node.isText))return(n.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?n.posBefore:n.posAfter;i=n.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}(t,n,o,e))}null==s&&(s=function(t,e,n){let{node:r,offset:o}=H(e,n),i=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();i=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,o,i)}(t,l,e));let c=t.docView.nearestDesc(l,!0);return{pos:s,inside:c?c.posAtStart-c.border:-1}}function q(t){return t.top<t.bottom||t.left<t.right}function X(t,e){let n=t.getClientRects();if(n.length){let t=n[e<0?0:n.length-1];if(q(t))return t}return Array.prototype.find.call(n,q)||t.getBoundingClientRect()}const J=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Y(t,e,n){let{node:r,offset:o,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=R||E;if(3==r.nodeType){if(!s||!J.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let t=o,e=o,i=n<0?1:-1;return n<0&&!o?(e++,i=-1):n>=0&&o==r.nodeValue.length?(t--,i=1):n<0?t--:e++,Z(X(c(r,t,e),i),i<0)}{let t=X(c(r,o,o),n);if(E&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let e=X(c(r,o-1,o-1),-1);if(e.top==t.top){let n=X(c(r,o,o+1),-1);if(n.top!=t.top)return Z(n,n.left<e.left)}}return t}}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==p(r))){let t=r.childNodes[o-1];if(1==t.nodeType)return G(t.getBoundingClientRect(),!1)}if(null==i&&o<p(r)){let t=r.childNodes[o];if(1==t.nodeType)return G(t.getBoundingClientRect(),!0)}return G(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==p(r))){let t=r.childNodes[o-1],e=3==t.nodeType?c(t,p(t)-(s?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return Z(X(e,1),!1)}if(null==i&&o<p(r)){let t=r.childNodes[o];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?c(t,0,s?0:1):1==t.nodeType?t:null:null;if(e)return Z(X(e,-1),!0)}return Z(X(3==r.nodeType?c(r):r,-n),n>=0)}function Z(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function G(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Q(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}const tt=/[\u0590-\u08ac]/;let et=null,nt=null,rt=!1;function ot(t,e,n){return et==e&&nt==n?rt:(et=e,nt=n,rt="up"==n||"down"==n?function(t,e,n){let r=e.selection,o="up"==n?r.$from:r.$to;return Q(t,e,()=>{let{node:e}=t.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.contentDOM||n.dom;break}e=n.dom.parentNode}let r=Y(t,o.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=c(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let o=e[t];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}(t,e,n):function(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.domSelection();return a?tt.test(r.parent.textContent)&&a.modify?Q(t,e,()=>{let{focusNode:e,focusOffset:o,anchorNode:i,anchorOffset:s}=t.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:d,focusOffset:u}=t.domSelectionRange(),h=d&&!c.contains(1==d.nodeType?d:d.parentNode)||e==d&&o==u;try{a.collapse(i,s),e&&(e!=i||o!=s)&&a.extend&&a.extend(e,o)}catch(p){}return null!=l&&(a.caretBidiLevel=l),h}):"left"==n||"backward"==n?i:s:r.pos==r.start()||r.pos==r.end()}(t,e,n))}class it{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,r=t;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!e||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==t.nodeType?t:t.parentNode):o==t))return i;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)for(let t=0;t<r.children.length;t++){let e=r.children[t];if(e.size){r=e;break}}return r}if(t<o)return r.descAt(t-n-r.border);n=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let e=this.children[n],i=o+e.size;if(i>t||e instanceof ht){r=t-o;break}o=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof st&&o.side>=0;n--);if(e<=0){let t,r=!0;for(;t=n?this.children[n-1]:null,t&&t.dom.parentNode!=this.contentDOM;n--,r=!1);return t&&e&&r&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?s(t.dom)+1:0}}{let t,r=!0;for(;t=n<this.children.length?this.children[n]:null,t&&t.dom.parentNode!=this.contentDOM;n++,r=!1);return t&&r&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?s(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,a=0;;a++){let n=this.children[a],l=i+n.size;if(-1==r&&t<=l){let o=i+n.border;if(t>=o&&e<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,o);t=i;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=s(n.dom);break}e+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(t,e),i=Math.max(t,e);for(let s=0,d=0;s<this.children.length;s++){let a=this.children[s],l=d+a.size;if(o>d&&i<l)return a.setSelection(t-d-a.border,e-d-a.border,n,r);d=l}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),h=!1;if((E||_)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if(h=!(!e||"\n"!=t.nodeValue[e-1]),h&&e==t.nodeValue.length)for(let n,r=t;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(a=l={node:n.parentNode,offset:s(n)+1});break}let t=r.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];h=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(E&&u.focusNode&&u.focusNode!=l.node&&1==u.focusNode.nodeType){let t=u.focusNode.childNodes[u.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||h&&_)&&d(a.node,a.offset,u.anchorNode,u.anchorOffset)&&d(l.node,l.offset,u.focusNode,u.focusOffset))return;let p=!1;if((c.extend||t==e)&&!h){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),p=!0}catch(f){}}if(!p){if(t>e){let t=a;a=l,l=t}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){let r=n+o.border,s=i-o.border;if(t>=r&&e<=s)return this.dirty=t==n||e==i?2:1,void(t!=r||e!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-r,e-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class st extends it{constructor(t,e,n,r){let o,i=e.type.toDOM;if("function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!e.type.spec.raw){if(1!=i.nodeType){let t=document.createElement("span");t.appendChild(i),i=t}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class at extends it{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class lt extends it{constructor(t,e,n,r,o){super(t,[],n,r),this.mark=e,this.spec=o}static create(t,e,n,r){let i=r.nodeViews[e.type.name],s=i&&i(e,r,n);return s&&s.dom||(s=o.ZF.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new lt(t,e,s.dom,s.contentDOM||s.dom,s)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,n){let r=lt.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;e<i&&(o=Et(o,e,i,n)),t>0&&(o=Et(o,0,t,n));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ct extends it{constructor(t,e,n,r,o,i,s,a,l){super(t,[],o,i),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(t,e,n,r,i,s){let a,l=i.nodeViews[e.type.name],c=l&&l(e,i,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:s,n,r),d=c&&c.dom,u=c&&c.contentDOM;if(e.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(e.text);else if(!d){let t=o.ZF.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs);({dom:d,contentDOM:u}=t)}u||e.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable="false"),e.type.spec.draggable&&(d.draggable=!0));let h=d;return d=bt(d,n,e),c?a=new pt(t,e,n,r,d,u||null,h,c,i,s+1):e.isText?new ut(t,e,n,r,d,h,i):new ct(t,e,n,r,d,u||null,h,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>o.FK.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return 0==this.dirty&&t.eq(this.node)&&wt(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,i=t.composing?this.localCompositionInfo(t,e):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new St(this,s&&s.node,t);!function(t,e,n,r){let o=e.locals(t),i=0;if(0==o.length){for(let n=0;n<t.childCount;n++){let s=t.child(n);r(s,o,e.forChild(i,s),n),i+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let d,u,h,p;for(;s<o.length&&o[s].to==i;){let t=o[s++];t.widget&&(d?(u||(u=[d])).push(t):d=t)}if(d)if(u){u.sort(Ct);for(let t=0;t<u.length;t++)n(u[t],c,!!l)}else n(d,c,!!l);if(l)p=-1,h=l,l=null;else{if(!(c<t.childCount))break;p=c,h=t.child(c++)}for(let t=0;t<a.length;t++)a[t].to<=i&&a.splice(t--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let f=i+h.nodeSize;if(h.isText){let t=f;s<o.length&&o[s].from<t&&(t=o[s].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<f&&(l=h.cut(t-i),h=h.cut(0,t-i),f=t,p=-1)}else for(;s<o.length&&o[s].to<f;)s++;r(h,h.isInline&&!h.isLeaf?a.filter(t=>!t.inline):a.slice(),e.forChild(i,h),p),i=f}}(this.node,this.innerDeco,(e,i,s)=>{e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!s&&l.syncToMarks(i==this.node.childCount?o.CU.none:this.node.child(i).marks,n,t),l.placeWidget(e,t,r)},(e,o,s,c)=>{let d;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,o,s,c)||a&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(d=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(e,o,s,d,t)||l.updateNextNode(e,o,s,t,c,r)||l.addNode(e,o,s,t,r),r+=e.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(t,s),ft(this.contentDOM,this.children,t),A&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(t,e){let{from:n,to:o}=t.state.selection;if(!(t.state.selection instanceof r.U3)||n<e||o>e+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let t=i.nodeValue,r=function(t,e,n,r){for(let o=0,i=0;o<t.childCount&&i<=r;){let s=t.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<t.childCount;){let e=t.child(o++);if(i+=e.nodeSize,!e.isText)break;l+=e.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let t=a<r?l.lastIndexOf(e,r-a-1):-1;if(t>=0&&t+e.length+a>=n)return a+t;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}(this.node.content,t,n-e,o-e);return r<0?null:{node:i,pos:r,text:t}}return{node:i,pos:-1,text:""}}protectLocalComposition(t,e){let{node:n,pos:r,text:o}=e;if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new at(this,i,n,o);t.input.compositionNodes.push(s),this.children=Et(this.children,r,r+o.length,t,s)}update(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(wt(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=vt(this.dom,this.nodeDOM,yt(this.outerDeco,this.node,e),yt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dt(t,e,n,r,o){bt(r,e,t);let i=new ct(void 0,t,e,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class ut extends ct{constructor(t,e,n,r,o,i,s){super(t,e,n,r,o,null,i,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new ut(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(t){return this.node.text==t}}class ht extends it{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class pt extends ct{constructor(t,e,n,r,o,i,s,a,l,c){super(t,e,n,r,o,i,s,l,c),this.spec=a}update(t,e,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,n);return o&&this.updateInner(t,e,n,r),o}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ft(t,e,n){let r=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=kt(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof lt){let e=r?r.previousSibling:t.lastChild;ft(s.contentDOM,s.children,n),r=e?e.nextSibling:t.firstChild}}for(;r;)r=kt(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const mt=function(t){t&&(this.nodeName=t)};mt.prototype=Object.create(null);const gt=[new mt];function yt(t,e,n){if(0==t.length)return gt;let r=n?gt[0]:new mt,o=[r];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&o.push(r=new mt(s.nodeName));for(let t in s){let i=s[t];null!=i&&(n&&1==o.length&&o.push(r=new mt(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+i:"style"==t?r.style=(r.style?r.style+";":"")+i:"nodeName"!=t&&(r[t]=i))}}}return o}function vt(t,e,n,r){if(n==gt&&r==gt)return e;let o=e;for(let i=0;i<r.length;i++){let e=r[i],s=n[i];if(i){let n;s&&s.nodeName==e.nodeName&&o!=t&&(n=o.parentNode)&&n.nodeName.toLowerCase()==e.nodeName||(n=document.createElement(e.nodeName),n.pmIsDeco=!0,n.appendChild(o),s=gt[0]),o=n}xt(o,s||gt[0],e)}return o}function xt(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==o.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<o.length;e++)-1==r.indexOf(o[e])&&t.classList.add(o[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(e.style);)t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function bt(t,e,n){return vt(t,t,gt,yt(e,n,1!=t.nodeType))}function wt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function kt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class St{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];t:for(;o>0;){let a;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof lt)){a=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,o=this.stack.length>>1,i=Math.min(o,t.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){let n=this.top.children[e];if(n.matchesMark(t[o])&&!this.isLocked(n.dom)){r=e;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=lt.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,n))i=this.top.children.indexOf(o,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let r=this.top.children[s];if(r.matchesNode(t,e,n)&&!this.preMatch.matched.has(r)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,e,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(t,e,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,o,i){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof ct){let l=this.preMatch.matched.get(a);if(null!=l&&l!=o)return!1;let c,d=a.dom,u=this.isLocked(d)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&wt(e,a.outerDeco));if(!u&&a.update(t,e,n,r))return this.destroyBetween(this.index,s),a.dom!=d&&(this.changed=!0),this.index++,!0;if(!u&&(c=this.recreateWrapper(a,t,e,n,r,i)))return this.destroyBetween(this.index,s),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,o,i){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!wt(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let s=ct.create(this.top,e,n,r,o,i);if(s.contentDOM){s.children=t.children,t.children=[];for(let t of s.children)t.parent=s}return t.destroy(),s}addNode(t,e,n,r,o){let i=ct.create(this.top,t,e,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new st(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof lt;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof ut)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((_||T)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new ht(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function Ct(t,e){return t.type.side-e.type.side}function Et(t,e,n,r,o){let i=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,d=a+=l.size;c>=n||d<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=void 0),d>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Mt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),a=i&&0==i.size,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c,d,u=o.resolve(l);if(m(n)){for(c=l;i&&!i.node;)i=i.parent;let t=i.node;if(i&&t.isAtom&&r.nh.isSelectable(t)&&i.parent&&(!t.isInline||!function(t,e,n){for(let r=0==e,o=e==p(t);r||o;){if(t==n)return!0;let e=s(t);if(!(t=t.parentNode))return!1;r=r&&0==e,o=o&&e==p(t)}}(n.focusNode,n.focusOffset,i.dom))){let t=i.posBefore;d=new r.nh(l==t?u:o.resolve(t))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let e=l,r=l;for(let o=0;o<n.rangeCount;o++){let i=n.getRangeAt(o);e=Math.min(e,t.docView.posFromDOM(i.startContainer,i.startOffset,1)),r=Math.max(r,t.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(e<0)return null;[c,l]=r==t.state.selection.anchor?[r,e]:[e,r],u=o.resolve(l)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let h=o.resolve(c);if(!d){d=It(t,h,u,"pointer"==e||t.state.selection.head<u.pos&&!a?1:-1)}return d}function Tt(t){return t.editable?t.hasFocus():jt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ot(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.state.selection;if(Dt(t,n),Tt(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&T){let e=t.domSelectionRange(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&d(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setStart(r.parentNode,s(r)+1):n.setStart(r,0);n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&S&&C<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{let o,i,{anchor:s,head:a}=n;!_t||n instanceof r.U3||(n.$from.parent.inlineContent||(o=At(t,n.from)),n.empty||n.$from.parent.inlineContent||(i=At(t,n.to))),t.docView.setSelection(s,a,t,e),_t&&(o&&Pt(o),i&&Pt(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{Tt(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")},20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _t=_||T&&O<63;function At(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(_&&o&&"false"==o.contentEditable)return Nt(o);if((!o||"false"==o.contentEditable)&&(!i||"false"==i.contentEditable)){if(o)return Nt(o);if(i)return Nt(i)}}function Nt(t){return t.contentEditable="true",_&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Pt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Dt(t,e){if(e instanceof r.nh){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Rt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Rt(t)}function Rt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function It(t,e,n,o){return t.someProp("createSelectionBetween",r=>r(t,e,n))||r.U3.between(e,n,o)}function Lt(t){return!(t.editable&&!t.hasFocus())&&jt(t)}function jt(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function Bt(t,e){let{$anchor:n,$head:o}=t.selection,i=e>0?n.max(o):n.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&r.LN.findFrom(s,e)}function zt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Vt(t,e,n){let o=t.state.selection;if(!(o instanceof r.U3)){if(o instanceof r.nh&&o.node.isInline)return zt(t,new r.U3(e>0?o.$to:o.$from));{let n=Bt(t.state,e);return!!n&&zt(t,n)}}if(n.indexOf("s")>-1){let{$head:n}=o,i=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(n.pos+i.nodeSize*(e<0?-1:1));return zt(t,new r.U3(o.$anchor,s))}if(!o.empty)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let n=Bt(t.state,e);return!!(n&&n instanceof r.nh)&&zt(t,n)}if(!(N&&n.indexOf("m")>-1)){let n,i=o.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return!!(s.isAtom||(n=t.docView.descAt(a))&&!n.contentDOM)&&(r.nh.isSelectable(s)?zt(t,new r.nh(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):!!R&&zt(t,new r.U3(t.state.doc.resolve(e<0?a:a+s.nodeSize))))}}function Ft(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function $t(t,e){let n=t.pmViewDesc;return n&&0==n.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function Ht(t,e){return e<0?function(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,a=!1;E&&1==n.nodeType&&r<Ft(n)&&$t(n.childNodes[r],-1)&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if($t(t,-1))o=n,i=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(Ut(n))break;{let e=n.previousSibling;for(;e&&$t(e,-1);)o=n.parentNode,i=s(e),e=e.previousSibling;if(e)n=e,r=Ft(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Wt(t,n,r):o&&Wt(t,o,i)}(t):function(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,a=Ft(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!$t(n.childNodes[r],1))break;o=n,i=++r}else{if(Ut(n))break;{let e=n.nextSibling;for(;e&&$t(e,1);)o=e.parentNode,i=s(e)+1,e=e.nextSibling;if(e)n=e,r=0,a=Ft(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}}o&&Wt(t,o,i)}(t)}function Ut(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Wt(t,e,n){if(3!=e.nodeType){let t,r;(r=function(t,e){for(;t&&e==t.childNodes.length&&!f(t);)e=s(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=n,e=0}}(e,n))?(e=r,n=0):(t=function(t,e){for(;t&&!e&&!f(t);)e=s(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=(t=n).childNodes.length}}(e,n))&&(e=t,n=t.nodeValue.length)}let r=t.domSelection();if(!r)return;if(m(r)){let t=document.createRange();t.setEnd(e,n),t.setStart(e,n),r.removeAllRanges(),r.addRange(t)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&Ot(t)},50)}function Kt(t,e){let n=t.state.doc.resolve(e);if(!T&&!P&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let n=t.coordsAtPos(e-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(e<n.end()){let n=t.coordsAtPos(e+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function qt(t,e,n){let o=t.state.selection;if(o instanceof r.U3&&!o.empty||n.indexOf("s")>-1)return!1;if(N&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=o;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=Bt(t.state,e);if(n&&n instanceof r.nh)return zt(t,n)}if(!i.parent.inlineContent){let n=e<0?i:s,a=o instanceof r.i5?r.LN.near(n,e):r.LN.findFrom(n,e);return!!a&&zt(t,a)}return!1}function Xt(t,e){if(!(t.state.selection instanceof r.U3))return!0;let{$head:n,$anchor:o,empty:i}=t.state.selection;if(!n.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=t.state.tr;return e<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),t.dispatch(r),!0}return!1}function Jt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Yt(t,e){let n=e.keyCode,r=function(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);if(8==n||N&&72==n&&"c"==r)return Xt(t,-1)||Ht(t,-1);if(46==n&&!e.shiftKey||N&&68==n&&"c"==r)return Xt(t,1)||Ht(t,1);if(13==n||27==n)return!0;if(37==n||N&&66==n&&"c"==r){let e=37==n?"ltr"==Kt(t,t.state.selection.from)?-1:1:-1;return Vt(t,e,r)||Ht(t,e)}if(39==n||N&&70==n&&"c"==r){let e=39==n?"ltr"==Kt(t,t.state.selection.from)?1:-1:1;return Vt(t,e,r)||Ht(t,e)}return 38==n||N&&80==n&&"c"==r?qt(t,-1,r)||Ht(t,-1):40==n||N&&78==n&&"c"==r?function(t){if(!_||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;Jt(t,n,"true"),setTimeout(()=>Jt(t,n,"false"),20)}return!1}(t)||qt(t,1,r)||Ht(t,1):r==(N?"m":"c")&&(66==n||73==n||89==n||90==n)}function Zt(t,e){t.someProp("transformCopied",n=>{e=n(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,s--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let a=t.someProp("clipboardSerializer")||o.ZF.fromSchema(t.state.schema),l=ae(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let d,u=c.firstChild,h=0;for(;u&&1==u.nodeType&&(d=ie[u.nodeName.toLowerCase()]);){for(let t=d.length-1;t>=0;t--){let e=l.createElement(d[t]);for(;c.firstChild;)e.appendChild(c.firstChild);c.appendChild(e),h++}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`),{dom:c,text:t.someProp("clipboardTextSerializer",n=>n(e,t))||e.content.textBetween(0,e.content.size,"\n\n"),slice:e}}function Gt(t,e,n,r,i){let s,a,l=i.parent.type.spec.code;if(!n&&!e)return null;let c=e&&(r||l||!n);if(c){if(t.someProp("transformPastedText",n=>{e=n(e,l||r,t)}),l)return e?new o.Ji(o.FK.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):o.Ji.empty;let n=t.someProp("clipboardTextParser",n=>n(e,i,r,t));if(n)a=n;else{let n=i.marks(),{schema:r}=t.state,a=o.ZF.fromSchema(r);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(t=>{let e=s.appendChild(document.createElement("p"));t&&e.appendChild(a.serializeNode(r.text(t,n)))})}}else t.someProp("transformPastedHTML",e=>{n=e(n,t)}),s=function(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=ae().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t);(n=o&&ie[o[1].toLowerCase()])&&(t=n.map(t=>"<"+t+">").join("")+t+n.map(t=>"</"+t+">").reverse().join(""));if(r.innerHTML=function(t){let e=window.trustedTypes;if(!e)return t;le||(le=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t}));return le.createHTML(t)}(t),n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),R&&function(t){let e=t.querySelectorAll(T?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(s);let d=s&&s.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let o=+u[3];o>0;o--){let t=s.firstChild;for(;t&&1!=t.nodeType;)t=t.nextSibling;if(!t)break;s=t}if(!a){let e=t.someProp("clipboardParser")||t.someProp("domParser")||o.S4.fromSchema(t.state.schema);a=e.parseSlice(s,{preserveWhitespace:!(!c&&!u),context:i,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Qt.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(u)a=function(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(l){return t}let{content:i,openStart:s,openEnd:a}=t;for(let c=n.length-2;c>=0;c-=2){let t=r.nodes[n[c]];if(!t||t.hasRequiredAttrs())break;i=o.FK.from(t.create(n[c+1],i)),s++,a++}return new o.Ji(i,s,a)}(oe(a,+u[1],+u[2]),u[4]);else if(a=o.Ji.maxOpen(function(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,i=e.node(n).contentMatchAt(e.index(n)),s=[];if(t.forEach(t=>{if(!s)return;let e,n=i.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&r.length&&ee(n,r,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=ne(s[s.length-1],r.length));let e=te(t,n);s.push(e),i=i.matchType(e.type),r=n}}),s)return o.FK.from(s)}return t}(a.content,i),!0),a.openStart||a.openEnd){let t=0,e=0;for(let n=a.content.firstChild;t<a.openStart&&!n.type.spec.isolating;t++,n=n.firstChild);for(let n=a.content.lastChild;e<a.openEnd&&!n.type.spec.isolating;e++,n=n.lastChild);a=oe(a,t,e)}return t.someProp("transformPasted",e=>{a=e(a,t)}),a}const Qt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function te(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=e.length-1;r>=n;r--)t=e[r].create(null,o.FK.from(t));return t}function ee(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=ee(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(o.FK.from(te(n,t,i+1))))}}function ne(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,ne(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(o.FK.empty,!0);return t.copy(n.append(r))}function re(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=re(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(o.FK.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function oe(t,e,n){return e<t.openStart&&(t=new o.Ji(re(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new o.Ji(re(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ie={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let se=null;function ae(){return se||(se=document.implementation.createHTMLDocument("title"))}let le=null;const ce={},de={},ue={touchstart:!0,touchmove:!0};class he{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pe(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function fe(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>me(t,e))})}function me(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function ge(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ye(t){return{left:t.clientX,top:t.clientY}}function ve(t,e,n,r,o){if(-1==r)return!1;let i=t.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,e=>s>i.depth?e(t,n,i.nodeAfter,i.before(s),o,!0):e(t,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function xe(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function be(t,e,n,o,i){return ve(t,"handleClickOn",e,n,o)||t.someProp("handleClick",n=>n(t,e,o))||(i?function(t,e){if(-1==e)return!1;let n,o,i=t.state.selection;i instanceof r.nh&&(n=i.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let t=a>s.depth?s.nodeAfter:s.node(a);if(r.nh.isSelectable(t)){o=n&&i.$from.depth>0&&a>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(a);break}}return null!=o&&(xe(t,r.nh.create(t.state.doc,o),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return!!(o&&o.isAtom&&r.nh.isSelectable(o))&&(xe(t,new r.nh(n),"pointer"),!0)}(t,n))}function we(t,e,n,r){return ve(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",n=>n(t,e,r))}function ke(t,e,n,o){return ve(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",n=>n(t,e,o))||function(t,e,n){if(0!=n.button)return!1;let o=t.state.doc;if(-1==e)return!!o.inlineContent&&(xe(t,r.U3.create(o,0,o.content.size),"pointer"),!0);let i=o.resolve(e);for(let s=i.depth+1;s>0;s--){let e=s>i.depth?i.nodeAfter:i.node(s),n=i.before(s);if(e.inlineContent)xe(t,r.U3.create(o,n+1,n+1+e.content.size),"pointer");else{if(!r.nh.isSelectable(e))continue;xe(t,r.nh.create(o,n),"pointer")}return!0}}(t,n,o)}function Se(t){return Ne(t)}de.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Me(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!D||!T||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!A||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",e=>e(t,n))||Yt(t,n)?n.preventDefault():pe(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",e=>e(t,g(13,"Enter"))),t.input.lastIOSEnter=0)},200)}},de.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},de.keypress=(t,e)=>{let n=e;if(Me(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||N&&n.metaKey)return;if(t.someProp("handleKeyPress",e=>e(t,n)))return void n.preventDefault();let o=t.state.selection;if(!(o instanceof r.U3)||!o.$from.sameParent(o.$to)){let e=String.fromCharCode(n.charCode),r=()=>t.state.tr.insertText(e).scrollIntoView();/[\r\n]/.test(e)||t.someProp("handleTextInput",n=>n(t,o.$from.pos,o.$to.pos,e,r))||t.dispatch(r()),n.preventDefault()}};const Ce=N?"metaKey":"ctrlKey";ce.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Se(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&function(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(n,t.input.lastClick)&&!n[Ce]&&t.input.lastClick.button==n.button&&("singleClick"==t.input.lastClick.type?i="doubleClick":"doubleClick"==t.input.lastClick.type&&(i="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=t.posAtCoords(ye(n));s&&("singleClick"==i?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Ee(t,s,n,!!r)):("doubleClick"==i?we:ke)(t,s.pos,s.inside,n)?n.preventDefault():pe(t,"pointer"))};class Ee{constructor(t,e,n,o){let i,s;if(this.view=t,this.pos=e,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[Ce],this.allowDefault=n.shiftKey,e.inside>-1)i=t.state.doc.nodeAt(e.inside),s=e.inside;else{let n=t.state.doc.resolve(e.pos);i=n.parent,s=n.depth?n.before():0}const a=o?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&1==l.dom.nodeType?l.dom:null;let{selection:c}=t.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||c instanceof r.nh&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!E||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),pe(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ot(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(ye(t))),this.updateAllowDefault(t),this.allowDefault||!e?pe(this.view,"pointer"):be(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||_&&this.mightDrag&&!this.mightDrag.node.isAtom||T&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(xe(this.view,r.LN.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):pe(this.view,"pointer")}move(t){this.updateAllowDefault(t),pe(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Me(t,e){return!!t.composing||!!(_&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}ce.touchstart=t=>{t.input.lastTouch=Date.now(),Se(t),pe(t,"pointer")},ce.touchmove=t=>{t.input.lastTouch=Date.now(),pe(t,"pointer")},ce.contextmenu=t=>Se(t);const Te=D?5e3:-1;function Oe(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ne(t),e))}function _e(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Ae(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=function(t,e){for(;;){if(3==t.nodeType&&e)return t;if(1==t.nodeType&&e>0){if("false"==t.contentEditable)return null;e=p(t=t.childNodes[e-1])}else{if(!t.parentNode||f(t))return null;e=s(t),t=t.parentNode}}}(e.focusNode,e.focusOffset),r=function(t,e){for(;;){if(3==t.nodeType&&e<t.nodeValue.length)return t;if(1==t.nodeType&&e<t.childNodes.length){if("false"==t.contentEditable)return null;t=t.childNodes[e],e=0}else{if(!t.parentNode||f(t))return null;e=s(t)+1,t=t.parentNode}}}(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let e=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!e||!e.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let t=n.pmViewDesc;if(t&&t.isText(n.nodeValue))return r}}return n||r}function Ne(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(D&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_e(t),e||t.docView&&t.docView.dirty){let n=Mt(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):!t.markCursor&&!e||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.updateState(t.state):t.dispatch(t.state.tr.deleteSelection()),!0}return!1}}de.compositionstart=de.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof r.U3&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(t=>!1===t.type.spec.inclusive)))t.markCursor=t.state.storedMarks||n.marks(),Ne(t,!0),t.markCursor=null;else if(Ne(t,!e.selection.empty),E&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange();for(let n=e.focusNode,r=e.focusOffset;n&&1==n.nodeType&&0!=r;){let e=r<0?n.lastChild:n.childNodes[r-1];if(!e)break;if(3==e.nodeType){let n=t.domSelection();n&&n.collapse(e,e.nodeValue.length);break}n=e,r=-1}}t.input.composing=!0}Oe(t,Te)},de.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Oe(t,20))};const Pe=S&&C<15||A&&I<604;function De(t,e,n,r,i){let s=Gt(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",e=>e(t,i,s||o.Ji.empty)))return!0;if(!s)return!1;let a=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Re(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ce.copy=de.cut=(t,e)=>{let n=e,r=t.state.selection,o="cut"==n.type;if(r.empty)return;let i=Pe?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Zt(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},de.paste=(t,e)=>{let n=e;if(t.composing&&!D)return;let r=Pe?null:n.clipboardData,o=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&De(t,Re(r),r.getData("text/html"),o,n)?n.preventDefault():function(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?De(t,r.value,null,o,e):De(t,r.textContent,r.innerHTML,o,e)},50)}(t,n)};class Ie{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}}const Le=N?"altKey":"ctrlKey";function je(t,e){let n=t.someProp("dragCopies",t=>!t(e));return null!=n?n:!e[Le]}ce.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let i,s=t.state.selection,a=s.empty?null:t.posAtCoords(ye(n));if(a&&a.pos>=s.from&&a.pos<=(s instanceof r.nh?s.to-1:s.to));else if(o&&o.mightDrag)i=r.nh.create(t.state.doc,o.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&(i=r.nh.create(t.state.doc,e.posBefore))}let l=(i||t.state.selection).content(),{dom:c,text:d,slice:u}=Zt(t,l);(!n.dataTransfer.files.length||!T||O>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Pe?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Pe||n.dataTransfer.setData("text/plain",d),t.dragging=new Ie(u,je(t,n),i)},ce.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},de.dragover=de.dragenter=(t,e)=>e.preventDefault(),de.drop=(t,e)=>{let n=e,s=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let a=t.posAtCoords(ye(n));if(!a)return;let l=t.state.doc.resolve(a.pos),c=s&&s.slice;c?t.someProp("transformPasted",e=>{c=e(c,t)}):c=Gt(t,Re(n.dataTransfer),Pe?null:n.dataTransfer.getData("text/html"),!1,l);let d=!(!s||!je(t,n));if(t.someProp("handleDrop",e=>e(t,n,c||o.Ji.empty,d)))return void n.preventDefault();if(!c)return;n.preventDefault();let u=c?(0,i.Um)(t.state.doc,l.pos,c):l.pos;null==u&&(u=l.pos);let h=t.state.tr;if(d){let{node:t}=s;t?t.replace(h):h.deleteSelection()}let p=h.mapping.map(u),f=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=h.doc;if(f?h.replaceRangeWith(p,p,c.content.firstChild):h.replaceRange(p,p,c),h.doc.eq(m))return;let g=h.doc.resolve(p);if(f&&r.nh.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))h.setSelection(new r.nh(g));else{let e=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((t,n,r,o)=>e=o),h.setSelection(It(t,g,h.doc.resolve(e)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))},ce.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ot(t)},20))},ce.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},ce.beforeinput=(t,e)=>{if(T&&D&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",e=>e(t,g(8,"Backspace"))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let Sn in de)ce[Sn]=de[Sn];function Be(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ze{constructor(t,e){this.toDOM=t,this.spec=e||Ue,this.side=this.spec.side||0}map(t,e,n,r){let{pos:o,deleted:i}=t.mapResult(e.from+r,this.side<0?-1:1);return i?null:new $e(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof ze&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Be(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Ve{constructor(t,e){this.attrs=t,this.spec=e||Ue}map(t,e,n,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new $e(o,i,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof Ve&&Be(this.attrs,t.attrs)&&Be(this.spec,t.spec)}static is(t){return t.type instanceof Ve}destroy(){}}class Fe{constructor(t,e){this.attrs=t,this.spec=e||Ue}map(t,e,n,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new $e(o.pos-n,i.pos-n,this)}valid(t,e){let n,{index:r,offset:o}=t.content.findIndex(e.from);return o==e.from&&!(n=t.child(r)).isText&&o+n.nodeSize==e.to}eq(t){return this==t||t instanceof Fe&&Be(this.attrs,t.attrs)&&Be(this.spec,t.spec)}destroy(){}}class $e{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new $e(t,e,this.type)}eq(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new $e(t,t,new ze(e,n))}static inline(t,e,n,r){return new $e(t,e,new Ve(n,r))}static node(t,e,n,r){return new $e(t,e,new Fe(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ve}get widget(){return this.type instanceof ze}}const He=[],Ue={};class We{constructor(t,e){this.local=t.length?t:He,this.children=e.length?e:He}static create(t,e){return e.length?Ze(e,t,0,Ue):Ke}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<e&&this.children[i+1]>t){let s=this.children[i]+1;this.children[i+2].findInner(t-s,e-s,n,r+s,o)}}map(t,e,n){return this==Ke||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Ue)}mapInner(t,e,n,r,o){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,o,i,s){let a=t.slice();for(let c=0,d=i;c<n.maps.length;c++){let t=0;n.maps[c].forEach((e,n,r,o)=>{let i=o-r-(n-e);for(let s=0;s<a.length;s+=3){let r=a[s+1];if(r<0||e>r+d-t)continue;let o=a[s]+d-t;n>=o?a[s+1]=e<=o?-2:-1:e>=d&&i&&(a[s]+=i,a[s+1]+=i)}t+=i}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let e=n.map(t[c]+i),d=e-o;if(d<0||d>=r.content.size){l=!0;continue}let u=n.map(t[c+1]+i,-1)-o,{index:h,offset:p}=r.content.findIndex(d),f=r.maybeChild(h);if(f&&p==d&&p+f.nodeSize==u){let r=a[c+2].mapInner(n,f,e+1,t[c]+i+1,s);r!=Ke?(a[c]=d,a[c+1]=u,a[c+2]=r):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(t,e,n,r,o,i,s){function a(t,e){for(let i=0;i<t.local.length;i++){let a=t.local[i].map(r,o,e);a?n.push(a):s.onRemove&&s.onRemove(t.local[i].spec)}for(let n=0;n<t.children.length;n+=3)a(t.children[n+2],t.children[n]+e+1)}for(let l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+i+1);return n}(a,t,e,n,o,i,s),c=Ze(l,r,0,s);e=c.local;for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3);for(let t=0,e=0;t<c.children.length;t+=3){let n=c.children[t];for(;e<a.length&&a[e]<n;)e+=3;a.splice(e,0,c.children[t],c.children[t+1],c.children[t+2])}}return new We(e.sort(Ge),a)}(this.children,i||[],t,e,n,r,o):i?new We(i.sort(Ge),He):Ke}add(t,e){return e.length?this==Ke?We.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,o=0;t.forEach((t,i)=>{let s,a=i+n;if(s=Je(e,t,a)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(t,s,a+1):r.splice(o,0,i,i+t.nodeSize,Ze(s,t,a+1,Ue)),o+=3}});let i=Xe(o?Ye(e):e,-n);for(let s=0;s<i.length;s++)i[s].type.valid(t,i[s])||i.splice(s--,1);return new We(i.length?this.local.concat(i).sort(Ge):this.local,r||this.children)}remove(t){return 0==t.length||this==Ke?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+e,s=n[o+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>i&&e.to<s&&(t[n]=null,(r||(r=[])).push(e));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(r,i+1);a!=Ke?n[o+2]=a:(n.splice(o,3),o-=3)}if(r.length)for(let o,i=0;i<t.length;i++)if(o=t[i])for(let t=0;t<r.length;t++)r[t].eq(o,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new We(r,n):Ke}forChild(t,e){if(this==Ke)return this;if(e.isLeaf)return We.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let o=t+1,i=o+e.content.size;for(let s=0;s<this.local.length;s++){let t=this.local[s];if(t.from<i&&t.to>o&&t.type instanceof Ve){let e=Math.max(o,t.from)-o,n=Math.min(i,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let t=new We(r.sort(Ge),He);return n?new qe([t,n]):t}return n||Ke}eq(t){if(this==t)return!0;if(!(t instanceof We)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Qe(this.localsInner(t))}localsInner(t){if(this==Ke)return He;if(t.inlineContent||!this.local.some(Ve.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ve||e.push(this.local[n]);return e}forEachSet(t){t(this)}}We.empty=new We([],[]),We.removeOverlap=Qe;const Ke=We.empty;class qe{constructor(t){this.members=t}map(t,e){const n=this.members.map(n=>n.map(t,e,Ue));return qe.from(n)}forChild(t,e){if(e.isLeaf)return We.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=Ke&&(o instanceof qe?n=n.concat(o.members):n.push(o))}return qe.from(n)}eq(t){if(!(t instanceof qe)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<o.length;t++)e.push(o[t])}else e=o}return e?Qe(n?e:e.sort(Ge)):He}static from(t){switch(t.length){case 0:return Ke;case 1:return t[0];default:return new qe(t.every(t=>t instanceof We)?t:t.reduce((t,e)=>t.concat(e instanceof We?e:e.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}}function Xe(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new $e(o.from+e,o.to+e,o.type))}return n}function Je(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let i,s=0;s<t.length;s++)(i=t[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),t[s]=null);return o}function Ye(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Ze(t,e,n,r){let o=[],i=!1;e.forEach((e,s)=>{let a=Je(t,e,s+n);if(a){i=!0;let t=Ze(a,e,n+s+1,r);t!=Ke&&o.push(s,s+e.nodeSize,t)}});let s=Xe(i?Ye(t):t,-n).sort(Ge);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new We(s,o):Ke}function Ge(t,e){return t.from-e.from||t.to-e.to}function Qe(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),tn(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),tn(e,o+1,i.copy(r.to,i.to)))}}return e}function tn(t,e,n){for(;e<t.length&&Ge(n,t[e])>0;)e++;t.splice(e,0,n)}function en(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ke&&e.push(r)}),t.cursorWrapper&&e.push(We.create(t.state.doc,[t.cursorWrapper.deco])),qe.from(e)}const nn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},rn=S&&C<=11;class on{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class sn{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new on,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);S&&C<=11&&t.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),rn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Lt(this.view)){if(this.suppressingSelectionUpdates)return Ot(this.view);if(S&&C<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&d(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,n=new Set;for(let o=t.focusNode;o;o=a(o))n.add(o);for(let o=t.anchorNode;o;o=a(o))if(n.has(o)){e=o;break}let r=e&&this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Lt(t)&&!this.ignoreSelectionChange(n),i=-1,s=-1,a=!1,l=[];if(t.editable)for(let r=0;r<e.length;r++){let t=this.registerMutation(e[r],l);t&&(i=i<0?t.from:Math.min(t.from,i),s=s<0?t.to:Math.max(t.to,s),t.typeOver&&(a=!0))}if(E&&l.length){let e=l.filter(t=>"BR"==t.nodeName);if(2==e.length){let[t,n]=e;t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of e){let e=r.parentNode;!e||"LI"!=e.nodeName||n&&dn(t,n)==e||r.remove()}}}let c=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&m(n)&&(c=Mt(t))&&c.eq(r.LN.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ot(t),this.currentSelection.set(n),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,s),function(t){if(an.has(t))return;if(an.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)){if(t.requiresGeckoHackNode=E,ln)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ln=!0}}(t)),this.handleDOMChange(i,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Ot(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++){let r=t.addedNodes[n];e.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,o=t.nextSibling;if(S&&C<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:i}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(t.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==t.target?s(r)+1:0,a=n.localPosFromDOM(t.target,i,-1),l=o&&o.parentNode==t.target?s(o):t.target.childNodes.length;return{from:a,to:n.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let an=new WeakMap,ln=!1;function cn(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return d(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function dn(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let e=t.docView.nearestDesc(n,!0);if(e&&e.node.isBlock)return n}return null}function un(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(_&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||_&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hn=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pn(t,e,n,i,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=Mt(t,e);if(n&&!t.state.selection.eq(n)){if(T&&D&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",e=>e(t,g(13,"Enter"))))return;let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),a&&r.setMeta("composition",a),t.dispatch(r)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d,u,h=t.state.selection,p=function(t,e,n){let r,{node:i,fromOffset:s,toOffset:a,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),u=d.anchorNode;if(u&&t.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:d.anchorOffset}],m(d)||r.push({node:d.focusNode,offset:d.focusOffset})),T&&8===t.input.lastKeyCode)for(let o=a;o>s;o--){let t=i.childNodes[o-1],e=t.pmViewDesc;if("BR"==t.nodeName&&!e){a=o;break}if(!e||e.size)break}let h=t.state.doc,p=t.someProp("domParser")||o.S4.fromSchema(t.state.schema),f=h.resolve(l),g=null,y=p.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:un,context:f});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),g={anchor:t+l,head:e+l}}return{doc:y,sel:g,from:l,to:c}}(t,e,n),f=t.state.doc,y=f.slice(p.from,p.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,u="end"):(d=t.state.selection.from,u="start"),t.input.lastKeyCode=null;let v=function(t,e,n,r,o){let i=t.findDiffStart(e,n);if(null==i)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==o){r-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&t.size<e.size){let t=r<=i&&r>=s?i-r:0;i-=t,i&&i<e.size&&gn(e.textBetween(i-1,i+1))&&(i+=t?1:-1),a=i+(a-s),s=i}else if(a<i){let e=r<=i&&r>=a?i-r:0;i-=e,i&&i<t.size&&gn(t.textBetween(i-1,i+1))&&(i+=e?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}(y.content,p.doc.content,p.from,d,u);if(v&&t.input.domChangeCount++,(A&&t.input.lastIOSEnter>Date.now()-225||D)&&s.some(t=>1==t.nodeType&&!hn.test(t.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",e=>e(t,g(13,"Enter"))))return void(t.input.lastIOSEnter=0);if(!v){if(!(i&&h instanceof r.U3&&!h.empty&&h.$head.sameParent(h.$anchor))||t.composing||p.sel&&p.sel.anchor!=p.sel.head){if(p.sel){let e=fn(t,t.state.doc,p.sel);if(e&&!e.eq(t.state.selection)){let n=t.state.tr.setSelection(e);a&&n.setMeta("composition",a),t.dispatch(n)}}return}v={start:h.from,endA:h.to,endB:h.to}}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof r.U3&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),S&&C<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>p.from&&" \xa0"==p.doc.textBetween(v.start-p.from-1,v.start-p.from+1)&&(v.start--,v.endA--,v.endB--);let x,b=p.doc.resolveNoCache(v.start-p.from),w=p.doc.resolveNoCache(v.endB-p.from),k=f.resolve(v.start),E=b.sameParent(w)&&b.parent.inlineContent&&k.end()>=v.endA;if((A&&t.input.lastIOSEnter>Date.now()-225&&(!E||s.some(t=>"DIV"==t.nodeName||"P"==t.nodeName))||!E&&b.pos<p.doc.content.size&&(!b.sameParent(w)||!b.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(b.pos,w.pos,"",""))&&(x=r.LN.findFrom(p.doc.resolve(b.pos+1),1,!0))&&x.head>b.pos)&&t.someProp("handleKeyDown",e=>e(t,g(13,"Enter"))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>v.start&&function(t,e,n,r,o){if(n-e<=o.pos-r.pos||mn(r,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let t=i.nodeAfter;return null!=t&&n==e+t.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(mn(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||mn(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(f,v.start,v.endA,b,w)&&t.someProp("handleKeyDown",e=>e(t,g(8,"Backspace"))))return void(D&&T&&t.domObserver.suppressSelectionUpdates());T&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),D&&!E&&b.start()!=w.start()&&0==w.parentOffset&&b.depth==w.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==v.endA&&(v.endB-=2,w=p.doc.resolveNoCache(v.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(e){return e(t,g(13,"Enter"))})},20));let M,O=v.start,_=v.endA,N=e=>{let n=e||t.state.tr.replace(O,_,p.doc.slice(v.start-p.from,v.endB-p.from));if(p.sel){let e=fn(t,n.doc,p.sel);e&&!(T&&t.composing&&e.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(e.head==O||e.head==n.mapping.map(_)-1)||S&&e.empty&&e.head==O)&&n.setSelection(e)}return a&&n.setMeta("composition",a),n.scrollIntoView()};if(E){if(b.pos==w.pos){S&&C<=11&&0==b.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ot(t),20));let e=N(t.state.tr.delete(O,_)),n=f.resolve(v.start).marksAcross(f.resolve(v.endA));n&&e.ensureMarks(n),t.dispatch(e)}else if(v.endA==v.endB&&(M=function(t,e){let n,r,i,s=t.firstChild.marks,a=e.firstChild.marks,l=s,c=a;for(let o=0;o<a.length;o++)l=a[o].removeFromSet(l);for(let o=0;o<s.length;o++)c=s[o].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",i=t=>t.mark(r.addToSet(t.marks));else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",i=t=>t.mark(r.removeFromSet(t.marks))}let d=[];for(let o=0;o<e.childCount;o++)d.push(i(e.child(o)));if(o.FK.from(d).eq(t))return{mark:r,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),k.parent.content.cut(k.parentOffset,v.endA-k.start())))){let e=N(t.state.tr);"add"==M.type?e.addMark(O,_,M.mark):e.removeMark(O,_,M.mark),t.dispatch(e)}else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){let e=b.parent.textBetween(b.parentOffset,w.parentOffset),n=()=>N(t.state.tr.insertText(e,O,_));t.someProp("handleTextInput",r=>r(t,O,_,e,n))||t.dispatch(n())}}else t.dispatch(N())}function fn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:It(t,e.resolve(n.anchor),e.resolve(n.head))}function mn(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,o++}return o}function gn(t){if(2!=t.length)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class yn{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new he,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(kn),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=bn(this),xn(this),this.nodeViews=wn(this),this.docView=dt(this.state.doc,vn(this),en(this),this.dom,this),this.domObserver=new sn(this,(t,e,n,r)=>pn(this,t,e,n,r)),this.domObserver.start(),function(t){for(let e in ce){let n=ce[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!ge(t,e)||me(t,e)||!t.editable&&e.type in de||n(t,e)},ue[e]?{passive:!0}:void 0)}_&&t.dom.addEventListener("input",()=>null),fe(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&fe(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(kn),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,o=!1,i=!1;t.storedMarks&&this.composing&&(_e(this),i=!0),this.state=t;let s=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=wn(this);(function(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r})(t,this.nodeViews)&&(this.nodeViews=t,o=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&fe(this),this.editable=bn(this),xn(this);let a=en(this),l=vn(this),c=r.plugins==t.plugins||r.doc.eq(t.doc)?t.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(t.doc,l,a);!u&&t.selection.eq(r.selection)||(i=!0);let h="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(t){let e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=t.root.elementFromPoint(i,s);if(!r||r==t.dom||!t.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=o-20){e=r,n=a.top;break}}return{refDOM:e,refTop:n,stack:V(t.dom)}}(this);if(i){this.domObserver.stop();let e=u&&(S||T)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&function(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}(r.selection,t.selection);if(u){let n=T?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ae(this)),!o&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=dt(t.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return d(e.node,e.offset,n.anchorNode,n.anchorOffset)}(this))?Ot(this,e):(Dt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():h&&function(t){let{refDOM:e,refTop:n,stack:r}=t,o=e?e.getBoundingClientRect().top:0;F(r,0==o?0:o-n)}(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(t&&this.dom.contains(1==t.nodeType?t:t.parentNode))if(this.someProp("handleScrollToSelection",t=>t(this)));else if(this.state.selection instanceof r.nh){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&z(this,e.getBoundingClientRect(),t)}else z(this,this.coordsAtPos(this.state.selection.head,1),t);else;}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}updateDraggedNode(t,e){let n=t.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let t=n.from+(this.state.doc.content.size-e.doc.content.size);(t>0&&this.state.doc.nodeAt(t))==n.node&&(o=t)}this.dragging=new Ie(t.slice,t.move,o<0?void 0:r.nh.create(this.state.doc,o))}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[t];if(null!=r&&(n=e?e(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[t];if(null!=r&&(n=e?e(r):r))return n}}hasFocus(){if(S){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if($)return t.focus($);let e=V(t);t.focus(null==$?{get preventScroll(){return $={preventScroll:!0},!0}}:void 0),$||($=!1,F(e,0))}(this.dom),Ot(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}updateRoot(){this._root=null}posAtCoords(t){return K(this,t)}coordsAtPos(t){return Y(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}domAtPos(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return ot(this,e||this.state,t)}pasteHTML(t,e){return De(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return De(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return Zt(this,t)}destroy(){this.docView&&(!function(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],en(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,l=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(t,e){me(t,e)||!ce[e.type]||!t.editable&&e.type in de||ce[e.type](t,e)}(this,t)}domSelectionRange(){let t=this.domSelection();return t?_&&11===this.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return cn(t,n)}let n;function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?cn(t,n):null}(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function vn(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t?e.class+=" "+n[t]:"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))}),e.translate||(e.translate="no"),[$e.node(0,t.state.doc.content.size,e)]}function xn(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$e.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function bn(t){return!t.someProp("editable",e=>!1===e(t.state))}function wn(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function kn(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}yn.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}},1141:(t,e,n)=>{var r=n(143),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},1143:(t,e,n)=>{var r=n(3028)(Object.keys,Object);t.exports=r},1161:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},1163:(t,e,n)=>{var r=n(5647),o=n(3211),i=n(929),s=n(474),a=Object.prototype,l=a.hasOwnProperty,c=r(function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var d=e[n],u=s(d),h=-1,p=u.length;++h<p;){var f=u[h],m=t[f];(void 0===m||o(m,a[f])&&!l.call(t,f))&&(t[f]=d[f])}return t});t.exports=c},1170:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},1268:(t,e,n)=>{var r=n(5428),o=n(7574),i=n(6832),s=i&&i.isTypedArray,a=s?o(s):r;t.exports=a},1277:(t,e,n)=>{"use strict";var r=n(8208),o=n(5641),i=n(9558).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,function(e){var o=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=i+o/2}),i+=o+n})})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),function(e,n){t.node(n).x=e})}},1295:(t,e,n)=>{var r=n(9812),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},1310:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},1340:(t,e,n)=>{var r=n(3211);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1360:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1367:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]])},1482:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]])},1516:(t,e,n)=>{var r=n(2929);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},1558:t=>{t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},1609:(t,e,n)=>{var r=n(6614),o=n(474);t.exports=function(t){return r(t,o(t))}},1629:(t,e,n)=>{var r=n(6913),o=n(6686);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1632:(t,e,n)=>{var r=n(4724),o=n(6311),i=n(7168);t.exports=function(t){return o(t)?i(t):r(t)}},1680:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},1714:(t,e,n)=>{var r=n(1340);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},1733:(t,e,n)=>{var r=n(1775),o=n(4664),i=n(9096);t.exports=function(t,e){var n={};return e=i(e,3),o(t,function(t,o,i){r(n,o,e(t,o,i))}),n}},1740:(t,e,n)=>{var r=n(7132);t.exports=function(t){return r(t,4)}},1775:(t,e,n)=>{var r=n(5654);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},1817:(t,e,n)=>{var r=n(6686),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},1827:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]])},1896:(t,e,n)=>{var r=n(2125);t.exports=function(t,e){return r(t,e,"post")}},1946:(t,e,n)=>{var r=n(1340);t.exports=function(t){return r(this.__data__,t)>-1}},1980:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},1981:(t,e,n)=>{"use strict";var r=n(8208);function o(t){r.forEach(t.nodes(),function(e){i(t.node(e))}),r.forEach(t.edges(),function(e){i(t.edge(e))})}function i(t){var e=t.width;t.width=t.height,t.height=e}function s(t){t.y=-t.y}function a(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),function(e){s(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"y")&&s(n)})}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),function(e){a(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"x")&&a(n)})}(t),o(t))}}},1987:(t,e,n)=>{var r=n(8208),o=n(7938).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),s=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(e){return t.node(e)});return r.forEach(t.nodes(),function(o){var a=t.node(o),l=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(s.setNode(o),s.setParent(o,l||i),r.forEach(t[n](o),function(e){var n=e.v===o?e.w:e.v,i=s.edge(n,o),a=r.isUndefined(i)?0:i.weight;s.setEdge(n,o,{weight:t.edge(e).weight+a})}),r.has(a,"minRank")&&s.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),s}},2024:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2054:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2070:(t,e,n)=>{var r=n(7937)(n(6552),"Set");t.exports=r},2074:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},2117:(t,e,n)=>{var r=n(6741),o=n(9057);t.exports=function(t,e){return null!=t&&o(t,e,r)}},2119:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]])},2125:(t,e,n)=>{var r=n(5750);function o(t,e,n,i,s,a){r.has(i,e)||(i[e]=!0,n||a.push(e),r.each(s(e),function(e){o(t,e,n,i,s,a)}),n&&a.push(e))}t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],a={};return r.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);o(t,e,"post"===n,a,i,s)}),s}},2154:(t,e,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},2190:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(0,n(5043).createContext)({})},2195:(t,e,n)=>{"use strict";n.d(e,{K:()=>m,w:()=>f});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},i="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)r[48+a]=r[96+a]=String(a);for(a=1;a<=24;a++)r[a+111]="F"+a;for(a=65;a<=90;a++)r[a]=String.fromCharCode(a+32),o[a]=String.fromCharCode(a);for(var l in r)o.hasOwnProperty(l)||(o[l]=r[l]);var c=n(7184);const d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),u="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function h(t){let e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let a=0;a<i.length-1;a++){let t=i[a];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);d?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function p(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function f(t){return new c.k_({props:{handleKeyDown:m(t)}})}function m(t){let e=function(t){let e=Object.create(null);for(let n in t)e[h(n)]=t[n];return e}(t);return function(t,n){let a,l=function(t){var e=!(i&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||s&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?o:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),c=e[p(l,n)];if(c&&c(t.state,t.dispatch,t))return!0;if(1==l.length&&" "!=l){if(n.shiftKey){let r=e[p(l,n,!1)];if(r&&r(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(u&&n.ctrlKey&&n.altKey)&&(a=r[n.keyCode])&&a!=l){let r=e[p(a,n)];if(r&&r(t.state,t.dispatch,t))return!0}}return!1}}},2284:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},2322:(t,e,n)=>{var r=n(6913),o=n(5990),i=n(2761),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=l.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},2330:(t,e,n)=>{"use strict";var r=n(5043);var o="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},i=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o(t,n)}catch(r){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=i({inst:{value:n,getSnapshot:e}}),o=r[0].inst,d=r[1];return a(function(){o.value=n,o.getSnapshot=e,c(o)&&d({inst:o})},[t,n,e]),s(function(){return c(o)&&d({inst:o}),t(function(){c(o)&&d({inst:o})})},[t]),l(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},2382:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2460:(t,e,n)=>{"use strict";var r=n(5758).longestPath,o=n(3088),i=n(4501);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:a(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":s(t)}};var s=r;function a(t){i(t)}},2520:(t,e,n)=>{var r=n(5816),o=n(9096),i=n(9140),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var l=null==n?0:i(n);return l<0&&(l=s(a+l,0)),r(t,o(e,3),l)}},2536:(t,e,n)=>{var r=n(149),o=n(2969),i=n(9096),s=n(8883),a=n(320),l=n(7574),c=n(5893),d=n(3279),u=n(4052);t.exports=function(t,e,n){e=e.length?r(e,function(t){return u(t)?function(e){return o(e,1===t.length?t[0]:t)}:t}):[d];var h=-1;e=r(e,l(i));var p=s(t,function(t,n,o){return{criteria:r(e,function(e){return e(t)}),index:++h,value:t}});return a(p,function(t,e){return c(t,e,n)})}},2541:t=>{t.exports=function(t){return function(){return t}}},2580:(t,e,n)=>{t.exports=n(5491)},2587:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},2597:(t,e,n)=>{var r=n(4052),o=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!i.test(t)||null!=e&&t in Object(e))}},2616:(t,e,n)=>{var r=n(4008),o=n(5857)(function(t,e){return null==t?{}:r(t,e)});t.exports=o},2622:(t,e,n)=>{var r=n(705);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},2626:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},2662:(t,e,n)=>{var r=n(5575);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},2717:(t,e,n)=>{var r=n(726),o=n(1817),i=n(4664),s=n(9096),a=n(5990),l=n(4052),c=n(4543),d=n(1629),u=n(6686),h=n(1268);t.exports=function(t,e,n){var p=l(t),f=p||c(t)||h(t);if(e=s(e,4),null==n){var m=t&&t.constructor;n=f?p?new m:[]:u(t)&&d(m)?o(a(t)):{}}return(f?r:i)(t,function(t,r,o){return e(n,t,r,o)}),n}},2759:(t,e,n)=>{var r=n(9421),o=n(5652),i=n(9096),s=n(6487),a=n(4052);t.exports=function(t,e,n){var l=a(t)?r:s,c=arguments.length<3;return l(t,i(e,4),n,c,o)}},2761:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2777:(t,e,n)=>{var r=n(5193),o=n(2761),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},2786:(t,e,n)=>{"use strict";var r=n(8208),o=n(5641);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),function(e){!function(t,e){var n,r,i,s=e.v,a=t.node(s).rank,l=e.w,c=t.node(l).rank,d=e.name,u=t.edge(e),h=u.labelRank;if(c===a+1)return;for(t.removeEdge(e),i=0,++a;a<c;++i,++a)u.points=[],r={width:0,height:0,edgeLabel:u,edgeObj:e,rank:a},n=o.addDummyNode(t,"edge",r,"_d"),a===h&&(r.width=u.width,r.height=u.height,r.dummy="edge-label",r.labelpos=u.labelpos),t.setEdge(s,n,{weight:u.weight},d),0===i&&t.graph().dummyChains.push(n),s=n;t.setEdge(s,l,{weight:u.weight},d)}(t,e)})},undo:function(t){r.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)})}}},2866:(t,e,n)=>{var r=n(2969);t.exports=function(t){return function(e){return r(e,t)}}},2929:(t,e,n)=>{var r=n(6552).Uint8Array;t.exports=r},2969:(t,e,n)=>{var r=n(5324),o=n(914);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},3028:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},3088:(t,e,n)=>{"use strict";var r=n(8208),o=n(7938).Graph,i=n(5758).slack;function s(t,e){return r.forEach(t.nodes(),function n(o){r.forEach(e.nodeEdges(o),function(r){var s=r.v,a=o===s?r.w:s;t.hasNode(a)||i(e,r)||(t.setNode(a,{}),t.setEdge(o,a,{}),n(a))})}),t.nodeCount()}function a(t,e){return r.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)})}function l(t,e,n){r.forEach(t.nodes(),function(t){e.node(t).rank+=n})}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],d=t.nodeCount();r.setNode(c,{});for(;s(r,t)<d;)e=a(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),l(r,t,n);return r}},3097:(t,e,n)=>{var r=n(2969);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},3130:(t,e,n)=>{var r=n(8208),o=n(7938).Graph,i=n(6684);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,s=0,a=0;r.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),r.forEach(t.edges(),function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),a=Math.max(a,n.node(t.v).out+=o),s=Math.max(s,n.node(t.w).in+=o)});var c=r.range(a+s+3).map(function(){return new i}),d=s+1;return r.forEach(n.nodes(),function(t){l(c,d,n.node(t))}),{graph:n,buckets:c,zeroIdx:d}}(t,e||s),c=function(t,e,n){var r,o=[],i=e[e.length-1],s=e[0];for(;t.nodeCount();){for(;r=s.dequeue();)a(t,e,n,r);for(;r=i.dequeue();)a(t,e,n,r);if(t.nodeCount())for(var l=e.length-2;l>0;--l)if(r=e[l].dequeue()){o=o.concat(a(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,function(e){return t.outEdges(e.v,e.w)}),!0)};var s=r.constant(1);function a(t,e,n,o,i){var s=i?[]:void 0;return r.forEach(t.inEdges(o.v),function(r){var o=t.edge(r),a=t.node(r.v);i&&s.push({v:r.v,w:r.w}),a.out-=o,l(e,n,a)}),r.forEach(t.outEdges(o.v),function(r){var o=t.edge(r),i=r.w,s=t.node(i);s.in-=o,l(e,n,s)}),t.removeNode(o.v),s}function l(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},3165:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3211:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},3223:(t,e,n)=>{var r=n(3868),o=n(4353),i=n(8710),s=n(1980),a=n(310),l=n(2777),c=n(4052),d=n(6272),u=n(4543),h=n(1629),p=n(6686),f=n(2322),m=n(1268),g=n(3737),y=n(1609);t.exports=function(t,e,n,v,x,b,w){var k=g(t,n),S=g(e,n),C=w.get(S);if(C)r(t,n,C);else{var E=b?b(k,S,n+"",t,e,w):void 0,M=void 0===E;if(M){var T=c(S),O=!T&&u(S),_=!T&&!O&&m(S);E=S,T||O||_?c(k)?E=k:d(k)?E=s(k):O?(M=!1,E=o(S,!0)):_?(M=!1,E=i(S,!0)):E=[]:f(S)||l(S)?(E=k,l(k)?E=y(k):p(k)&&!h(k)||(E=a(S))):M=!1}M&&(w.set(S,E),x(E,S,v,b,w),w.delete(S)),r(t,n,E)}}},3253:(t,e,n)=>{var r=n(5538),o=n(3868),i=n(4258),s=n(3223),a=n(6686),l=n(474),c=n(3737);t.exports=function t(e,n,d,u,h){e!==n&&i(n,function(i,l){if(h||(h=new r),a(i))s(e,n,l,d,t,u,h);else{var p=u?u(c(e,l),i,l+"",e,n,h):void 0;void 0===p&&(p=i),o(e,l,p)}},l)}},3279:t=>{t.exports=function(t){return t}},3331:(t,e,n)=>{var r=n(9676),o=n(929),i=n(7303);t.exports=function(t){return function(e,n,s){return s&&"number"!=typeof s&&o(e,n,s)&&(n=s=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),s=void 0===s?e<n?1:-1:i(s),r(e,n,s,t)}}},3343:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},3366:(t,e,n)=>{var r=n(7894),o=n(9057);t.exports=function(t,e){return null!=t&&o(t,e,r)}},3411:(t,e,n)=>{var r=n(149),o=n(9096),i=n(8883),s=n(4052);t.exports=function(t,e){return(s(t)?r:i)(t,o(e,3))}},3440:(t,e,n)=>{var r=n(6552)["__core-js_shared__"];t.exports=r},3516:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},3546:(t,e,n)=>{"use strict";n.d(e,{N:()=>v});var r=n(579),o=n(5043),i=n(2190),s=n(4930),a=n(293),l=n(9674),c=n(8676),d=n(1051);class u extends o.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=e.offsetParent,n=(0,c.s)(t)&&t.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(t){let{children:e,isPresent:n,anchorX:i,root:s}=t;const a=(0,o.useId)(),l=(0,o.useRef)(null),c=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,o.useContext)(d.Q);return(0,o.useInsertionEffect)(()=>{const{width:t,height:e,top:r,left:o,right:d}=c.current;if(n||!l.current||!t||!e)return;const u="left"===i?`left: ${o}`:`right: ${d}`;l.current.dataset.motionPopId=a;const p=document.createElement("style");h&&(p.nonce=h);const f=s??document.head;return f.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            ${u}px !important;\n            top: ${r}px !important;\n          }\n        `),()=>{f.contains(p)&&f.removeChild(p)}},[n]),(0,r.jsx)(u,{isPresent:n,childRef:l,sizeRef:c,children:o.cloneElement(e,{ref:l})})}const p=t=>{let{children:e,initial:n,isPresent:i,onExitComplete:a,custom:c,presenceAffectsLayout:d,mode:u,anchorX:p,root:m}=t;const g=(0,s.M)(f),y=(0,o.useId)();let v=!0,x=(0,o.useMemo)(()=>(v=!1,{id:y,initial:n,isPresent:i,custom:c,onExitComplete:t=>{g.set(t,!0);for(const e of g.values())if(!e)return;a&&a()},register:t=>(g.set(t,!1),()=>g.delete(t))}),[i,g,a]);return d&&v&&(x={...x}),(0,o.useMemo)(()=>{g.forEach((t,e)=>g.set(e,!1))},[i]),o.useEffect(()=>{!i&&!g.size&&a&&a()},[i]),"popLayout"===u&&(e=(0,r.jsx)(h,{isPresent:i,anchorX:p,root:m,children:e})),(0,r.jsx)(l.t.Provider,{value:x,children:e})};function f(){return new Map}var m=n(8917);const g=t=>t.key||"";function y(t){const e=[];return o.Children.forEach(t,t=>{(0,o.isValidElement)(t)&&e.push(t)}),e}const v=t=>{let{children:e,custom:n,initial:l=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:h=!1,anchorX:f="left",root:v}=t;const[x,b]=(0,m.xQ)(h),w=(0,o.useMemo)(()=>y(e),[e]),k=h&&!x?[]:w.map(g),S=(0,o.useRef)(!0),C=(0,o.useRef)(w),E=(0,s.M)(()=>new Map),[M,T]=(0,o.useState)(w),[O,_]=(0,o.useState)(w);(0,a.E)(()=>{S.current=!1,C.current=w;for(let t=0;t<O.length;t++){const e=g(O[t]);k.includes(e)?E.delete(e):!0!==E.get(e)&&E.set(e,!1)}},[O,k.length,k.join("-")]);const A=[];if(w!==M){let t=[...w];for(let e=0;e<O.length;e++){const n=O[e],r=g(n);k.includes(r)||(t.splice(e,0,n),A.push(n))}return"wait"===u&&A.length&&(t=A),_(y(t)),T(w),null}const{forceRender:N}=(0,o.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:O.map(t=>{const e=g(t),o=!(h&&!x)&&(w===O||k.includes(e));return(0,r.jsx)(p,{isPresent:o,initial:!(S.current&&!l)&&void 0,custom:n,presenceAffectsLayout:d,mode:u,root:v,onExitComplete:o?void 0:()=>{if(!E.has(e))return;E.set(e,!0);let t=!0;E.forEach(e=>{e||(t=!1)}),t&&(N?.(),_(C.current),h&&b?.(),c&&c())},anchorX:f,children:t},e)})})}},3577:(t,e,n)=>{t.exports={graphlib:n(7938),layout:n(6675),debug:n(3774),util:{time:n(5641).time,notime:n(5641).notime},version:n(5185)}},3668:(t,e,n)=>{var r=n(8902),o=n(2587),i=n(8114);t.exports=function(t,e,n,s,a,l){var c=1&n,d=t.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(t),p=l.get(e);if(h&&p)return h==e&&p==t;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++f<d;){var y=t[f],v=e[f];if(s)var x=c?s(v,y,f,e,t,l):s(y,v,f,t,e,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!o(e,function(t,e){if(!i(g,e)&&(y===t||a(y,t,n,s,l)))return g.push(e)})){m=!1;break}}else if(y!==v&&!a(y,v,n,s,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},3713:(t,e,n)=>{var r=n(6140),o=n(1143),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},3728:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]])},3737:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},3774:(t,e,n)=>{var r=n(8208),o=n(5641),i=n(7938).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.forEach(e,function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}}},3781:(t,e,n)=>{var r=n(9417),o=n(8673);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,r(s)]}return e}},3868:(t,e,n)=>{var r=n(1775),o=n(3211);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},3892:t=>{t.exports=function(t){return this.__data__.has(t)}},3932:(t,e,n)=>{var r=n(396),o=n(2866),i=n(2597),s=n(914);t.exports=function(t){return i(t)?r(s(t)):o(t)}},4008:(t,e,n)=>{var r=n(7449),o=n(3366);t.exports=function(t,e){return r(t,e,function(e,n){return o(t,n)})}},4020:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},4052:t=>{var e=Array.isArray;t.exports=e},4065:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},4079:(t,e,n)=>{var r=n(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=s},4160:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},4190:(t,e,n)=>{var r=n(1340);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},4258:(t,e,n)=>{var r=n(5906)();t.exports=r},4262:(t,e,n)=>{var r=n(8895),o=n(4052);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},4282:(t,e,n)=>{"use strict";function r(t){this.content=t}n.d(e,{S4:()=>G,ZF:()=>lt,FK:()=>a,CU:()=>u,sX:()=>J,bP:()=>N,u$:()=>_,vI:()=>h,Sj:()=>Y,Ji:()=>p}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),s=o.content.slice();return-1==i?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(-1==s?i.length:s,0,e,n),new r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};const o=r;function i(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),s=e.child(r);if(o!=s){if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let t=0;o.text[t]==s.text[t];t++)n++;return n}if(o.content.size||s.content.size){let t=i(o.content,s.content,n+1);if(null!=t)return t}n+=o.nodeSize}else n+=o.nodeSize}}function s(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let a=t.child(--o),l=e.child(--i),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let t=0,e=Math.min(a.text.length,l.text.length);for(;t<e&&a.text[a.text.length-t-1]==l.text[l.text.length-t-1];)t++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let t=s(a.content,l.content,n-1,r-1);if(t)return t}n-=c,r-=c}else n-=c,r-=c}}class a{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;for(let i=0,s=0;s<e;i++){let a=this.content[i],l=s+a.nodeSize;if(l>t&&!1!==n(a,r+s,o||null,i)&&a.content.size){let o=s+1;a.nodesBetween(Math.max(0,t-o),Math.min(a.content.size,e-o),n,r+o)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let o="",i=!0;return this.nodesBetween(t,e,(s,a)=>{let l=s.isText?s.text.slice(Math.max(t,a)-a,e-a):s.isLeaf?r?"function"===typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(i?i=!1:o+=n),o+=l},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new a(r,this.size+t.size)}cut(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let o=0,i=0;i<e;o++){let s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new a(n,r)}cutByIndex(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,o)}addToStart(t){return new a([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new a(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t){return i(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}findDiffEnd(t){return s(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size)}findIndex(t){if(0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let e=0,n=0;;e++){let r=n+this.child(e).nodeSize;if(r>=t)return r==t?c(e+1,r):c(e,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return a.empty;let e,n=0;for(let r=0;r<t.length;r++){let o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new a(e||t,n)}static from(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);const l={index:0,offset:0};function c(t,e){return l.index=t,l.offset=e,l}function d(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!d(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!d(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class u{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&d(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);let r=n.create(e.attrs);return n.checkAttrs(r.attrs),r}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return u.none;if(t instanceof u)return[t];let e=t.slice();return e.sort((t,e)=>t.type.rank-e.type.rank),e}}u.none=[];class h extends Error{}class p{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=m(this.content,t+this.openStart,e);return n&&new p(n,this.openStart,this.openEnd)}removeBetween(t,e){return new p(f(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return p.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new p(a.fromJSON(t,e.content),n,r)}static maxOpen(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new p(t,n,r)}}function f(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(o==e||i.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(f(i.content,e-o-1,n-o-1)))}function m(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=m(s.content,e-i-1,n);return a&&t.replaceChild(o,s.copy(a))}function g(t,e,n){if(n.openStart>t.depth)throw new h("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new h("Inconsistent open depths");return y(t,e,n,0)}function y(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let s=y(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:o,end:s}=function(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)r=e.node(o).copy(a.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return k(i,S(t,o,s,e,r))}{let r=t.parent,o=r.content;return k(r,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}}return k(i,C(t,e,r))}function v(t,e){if(!e.type.compatibleContent(t.type))throw new h("Cannot join "+e.type.name+" onto "+t.type.name)}function x(t,e,n){let r=t.node(n);return v(r,e.node(n)),r}function b(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function w(t,e,n,r){let o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(b(t.nodeAfter,r),i++));for(let a=i;a<s;a++)b(o.child(a),r);e&&e.depth==n&&e.textOffset&&b(e.nodeBefore,r)}function k(t,e){return t.type.checkContent(e),t.copy(e)}function S(t,e,n,r,o){let i=t.depth>o&&x(t,e,o+1),s=r.depth>o&&x(n,r,o+1),l=[];return w(null,t,o,l),i&&s&&e.index(o)==n.index(o)?(v(i,s),b(k(i,S(t,e,n,r,o+1)),l)):(i&&b(k(i,C(t,e,o+1)),l),w(e,n,o,l),s&&b(k(s,C(n,r,o+1)),l)),w(r,null,o,l),new a(l)}function C(t,e,n){let r=[];if(w(null,t,n,r),t.depth>n){b(k(x(t,e,n+1),C(t,e,n+1)),r)}return w(e,null,n,r),new a(r)}p.empty=new p(a.empty,0,0);class E{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let o=0;o<t;o++)r+=n.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return u.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1?arguments[1]:void 0;if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new _(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,o=e;for(let i=t;;){let{index:t,offset:e}=i.content.findIndex(o),s=o-e;if(n.push(i,t,r+e),!s)break;if(i=i.child(t),i.isText)break;o=s-1,r+=e+1}return new E(e,n,o)}static resolveCached(t,e){let n=O.get(t);if(n)for(let o=0;o<n.elts.length;o++){let t=n.elts[o];if(t.pos==e)return t}else O.set(t,n=new M);let r=n.elts[n.i]=E.resolve(t,e);return n.i=(n.i+1)%T,r}}class M{constructor(){this.elts=[],this.i=0}}const T=12,O=new WeakMap;class _{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const A=Object.create(null);class N{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.none;this.type=t,this.attrs=e,this.marks=r,this.content=n||a.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&d(this.attrs,e||t.defaultAttrs||A)&&u.sameSet(this.marks,n||u.none)}copy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t==this.content?this:new N(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new N(this.type,this.attrs,this.content,t)}cut(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t==e)return p.empty;let r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new p(a,r.depth-i,o.depth-i)}replace(t,e,n){return g(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return E.resolveCached(this,t)}resolveNoCache(t){return E.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,t=>(n.isInSet(t.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),D(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=u.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!u.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=a.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}N.prototype.text=void 0;class P extends N{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):D(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new P(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new P(this.type,this.attrs,t,this.marks)}cut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function D(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class R{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new I(t,e);if(null==n.next)return R.empty;let r=L(n);n.next&&n.err("Unexpected trailing text");let o=function(t){let e=Object.create(null);return n($(t,0));function n(r){let o=[];r.forEach(e=>{t[e].forEach(e=>{let n,{term:r,to:i}=e;if(r){for(let t=0;t<o.length;t++)o[t][0]==r&&(n=o[t][1]);$(t,i).forEach(t=>{n||o.push([r,n=[]]),-1==n.indexOf(t)&&n.push(t)})}})});let i=e[r.join(",")]=new R(r.indexOf(t.length-1)>-1);for(let t=0;t<o.length;t++){let r=o[t][1].sort(F);i.next.push({type:o[t][0],next:e[r.join(",")]||n(r)})}return i}}(function(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach(t=>t.to=e)}function i(t,e){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(i(n,e)),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(e,s),o(i(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return o(i(t.expr,e),s),o(i(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(e)].concat(i(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=n();o(i(t.expr,s),e),s=e}if(-1==t.max)o(i(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=n();r(s,e),o(i(t.expr,s),e),s=e}return[r(s)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=i(t.exprs[r],e);if(r==t.exprs.length-1)return s;o(s,e=n())}}}(r));return function(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],o=!t.validEnd,i=[];for(let e=0;e<t.next.length;e++){let{type:n,next:s}=t.next[e];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.childCount,r=this;for(let o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function o(i,s){let l=i.matchFragment(t,n);if(l&&(!e||l.validEnd))return a.from(s.map(t=>t.createAndFill()));for(let t=0;t<i.next.length;t++){let{type:e,next:n}=i.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=o(n,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<o.next.length;t++){let{type:i,next:s}=o.next[t];i.isLeaf||i.hasRequiredAttrs()||i.name in e||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),e[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}(this),t.map((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let o=0;o<e.next.length;o++)r+=(o?", ":"")+e.next[o].type.name+"->"+t.indexOf(e.next[o].next);return r}).join("\n")}}R.empty=new R(!0);class I{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function L(t){let e=[];do{e.push(j(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function j(t){let e=[];do{e.push(B(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function B(t){let e=function(t){if(t.eat("(")){let e=L(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let t=n[i];t.isInGroup(e)&&o.push(t)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=V(t,e)}return e}function z(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function V(t,e){let n=z(t),r=n;return t.eat(",")&&(r="}"!=t.next?z(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function F(t,e){return e-t}function $(t,e){let n=[];return function e(r){let o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(let t=0;t<o.length;t++){let{term:r,to:i}=o[t];r||-1!=n.indexOf(i)||e(i)}}(e),n.sort(F)}function H(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function U(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(void 0===o){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=e.default}n[r]=o}return n}function W(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let n=t[o];n.validate&&n.validate(e[o])}}function K(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new X(t,r,e[r]);return n}class q{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=K(t,n.attrs),this.defaultAttrs=H(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==R.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:U(this.attrs,t)}create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new N(this,this.computeAttrs(t),a.from(e),u.setFrom(n))}createChecked(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e=a.from(e),this.checkContent(e),new N(this,this.computeAttrs(t),e,u.setFrom(n))}createAndFill(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t=this.computeAttrs(t),e=a.from(e),e.size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(a.empty,!0);return o?new N(this,t,e.append(o),u.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){W(this.attrs,t,"node",this.name)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:u.none:t}static compile(t,e){let n=Object.create(null);t.forEach((t,r)=>n[t]=new q(t,e,r));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class X{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(t,e,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class J{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=K(t,r.attrs),this.excluded=null;let o=H(this.attrs);this.instance=o?new u(this,o):null}create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!t&&this.instance?this.instance:new u(this,U(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((t,o)=>n[t]=new J(t,r++,e,o)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){W(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Y{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=o.from(t.nodes),e.marks=o.from(t.marks||{}),this.nodes=q.compile(this.spec.nodes,this),this.marks=J.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let t=this.nodes[r],e=t.spec.content||"",o=t.spec.marks;if(t.contentMatch=n[e]||(n[e]=R.parse(e,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==o?null:o?Z(this,o.split(" ")):""!=o&&t.inlineContent?null:[]}for(let r in this.marks){let t=this.marks[r],e=t.spec.excludes;t.excluded=null==e?[t]:""==e?[]:Z(this,e.split(" "))}this.nodeFromJSON=t=>N.fromJSON(this,t),this.markFromJSON=t=>u.fromJSON(this,t),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof q))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new P(n,n.defaultAttrs,t,u.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function Z(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(let e in t.marks){let r=t.marks[e];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class G{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(t=>{if(function(t){return null!=t.tag}(t))this.tags.push(t);else if(function(t){return null!=t.style}(t)){let e=/[^=]*/.exec(t.style)[0];n.indexOf(e)<0&&n.push(e),this.styles.push(t)}}),this.normalizeLists=!this.tags.some(e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)})}parse(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ot(this,e,!1);return n.addAll(t,u.none,e.from,e.to),n.finish()}parseSlice(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ot(this,e,!0);return n.addAll(t,u.none,e.from,e.to),p.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(it(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(t)||r.context&&!n.matchesContext(r.context)||i.length>t.length&&(61!=i.charCodeAt(t.length)||i.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r];if((null==t.priority?50:t.priority)<n)break}e.splice(r,0,t)}for(let r in t.marks){let e=t.marks[r].spec.parseDOM;e&&e.forEach(t=>{n(t=st(t)),t.mark||t.ignore||t.clearMark||(t.mark=r)})}for(let r in t.nodes){let e=t.nodes[r].spec.parseDOM;e&&e.forEach(t=>{n(t=st(t)),t.node||t.ignore||t.mark||(t.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new G(t,G.schemaRules(t)))}}const Q={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},et={ol:!0,ul:!0};function nt(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}class rt{constructor(t,e,n,r,o,i){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=u.none,this.match=o||(4&i?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(a.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=a.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Q.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ot{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,o=e.topNode,i=nt(null,e.preserveWhitespace,0)|(n?4:0);r=o?new rt(o.type,o.attrs,u.none,!0,e.topMatch||o.type.contentMatch,i):new rt(n?null:t.schema.topNodeType,null,u.none,!0,null,i),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){3==t.nodeType?this.addTextNode(t,e):1==t.nodeType&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,o=2&r.options?"full":this.localPreserveWS||(1&r.options)>0;if("full"===o||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)n="full"!==o?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let e=r.content[r.content.length-1],o=t.previousSibling;(!e||o&&"BR"==o.nodeName||e.isText&&/[ \t\r\n\u000c]$/.test(e.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,o=this.top;("PRE"==t.tagName||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let i,s=t.nodeName.toLowerCase();et.hasOwnProperty(s)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&et.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}(t);let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));t:if(a?a.ignore:tt.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,e);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip);let n,r=this.needsBlock;if(Q.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break t}let i=a&&a.skip?e:this.readStyles(t,e);i&&this.addAll(t,i),n&&this.sync(o),this.needsBlock=r}else{let n=this.readStyles(t,e);n&&this.addElementByRule(t,a,n,!1===a.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(t,e){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),e)}ignoreFallback(t,e){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let t=this.parser.matchedStyles[r],o=n.getPropertyValue(t);if(o)for(let n;;){let r=this.parser.matchStyle(t,o,this,n);if(!r)break;if(r.ignore)return null;if(e=r.clearMark?e.filter(t=>!r.clearMark(t)):e.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return e}addElementByRule(t,e,n,r){let o,i;if(e.node)if(i=this.parser.schema.nodes[e.node],i.isLeaf)this.insertNode(i.create(e.attrs),n,"BR"==t.nodeName)||this.leafFallback(t,n);else{let t=this.enter(i,e.attrs||null,n,e.preserveWhitespace);t&&(o=!0,n=t)}else{let t=this.parser.schema.marks[e.mark];n=n.concat(t.create(e.attrs))}let s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(t=>this.insertNode(t,n,!1));else{let r=t;"string"==typeof e.contentElement?r=t.querySelector(e.contentElement):"function"==typeof e.contentElement?r=e.contentElement(t):e.contentElement&&(r=e.contentElement),this.findAround(t,r,!0),this.addAll(r,n),this.findAround(t,r,!1)}o&&this.sync(s)&&this.open--}addAll(t,e,n,r){let o=n||0;for(let i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i,e);this.findAtPoint(t,o)}findPlace(t,e,n){let r,o;for(let i=this.open,s=0;i>=0;i--){let e=this.nodes[i],a=e.findWrapping(t);if(a&&(!r||r.length>a.length+s)&&(r=a,o=e,!a.length))break;if(e.solid){if(n)break;s+=2}}if(!r)return null;this.sync(o);for(let i=0;i<r.length;i++)e=this.enterInner(r[i],null,e,!1);return e}insertNode(t,e,n){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&(e=this.enterInner(t,null,e))}let r=this.findPlace(t,e,n);if(r){this.closeExtra();let e=this.top;e.match&&(e.match=e.match.matchType(t.type));let n=u.none;for(let o of r.concat(t.marks))(e.type?e.type.allowsMarkType(o.type):at(o.type,t.type))&&(n=o.addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n,r){let o=this.findPlace(t.create(e),n,!1);return o&&(o=this.enterInner(t,e,n,!0,r)),o}enterInner(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(t);let s=nt(t,o,i.options);4&i.options&&0==i.content.length&&(s|=4);let a=u.none;return n=n.filter(e=>!(i.type?i.type.allowsMarkType(e.type):at(e.type,t))||(a=e.addToSet(a),!1)),this.nodes.push(new rt(t,e,a,r,null,s)),this.open++,n}closeExtra(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=1)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=o;s--)if(i(t-1,s))return!0;return!1}{let t=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!t||t.name!=a&&!t.isInGroup(a))return!1;s--}}return!0};return i(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}}function it(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function st(t){let e={};for(let n in t)e[n]=t[n];return e}function at(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],s=t=>{i.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:o}=t.edge(n);if(r==e)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}class lt{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=dt(e).createDocumentFragment());let r=n,o=[];return t.forEach(t=>{if(o.length||t.marks.length){let n=0,i=0;for(;n<o.length&&i<t.marks.length;){let e=t.marks[i];if(this.marks[e.type.name]){if(!e.eq(o[n][0])||!1===e.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<t.marks.length;){let n=t.marks[i++],s=this.serializeMark(n,t.isInline,e);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(t,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=pt(dt(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.marks[t.type.name];return r&&pt(dt(n),r(t,e),null,t.attrs)}static renderSpec(t,e){return pt(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new lt(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=ct(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return ct(t.marks)}}function ct(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function dt(t){return t.document||window.document}const ut=new WeakMap;function ht(t){let e=ut.get(t);return void 0===e&&ut.set(t,e=function(t){let e=null;function n(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])e||(e=[]),e.push(t);else for(let e=0;e<t.length;e++)n(t[e]);else for(let e in t)n(t[e])}return n(t),e}(t)),e}function pt(t,e,n,r){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let o,i=e[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=ht(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],d=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2;for(let t in c)if(null!=c[t]){let e=t.indexOf(" ");e>0?l.setAttributeNS(t.slice(0,e),t.slice(e+1),c[t]):"style"==t&&l.style?l.style.cssText=c[t]:l.setAttribute(t,c[t])}}for(let u=d;u<e.length;u++){let o=e[u];if(0===o){if(u<e.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:e,contentDOM:i}=pt(t,o,n,r);if(l.appendChild(e),i){if(s)throw new RangeError("Multiple content holes");s=i}}}return{dom:l,contentDOM:s}}},4308:(t,e,n)=>{"use strict";var r=n(8208);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,function(t,e){return e})),i=r.flatten(r.map(e,function(e){return r.sortBy(r.map(t.outEdges(e),function(e){return{pos:o[e.w],weight:t.edge(e).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var l=r.map(new Array(a),function(){return 0}),c=0;return r.forEach(i.forEach(function(t){var e=t.pos+s;l[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=l[e+1]),l[e=e-1>>1]+=t.weight;c+=t.weight*n})),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},4320:(t,e,n)=>{var r=n(3713),o=n(6924),i=n(2777),s=n(4052),a=n(6571),l=n(4543),c=n(6140),d=n(1268),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||d(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(u.call(t,n))return!1;return!0}},4353:(t,e,n)=>{t=n.nmd(t);var r=n(6552),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}},4416:(t,e,n)=>{var r=n(8902),o=n(5866),i=n(1558),s=n(8114),a=n(8182),l=n(2074);t.exports=function(t,e,n){var c=-1,d=o,u=t.length,h=!0,p=[],f=p;if(n)h=!1,d=i;else if(u>=200){var m=e?null:a(t);if(m)return l(m);h=!1,d=s,f=new r}else f=e?[]:p;t:for(;++c<u;){var g=t[c],y=e?e(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=f.length;v--;)if(f[v]===y)continue t;e&&f.push(y),p.push(g)}else d(f,y,n)||(f!==p&&f.push(y),p.push(g))}return p}},4428:(t,e,n)=>{var r=n(5750);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(t){return t.key})},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},4459:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4501:(t,e,n)=>{"use strict";var r=n(8208),o=n(3088),i=n(5758).slack,s=n(5758).longestPath,a=n(7938).alg.preorder,l=n(7938).alg.postorder,c=n(5641).simplify;function d(t){t=c(t),s(t);var e,n=o(t);for(p(n),u(n,t);e=m(n);)y(n,t,e,g(n,t,e))}function u(t,e){var n=l(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(t,e,n){var r=t.node(n),o=r.parent;t.edge(n,o).cutvalue=h(t,e,n)}(t,e,n)})}function h(t,e,n){var o=t.node(n).parent,i=!0,s=e.edge(n,o),a=0;return s||(i=!1,s=e.edge(o,n)),a=s.weight,r.forEach(e.nodeEdges(n),function(r){var s,l,c=r.v===n,d=c?r.w:r.v;if(d!==o){var u=c===i,h=e.edge(r).weight;if(a+=u?h:-h,s=n,l=d,t.hasEdge(s,l)){var p=t.edge(n,d).cutvalue;a+=u?-p:p}}}),a}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),f(t,{},1,e)}function f(t,e,n,o,i){var s=n,a=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),function(i){r.has(e,i)||(n=f(t,e,n,i,o))}),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function m(t){return r.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function g(t,e,n){var o=n.v,s=n.w;e.hasEdge(o,s)||(o=n.w,s=n.v);var a=t.node(o),l=t.node(s),c=a,d=!1;a.lim>l.lim&&(c=l,d=!0);var u=r.filter(e.edges(),function(e){return d===v(t,t.node(e.v),c)&&d!==v(t,t.node(e.w),c)});return r.minBy(u,function(t){return i(e,t)})}function y(t,e,n,o){var i=n.v,s=n.w;t.removeEdge(i,s),t.setEdge(o.v,o.w,{}),p(t),u(t,e),function(t,e){var n=r.find(t.nodes(),function(t){return!e.node(t).parent}),o=a(t,n);o=o.slice(1),r.forEach(o,function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)})}(t,e)}function v(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=d,d.initLowLimValues=p,d.initCutValues=u,d.calcCutValue=h,d.leaveEdge=m,d.enterEdge=g,d.exchangeEdges=y},4537:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},4543:(t,e,n)=>{t=n.nmd(t);var r=n(6552),o=n(14),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,a=s&&s.exports===i?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;t.exports=l},4545:(t,e,n)=>{var r=n(7160);t.exports=function(){this.__data__=new r,this.size=0}},4552:(t,e,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(l){}var o=s.call(t);return r&&(e?t[a]=n:delete t[a]),o}},4570:(t,e,n)=>{var r=n(5647),o=n(929);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,a&&o(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,s)}return e})}},4596:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},4615:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("sticky-note",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]])},4657:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},4664:(t,e,n)=>{var r=n(4258),o=n(8673);t.exports=function(t,e){return t&&r(t,e,o)}},4677:(t,e,n)=>{var r=n(3253),o=n(4570)(function(t,e,n){r(t,e,n)});t.exports=o},4724:(t,e,n)=>{var r=n(396)("length");t.exports=r},4735:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});const r="undefined"!==typeof window},4757:(t,e,n)=>{var r=n(6552);t.exports=function(){return r.Date.now()}},4816:(t,e,n)=>{var r=n(7251),o=n(7159),i=n(438),s=n(9394),a=n(6874);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,t.exports=l},4830:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},4919:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4930:(t,e,n)=>{"use strict";n.d(e,{M:()=>o});var r=n(5043);function o(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}},4935:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},4990:(t,e,n)=>{"use strict";n.d(e,{$Z:()=>m,hG:()=>M});var r=n(5043),o=n(7950),i=n(129);function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a,l={exports:{}},c={};l.exports=function(){if(a)return c;a=1;var t=r,e="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},n=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!e(t,r)}catch(o){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var r=e(),a=n({inst:{value:r,getSnapshot:e}}),c=a[0].inst,d=a[1];return i(function(){c.value=r,c.getSnapshot=e,l(c)&&d({inst:c})},[t,r,e]),o(function(){return l(c)&&d({inst:c}),t(function(){l(c)&&d({inst:c})})},[t]),s(r),r};return c.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:d,c}();var d=l.exports;const u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach(e=>{"function"===typeof e?e(t):e&&(e.current=t)})}},h=t=>{let{contentComponent:e}=t;const n=d.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return r.createElement(r.Fragment,null,Object.values(n))};class p extends r.Component{constructor(t){var e;super(t),this.editorContentRef=r.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null===(e=t.editor)||void 0===e?void 0:e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=function(){const t=new Set;let e={};return{subscribe:e=>(t.add(e),()=>{t.delete(e)}),getSnapshot:()=>e,getServerSnapshot:()=>e,setRenderer(n,r){e={...e,[n]:o.createPortal(r.reactElement,r.element,n)},t.forEach(t=>t())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(t=>t())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const t=this.props.editor;if(!t)return;if(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!t.options.element.firstChild)return;const e=document.createElement("div");e.append(...t.options.element.childNodes),t.setOptions({element:e})}render(){const{editor:t,innerRef:e,...n}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{ref:u(e,this.editorContentRef),...n}),(null===t||void 0===t?void 0:t.contentComponent)&&r.createElement(h,{contentComponent:t.contentComponent}))}}const f=(0,r.forwardRef)((t,e)=>{const n=r.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[t.editor]);return r.createElement(p,{key:n,innerRef:e,...t})}),m=r.memo(f);var g,y=s(function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(o=r;0!==o--;)if(!t(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if((r=e.length)!=n.length)return!1;for(o=r;0!==o--;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(i=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var s=i[o];if(("_owner"!==s||!e.$$typeof)&&!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}),v={exports:{}},x={};v.exports=function(){if(g)return x;g=1;var t=r,e=d,n="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return x.useSyncExternalStoreWithSelector=function(t,e,r,c,d){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=a(function(){function t(t){if(!s){if(s=!0,o=t,t=c(t),void 0!==d&&h.hasValue){var e=h.value;if(d(e,t))return i=e}return i=t}if(e=i,n(o,t))return e;var r=c(t);return void 0!==d&&d(e,r)?e:(o=t,i=r)}var o,i,s=!1,a=void 0===r?null:r;return[function(){return t(e())},null===a?void 0:function(){return t(a())}]},[e,r,c,d]);var p=o(t,u[0],u[1]);return s(function(){h.hasValue=!0,h.value=p},[p]),l(p),p},x}();var b=v.exports;const w="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;class k{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(t=>t())},e=this.editor;return e.on("transaction",t),()=>{e.off("transaction",t)}}}}const S="undefined"===typeof window,C=S||Boolean("undefined"!==typeof window&&window.next);class E{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?S||C?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){var t=this;const e={...this.options.current,onBeforeCreate:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onBeforeCreate)||void 0===n?void 0:n.call(e,...o)},onBlur:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onBlur)||void 0===n?void 0:n.call(e,...o)},onCreate:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onCreate)||void 0===n?void 0:n.call(e,...o)},onDestroy:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onDestroy)||void 0===n?void 0:n.call(e,...o)},onFocus:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onFocus)||void 0===n?void 0:n.call(e,...o)},onSelectionUpdate:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onSelectionUpdate)||void 0===n?void 0:n.call(e,...o)},onTransaction:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onTransaction)||void 0===n?void 0:n.call(e,...o)},onUpdate:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onUpdate)||void 0===n?void 0:n.call(e,...o)},onContentError:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onContentError)||void 0===n?void 0:n.call(e,...o)},onDrop:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onDrop)||void 0===n?void 0:n.call(e,...o)},onPaste:function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=(e=t.options.current).onPaste)||void 0===n?void 0:n.call(e,...o)}};return new i.KE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,e){return Object.keys(t).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&t.extensions&&e.extensions?t.extensions.length===e.extensions.length&&t.extensions.every((t,n)=>{var r;return t===(null===(r=e.extensions)||void 0===r?void 0:r[n])}):t[n]===e[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?E.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=t);if(this.previousDeps.length===t.length&&this.previousDeps.every((e,n)=>e===t[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,e=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===t?e&&e.setOptions(this.options.current):e&&!e.isDestroyed&&(e.destroy(),this.instanceId===t&&this.setEditor(null))},1)}}function M(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,r.useRef)(t);n.current=t;const[o]=(0,r.useState)(()=>new E(n)),i=d.useSyncExternalStore(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,r.useDebugValue)(i),(0,r.useEffect)(o.onRender(e)),function(t){var e;const[n]=(0,r.useState)(()=>new k(t.editor)),o=b.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,null!==(e=t.equalityFn)&&void 0!==e?e:y);w(()=>n.watch(t.editor),[t.editor,n]),(0,r.useDebugValue)(o)}({editor:i,selector:e=>{let{transactionNumber:n}=e;return!1===t.shouldRerenderOnTransaction?null:t.immediatelyRender&&0===n?0:n+1}}),i}const T=(0,r.createContext)({editor:null});T.Consumer;const O=(0,r.createContext)({onDragStart:void 0}),_=()=>(0,r.useContext)(O);r.forwardRef((t,e)=>{const{onDragStart:n}=_(),o=t.as||"div";return r.createElement(o,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});i.Yv},5029:(t,e,n)=>{var r=n(6989),o=n(3097),i=n(3366),s=n(2597),a=n(9417),l=n(1310),c=n(914);t.exports=function(t,e){return s(t)&&a(e)?l(c(t),e):function(n){var s=o(n,t);return void 0===s&&s===e?i(n,t):r(e,s,3)}}},5051:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},5087:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5088:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5111:(t,e,n)=>{var r=n(3279);t.exports=function(t){return"function"==typeof t?t:r}},5119:(t,e,n)=>{var r=n(6614),o=n(474);t.exports=function(t,e){return t&&r(e,o(e),t)}},5146:(t,e,n)=>{var r=n(8208),o=n(5641);function i(t,e,n,s,a,l,c){var d=t.children(c);if(d.length){var u=o.addBorderNode(t,"_bt"),h=o.addBorderNode(t,"_bb"),p=t.node(c);t.setParent(u,c),p.borderTop=u,t.setParent(h,c),p.borderBottom=h,r.forEach(d,function(r){i(t,e,n,s,a,l,r);var o=t.node(r),d=o.borderTop?o.borderTop:r,p=o.borderBottom?o.borderBottom:r,f=o.borderTop?s:2*s,m=d!==p?1:a-l[c]+1;t.setEdge(u,d,{weight:f,minlen:m,nestingEdge:!0}),t.setEdge(p,h,{weight:f,minlen:m,nestingEdge:!0})}),t.parent(c)||t.setEdge(e,u,{weight:0,minlen:a+l[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:n})}t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(o,i){var s=t.children(o);s&&s.length&&r.forEach(s,function(t){n(t,i+1)}),e[o]=i}return r.forEach(t.children(),function(t){n(t,1)}),e}(t),s=r.max(r.values(n))-1,a=2*s+1;t.graph().nestingRoot=e,r.forEach(t.edges(),function(e){t.edge(e).minlen*=a});var l=function(t){return r.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;r.forEach(t.children(),function(r){i(t,e,a,l,s,n,r)}),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}}},5185:t=>{t.exports="0.8.5"},5193:(t,e,n)=>{var r=n(6913),o=n(2761);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},5204:(t,e,n)=>{var r=n(7937)(n(6552),"Map");t.exports=r},5324:(t,e,n)=>{var r=n(4052),o=n(2597),i=n(4079),s=n(1069);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(s(t))}},5387:(t,e,n)=>{var r=n(7937)(n(6552),"Promise");t.exports=r},5428:(t,e,n)=>{var r=n(6913),o=n(6173),i=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[r(t)]}},5491:(t,e,n)=>{var r=n(726),o=n(5652),i=n(5111),s=n(4052);t.exports=function(t,e){return(s(t)?r:o)(t,i(e))}},5538:(t,e,n)=>{var r=n(7160),o=n(4545),i=n(793),s=n(7760),a=n(3892),l=n(6788);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,t.exports=c},5575:(t,e,n)=>{var r=n(7937)(Object,"create");t.exports=r},5636:(t,e,n)=>{var r=n(1170),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,a=o(i.length-e,0),l=Array(a);++s<a;)l[s]=i[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=i[s];return c[e]=n(l),r(t,this,c)}}},5640:(t,e,n)=>{var r=n(3713),o=n(6924),i=n(6571),s=n(620),a=n(1632);t.exports=function(t){if(null==t)return 0;if(i(t))return s(t)?a(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},5641:(t,e,n)=>{"use strict";var r=n(8208),o=n(7938).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function s(t){return r.max(r.map(t.nodes(),function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n}))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,s=e.x-o,a=e.y-i,l=t.width/2,c=t.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=c*s/a,r=c):(s<0&&(l=-l),n=l,r=l*a/s);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(s(t)+1),function(){return[]});return r.forEach(t.nodes(),function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)}),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),function(e){return t.node(e).rank}));r.forEach(t.nodes(),function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)})},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),function(e){return t.node(e).rank})),n=[];r.forEach(t.nodes(),function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)});var o=0,i=t.graph().nodeRankFactor;r.forEach(n,function(e,n){r.isUndefined(e)&&n%i!==0?--o:o&&r.forEach(e,function(e){t.node(e).rank+=o})})},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:s,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},5647:(t,e,n)=>{var r=n(3279),o=n(5636),i=n(6350);t.exports=function(t,e){return i(o(t,e,r),t+"")}},5652:(t,e,n)=>{var r=n(4664),o=n(6516)(r);t.exports=o},5654:(t,e,n)=>{var r=n(7937),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},5673:(t,e,n)=>{"use strict";var r=n(8208),o=n(3130);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(s){r.has(o,s)||(o[s]=!0,n[s]=!0,r.forEach(t.outEdges(s),function(t){r.has(n,t.w)?e.push(t):i(t.w)}),delete n[s])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))})},undo:function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}}},5713:t=>{t.exports=function(){}},5750:(t,e,n)=>{var r;try{r={clone:n(1740),constant:n(2541),each:n(2580),filter:n(723),has:n(2117),isArray:n(4052),isEmpty:n(4320),isFunction:n(1629),isUndefined:n(141),keys:n(8673),map:n(3411),reduce:n(2759),size:n(5640),transform:n(2717),union:n(450),values:n(6727)}}catch(o){}r||(r=window._),t.exports=r},5752:(t,e,n)=>{var r=n(9395),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,s,a){var l=1&n,c=r(t),d=c.length;if(d!=r(e).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in e:o.call(e,h)))return!1}var p=a.get(t),f=a.get(e);if(p&&f)return p==e&&f==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=l;++u<d;){var y=t[h=c[u]],v=e[h];if(i)var x=l?i(v,y,h,e,t,a):i(y,v,h,t,e,a);if(!(void 0===x?y===v||s(y,v,n,i,a):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(t),a.delete(e),m}},5758:(t,e,n)=>{"use strict";var r=n(8208);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var s=r.min(r.map(t.outEdges(o),function(e){return n(e.w)-t.edge(e).minlen}));return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),i.rank=s})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},5791:(t,e,n)=>{var r=n(6924),o=n(2761);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},5797:(t,e,n)=>{var r=n(4816);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},5816:t=>{t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},5819:(t,e,n)=>{"use strict";var r=n(8208);t.exports=function(t){var e={},n=r.filter(t.nodes(),function(e){return!t.children(e).length}),o=r.max(r.map(n,function(e){return t.node(e).rank})),i=r.map(r.range(o+1),function(){return[]});var s=r.sortBy(n,function(e){return t.node(e).rank});return r.forEach(s,function n(o){if(r.has(e,o))return;e[o]=!0;var s=t.node(o);i[s.rank].push(o),r.forEach(t.successors(o),n)}),i}},5822:(t,e,n)=>{var r=n(5750),o=n(4428);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,s,a={},l=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=a[e],o=n(t),c=s.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,l.decrease(e,c))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},l.add(t,n)});for(;l.size()>0&&(i=l.removeMin(),(s=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return a}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},5857:(t,e,n)=>{var r=n(819),o=n(5636),i=n(6350);t.exports=function(t){return i(o(t,void 0,r),t+"")}},5866:(t,e,n)=>{var r=n(8468);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},5893:(t,e,n)=>{var r=n(6599);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,s=e.criteria,a=i.length,l=n.length;++o<a;){var c=r(i[o],s[o]);if(c)return o>=l?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},5896:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,o=t[r];if(!(0<i(o,e)))break t;t[r]=e,t[n]=o,n=r}}function r(t){return 0===t.length?null:t[0]}function o(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,o=t.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=t[a],c=a+1,d=t[c];if(0>i(l,n))c<o&&0>i(d,l)?(t[r]=d,t[c]=n,r=c):(t[r]=l,t[a]=n,r=a);else{if(!(c<o&&0>i(d,n)))break t;t[r]=d,t[c]=n,r=c}}}return e}function i(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(d);null!==e;){if(null===e.callback)o(d);else{if(!(e.startTime<=t))break;o(d),e.sortIndex=e.expirationTime,n(c,e)}e=r(d)}}function k(t){if(g=!1,w(t),!m)if(null!==r(c))m=!0,C||(C=!0,S());else{var e=r(d);null!==e&&P(k,e.startTime-t)}}var S,C=!1,E=-1,M=5,T=-1;function O(){return!!y||!(e.unstable_now()-T<M)}function _(){if(y=!1,C){var t=e.unstable_now();T=t;var n=!0;try{t:{m=!1,g&&(g=!1,x(E),E=-1),f=!0;var i=p;try{e:{for(w(t),h=r(c);null!==h&&!(h.expirationTime>t&&O());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof a){h.callback=a,w(t),n=!0;break e}h===r(c)&&o(c),w(t)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&P(k,l.startTime-t),n=!1}}break t}finally{h=null,p=i,f=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof b)S=function(){b(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=_,S=function(){N.postMessage(null)}}else S=function(){v(_,0)};function P(t,n){E=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,o,i){var s=e.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:u++,callback:o,priorityLevel:t,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(t.sortIndex=i,n(d,t),null===r(c)&&t===r(d)&&(g?(x(E),E=-1):g=!0,P(k,i-s))):(t.sortIndex=a,n(c,t),m||f||(m=!0,C||(C=!0,S()))),t},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},5906:t=>{t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++o];if(!1===n(i[l],l,i))break}return e}}},5921:(t,e,n)=>{var r=n(449),o=n(7574),i=n(6832),s=i&&i.isSet,a=s?o(s):r;t.exports=a},5972:(t,e,n)=>{var r=n(8208),o=n(5641);function i(t,e,n,r,i,s){var a={width:0,height:0,rank:s,borderType:e},l=i[e][s-1],c=o.addDummyNode(t,"border",a,n);i[e][s]=c,t.setParent(c,r),l&&t.setEdge(l,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),function e(n){var o=t.children(n),s=t.node(n);if(o.length&&r.forEach(o,e),r.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var a=s.minRank,l=s.maxRank+1;a<l;++a)i(t,"borderLeft","_bl",n,s,a),i(t,"borderRight","_br",n,s,a)}})}},5990:(t,e,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);t.exports=r},5992:(t,e,n)=>{var r=n(5750);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),function(t){e=[],i(t),e.length&&o.push(e)}),o}},6095:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},6099:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},6140:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},6173:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6179:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},6213:(t,e,n)=>{"use strict";n.d(e,{A:()=>be});var r={};function o(t,e){return function(){return t.apply(e,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>ct,hasStandardBrowserEnv:()=>ut,hasStandardBrowserWebWorkerEnv:()=>ht,navigator:()=>dt,origin:()=>pt});const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:a,toStringTag:l}=Symbol,c=(d=Object.create(null),t=>{const e=i.call(t);return d[e]||(d[e]=e.slice(8,-1).toLowerCase())});var d;const u=t=>(t=t.toLowerCase(),e=>c(e)===t),h=t=>e=>typeof e===t,{isArray:p}=Array,f=h("undefined");function m(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&v(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const g=u("ArrayBuffer");const y=h("string"),v=h("function"),x=h("number"),b=t=>null!==t&&"object"===typeof t,w=t=>{if("object"!==c(t))return!1;const e=s(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(l in t)&&!(a in t)},k=u("Date"),S=u("File"),C=u("Blob"),E=u("FileList"),M=u("URLSearchParams"),[T,O,_,A]=["ReadableStream","Request","Response","Headers"].map(u);function N(t,e){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),p(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{if(m(t))return;const r=o?Object.getOwnPropertyNames(t):Object.keys(t),i=r.length;let s;for(n=0;n<i;n++)s=r[n],e.call(null,t[s],s,t)}}function P(t,e){if(m(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const D="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=t=>!f(t)&&t!==D;const I=(L="undefined"!==typeof Uint8Array&&s(Uint8Array),t=>L&&t instanceof L);var L;const j=u("HTMLFormElement"),B=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),z=u("RegExp"),V=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};N(n,(n,o)=>{let i;!1!==(i=e(n,o,t))&&(r[o]=i||n)}),Object.defineProperties(t,r)};const F=u("AsyncFunction"),$=((t,e)=>{return t?setImmediate:e?(n=`axios@${Math.random()}`,r=[],D.addEventListener("message",t=>{let{source:e,data:o}=t;e===D&&o===n&&r.length&&r.shift()()},!1),t=>{r.push(t),D.postMessage(n,"*")}):t=>setTimeout(t);var n,r})("function"===typeof setImmediate,v(D.postMessage)),H="undefined"!==typeof queueMicrotask?queueMicrotask.bind(D):"undefined"!==typeof process&&process.nextTick||$,U={isArray:p,isArrayBuffer:g,isBuffer:m,isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||v(t.append)&&("formdata"===(e=c(t))||"object"===e&&v(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&g(t.buffer),e},isString:y,isNumber:x,isBoolean:t=>!0===t||!1===t,isObject:b,isPlainObject:w,isEmptyObject:t=>{if(!b(t)||m(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(e){return!1}},isReadableStream:T,isRequest:O,isResponse:_,isHeaders:A,isUndefined:f,isDate:k,isFile:S,isBlob:C,isRegExp:z,isFunction:v,isStream:t=>b(t)&&v(t.pipe),isURLSearchParams:M,isTypedArray:I,isFileList:E,forEach:N,merge:function t(){const{caseless:e}=R(this)&&this||{},n={},r=(r,o)=>{const i=e&&P(n,o)||o;w(n[i])&&w(r)?n[i]=t(n[i],r):w(r)?n[i]=t({},r):p(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&N(arguments[o],r);return n},extend:function(t,e,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return N(e,(e,r)=>{n&&v(e)?t[r]=o(e,n):t[r]=e},{allOwnKeys:r}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,i,a;const l={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)a=o[i],r&&!r(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==n&&s(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:c,kindOfTest:u,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(p(t))return t;let e=t.length;if(!x(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[a]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:j,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:V,freezeMethods:t=>{V(t,(e,n)=>{if(v(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];v(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach(t=>{n[t]=!0})};return p(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,n){return e.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:P,global:D,isContextDefined:R,isSpecCompliantForm:function(t){return!!(t&&v(t.append)&&"FormData"===t[l]&&t[a])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(b(t)){if(e.indexOf(t)>=0)return;if(m(t))return t;if(!("toJSON"in t)){e[r]=t;const o=p(t)?[]:{};return N(t,(t,e)=>{const i=n(t,r+1);!f(i)&&(o[e]=i)}),e[r]=void 0,o}}return t};return n(t,0)},isAsyncFn:F,isThenable:t=>t&&(b(t)||v(t))&&v(t.then)&&v(t.catch),setImmediate:$,asap:H,isIterable:t=>null!=t&&v(t[a])};function W(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}U.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const K=W.prototype,q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{q[t]={value:t}}),Object.defineProperties(W,q),Object.defineProperty(K,"isAxiosError",{value:!0}),W.from=(t,e,n,r,o,i)=>{const s=Object.create(K);return U.toFlatObject(t,s,function(t){return t!==Error.prototype},t=>"isAxiosError"!==t),W.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const X=W;function J(t){return U.isPlainObject(t)||U.isArray(t)}function Y(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Z(t,e,n){return t?t.concat(e).map(function(t,e){return t=Y(t),!n&&e?"["+t+"]":t}).join(n?".":""):e}const G=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});const Q=function(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!U.isUndefined(e[t])})).metaTokens,o=n.visitor||c,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(U.isDate(t))return t.toISOString();if(U.isBoolean(t))return t.toString();if(!a&&U.isBlob(t))throw new X("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(t)||U.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,o){let a=t;if(t&&!o&&"object"===typeof t)if(U.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(U.isArray(t)&&function(t){return U.isArray(t)&&!t.some(J)}(t)||(U.isFileList(t)||U.endsWith(n,"[]"))&&(a=U.toArray(t)))return n=Y(n),a.forEach(function(t,r){!U.isUndefined(t)&&null!==t&&e.append(!0===s?Z([n],r,i):null===s?n:n+"[]",l(t))}),!1;return!!J(t)||(e.append(Z(o,n,i),l(t)),!1)}const d=[],u=Object.assign(G,{defaultVisitor:c,convertValue:l,isVisitable:J});if(!U.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!U.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),U.forEach(n,function(n,i){!0===(!(U.isUndefined(n)||null===n)&&o.call(e,n,U.isString(i)?i.trim():i,r,u))&&t(n,r?r.concat(i):[i])}),d.pop()}}(t),e};function tt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function et(t,e){this._pairs=[],t&&Q(t,this,e)}const nt=et.prototype;nt.append=function(t,e){this._pairs.push([t,e])},nt.toString=function(t){const e=t?function(e){return t.call(this,e,tt)}:tt;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};const rt=et;function ot(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function it(t,e,n){if(!e)return t;const r=n&&n.encode||ot;U.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(e,n):U.isURLSearchParams(e)?e.toString():new rt(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}const st=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(e){null!==e&&t(e)})}},at={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:rt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ct="undefined"!==typeof window&&"undefined"!==typeof document,dt="object"===typeof navigator&&navigator||void 0,ut=ct&&(!dt||["ReactNative","NativeScript","NS"].indexOf(dt.product)<0),ht="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pt=ct&&window.location.href||"http://localhost",ft={...r,...lt};const mt=function(t){function e(t,n,r,o){let i=t[o++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),a=o>=t.length;if(i=!i&&U.isArray(r)?r.length:i,a)return U.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&U.isObject(r[i])||(r[i]=[]);return e(t,n,r[i],o)&&U.isArray(r[i])&&(r[i]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}(r[i])),!s}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(t,r)=>{e(function(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),r,n,0)}),n}return null};const gt={transitional:at,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=U.isObject(t);o&&U.isHTMLForm(t)&&(t=new FormData(t));if(U.isFormData(t))return r?JSON.stringify(mt(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t)||U.isReadableStream(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Q(t,new ft.classes.URLSearchParams,{visitor:function(t,e,n,r){return ft.isNode&&U.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}(t,this.formSerializer).toString();if((i=U.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Q(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||gt.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(U.isResponse(t)||U.isReadableStream(t))return t;if(t&&U.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(o){if(n){if("SyntaxError"===o.name)throw X.from(o,X.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{gt.headers[t]={}});const yt=gt,vt=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xt=Symbol("internals");function bt(t){return t&&String(t).trim().toLowerCase()}function wt(t){return!1===t||null==t?t:U.isArray(t)?t.map(wt):String(t)}function kt(t,e,n,r,o){return U.isFunction(r)?r.call(this,e,n):(o&&(e=n),U.isString(e)?U.isString(r)?-1!==e.indexOf(r):U.isRegExp(r)?r.test(e):void 0:void 0)}class St{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=bt(e);if(!o)throw new Error("header name must be a non-empty string");const i=U.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=wt(t))}const i=(t,e)=>U.forEach(t,(t,n)=>o(t,n,e));if(U.isPlainObject(t)||t instanceof this.constructor)i(t,e);else if(U.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))i((t=>{const e={};let n,r,o;return t&&t.split("\n").forEach(function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&vt[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e})(t),e);else if(U.isObject(t)&&U.isIterable(t)){let n,r,o={};for(const e of t){if(!U.isArray(e))throw TypeError("Object iterator must return a key-value pair");o[r=e[0]]=(n=o[r])?U.isArray(n)?[...n,e[1]]:[n,e[1]]:e[1]}i(o,e)}else null!=t&&o(e,t,n);return this}get(t,e){if(t=bt(t)){const n=U.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(U.isFunction(e))return e.call(this,t,n);if(U.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=bt(t)){const n=U.findKey(this,t);return!(!n||void 0===this[n]||e&&!kt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=bt(t)){const o=U.findKey(n,t);!o||e&&!kt(0,n[o],o,e)||(delete n[o],r=!0)}}return U.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];t&&!kt(0,this[o],o,t,!0)||(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return U.forEach(this,(r,o)=>{const i=U.findKey(n,o);if(i)return e[i]=wt(r),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(o):String(o).trim();s!==o&&delete e[o],e[s]=wt(r),n[s]=!0}),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return U.forEach(this,(n,r)=>{null!=n&&!1!==n&&(e[r]=t&&U.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(t=>{let[e,n]=t;return e+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(t=>e.set(t)),e}static accessor(t){const e=(this[xt]=this[xt]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=bt(t);e[r]||(!function(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})})}(n,t),e[r]=!0)}return U.isArray(t)?t.forEach(r):r(t),this}}St.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),U.reduceDescriptors(St.prototype,(t,e)=>{let{value:n}=t,r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[r]=t}}}),U.freezeMethods(St);const Ct=St;function Et(t,e){const n=this||yt,r=e||n,o=Ct.from(r.headers);let i=r.data;return U.forEach(t,function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function Mt(t){return!(!t||!t.__CANCEL__)}function Tt(t,e,n){X.call(this,null==t?"canceled":t,X.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Tt,X,{__CANCEL__:!0});const Ot=Tt;function _t(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const At=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=r[s];o||(o=l),n[i]=a,r[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Nt=function(t,e){let n,r,o=0,i=1e3/e;const s=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),t(...e)};return[function(){const t=Date.now(),e=t-o;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];e>=i?s(l,t):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},i-e)))},()=>n&&s(n)]},Pt=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=At(50,250);return Nt(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,a=i-r,l=o(a);r=i;t({loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[e?"download":"upload"]:!0})},n)},Dt=(t,e)=>{const n=null!=t;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Rt=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return U.asap(()=>t(...n))},It=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,Lt=ft.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),U.isString(r)&&s.push("path="+r),U.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function jt(t,e,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(r||0==n)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Bt=t=>t instanceof Ct?{...t}:t;function zt(t,e){e=e||{};const n={};function r(t,e,n,r){return U.isPlainObject(t)&&U.isPlainObject(e)?U.merge.call({caseless:r},t,e):U.isPlainObject(e)?U.merge({},e):U.isArray(e)?e.slice():e}function o(t,e,n,o){return U.isUndefined(e)?U.isUndefined(t)?void 0:r(void 0,t,0,o):r(t,e,0,o)}function i(t,e){if(!U.isUndefined(e))return r(void 0,e)}function s(t,e){return U.isUndefined(e)?U.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e,n)=>o(Bt(t),Bt(e),0,!0)};return U.forEach(Object.keys({...t,...e}),function(r){const i=l[r]||o,s=i(t[r],e[r],r);U.isUndefined(s)&&i!==a||(n[r]=s)}),n}const Vt=t=>{const e=zt({},t);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=Ct.from(a),e.url=it(jt(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),U.isFormData(r))if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map(t=>t.trim()).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(ft.hasStandardBrowserEnv&&(o&&U.isFunction(o)&&(o=o(e)),o||!1!==o&&It(e.url))){const t=i&&s&&Lt.read(s);t&&a.set(i,t)}return e},Ft="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise(function(e,n){const r=Vt(t);let o=r.data;const i=Ct.from(r.headers).normalize();let s,a,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ct.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());_t(function(t){e(t),f()},function(t){n(t),f()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:t,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new X("Request aborted",X.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||at;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new X(e,o.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&U.forEach(i.toJSON(),function(t,e){m.setRequestHeader(e,t)}),U.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),p&&([l,d]=Pt(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=Pt(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=e=>{m&&(n(!e||e.type?new Ot(null,t,m):e),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(r.url);y&&-1===ft.protocols.indexOf(y)?n(new X("Unsupported protocol "+y+":",X.ERR_BAD_REQUEST,t)):m.send(o||null)})},$t=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,r=new AbortController;const o=function(t){if(!n){n=!0,s();const e=t instanceof Error?t:this.reason;r.abort(e instanceof X?e:new Ot(e instanceof Error?e.message:e))}};let i=e&&setTimeout(()=>{i=null,o(new X(`timeout ${e} of ms exceeded`,X.ETIMEDOUT))},e);const s=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(o):t.removeEventListener("abort",o)}),t=null)};t.forEach(t=>t.addEventListener("abort",o));const{signal:a}=r;return a.unsubscribe=()=>U.asap(s),a}},Ht=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let r,o=0;for(;o<n;)r=o+e,yield t.slice(o,r),o=r},Ut=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Wt=(t,e,n,r)=>{const o=async function*(t,e){for await(const n of Ut(t))yield*Ht(n,e)}(t,e);let i,s=0,a=t=>{i||(i=!0,r&&r(t))};return new ReadableStream({async pull(t){try{const{done:e,value:r}=await o.next();if(e)return a(),void t.close();let i=r.byteLength;if(n){let t=s+=i;n(t)}t.enqueue(new Uint8Array(r))}catch(e){throw a(e),e}},cancel:t=>(a(t),o.return())},{highWaterMark:2})},Kt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,qt=Kt&&"function"===typeof ReadableStream,Xt=Kt&&("function"===typeof TextEncoder?(Jt=new TextEncoder,t=>Jt.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Jt;const Yt=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!!t(...n)}catch(o){return!1}},Zt=qt&&Yt(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Gt=qt&&Yt(()=>U.isReadableStream(new Response("").body)),Qt={stream:Gt&&(t=>t.body)};var te;Kt&&(te=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Qt[t]&&(Qt[t]=U.isFunction(te[t])?e=>e[t]():(e,n)=>{throw new X(`Response type '${t}' is not supported`,X.ERR_NOT_SUPPORT,n)})}));const ee=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return null==n?(async t=>{if(null==t)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t)){const e=new Request(ft.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return U.isArrayBufferView(t)||U.isArrayBuffer(t)?t.byteLength:(U.isURLSearchParams(t)&&(t+=""),U.isString(t)?(await Xt(t)).byteLength:void 0)})(e):n},ne={http:null,xhr:Ft,fetch:Kt&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Vt(t);c=c?(c+"").toLowerCase():"text";let p,f=$t([o,i&&i.toAbortSignal()],s);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Zt&&"get"!==n&&"head"!==n&&0!==(g=await ee(d,r))){let t,n=new Request(e,{method:"POST",body:r,duplex:"half"});if(U.isFormData(r)&&(t=n.headers.get("content-type"))&&d.setContentType(t),n.body){const[t,e]=Dt(g,Pt(Rt(l)));r=Wt(n.body,65536,t,e)}}U.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;p=new Request(e,{...h,signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:o?u:void 0});let i=await fetch(p,h);const s=Gt&&("stream"===c||"response"===c);if(Gt&&(a||s&&m)){const t={};["status","statusText","headers"].forEach(e=>{t[e]=i[e]});const e=U.toFiniteNumber(i.headers.get("content-length")),[n,r]=a&&Dt(e,Pt(Rt(a),!0))||[];i=new Response(Wt(i.body,65536,n,()=>{r&&r(),m&&m()}),t)}c=c||"text";let y=await Qt[U.findKey(Qt,c)||"text"](i,t);return!s&&m&&m(),await new Promise((e,n)=>{_t(e,n,{data:y,headers:Ct.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:p})})}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new X("Network Error",X.ERR_NETWORK,t,p),{cause:y.cause||y});throw X.from(y,y&&y.code,t,p)}})};U.forEach(ne,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});const re=t=>`- ${t}`,oe=t=>U.isFunction(t)||null===t||!1===t,ie=t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){let e;if(n=t[i],r=n,!oe(n)&&(r=ne[(e=String(n)).toLowerCase()],void 0===r))throw new X(`Unknown adapter '${e}'`);if(r)break;o[e||"#"+i]=r}if(!r){const t=Object.entries(o).map(t=>{let[e,n]=t;return`adapter ${e} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=e?t.length>1?"since :\n"+t.map(re).join("\n"):" "+re(t[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function se(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ot(null,t)}function ae(t){se(t),t.headers=Ct.from(t.headers),t.data=Et.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return ie(t.adapter||yt.adapter)(t).then(function(e){return se(t),e.data=Et.call(t,t.transformResponse,e),e.headers=Ct.from(e.headers),e},function(e){return Mt(e)||(se(t),e&&e.response&&(e.response.data=Et.call(t,t.transformResponse,e.response),e.response.headers=Ct.from(e.response.headers))),Promise.reject(e)})}const le="1.11.0",ce={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ce[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const de={};ce.transitional=function(t,e,n){function r(t,e){return"[Axios v"+le+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new X(r(o," has been removed"+(e?" in "+e:"")),X.ERR_DEPRECATED);return e&&!de[o]&&(de[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}},ce.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};const ue={assertOptions:function(t,e,n){if("object"!==typeof t)throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const e=t[i],n=void 0===e||s(e,i,t);if(!0!==n)throw new X("option "+i+" must be "+n,X.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new X("Unknown option "+i,X.ERR_BAD_OPTION)}},validators:ce},he=ue.validators;class pe{constructor(t){this.defaults=t||{},this.interceptors={request:new st,response:new st}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(r){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=zt(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;void 0!==n&&ue.assertOptions(n,{silentJSONParsing:he.transitional(he.boolean),forcedJSONParsing:he.transitional(he.boolean),clarifyTimeoutError:he.transitional(he.boolean)},!1),null!=r&&(U.isFunction(r)?e.paramsSerializer={serialize:r}:ue.assertOptions(r,{encode:he.function,serialize:he.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),ue.assertOptions(e,{baseUrl:he.spelling("baseURL"),withXsrfToken:he.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=o&&U.merge(o.common,o[e.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],t=>{delete o[t]}),e.headers=Ct.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))});const l=[];let c;this.interceptors.response.forEach(function(t){l.push(t.fulfilled,t.rejected)});let d,u=0;if(!a){const t=[ae.bind(this),void 0];for(t.unshift(...s),t.push(...l),d=t.length,c=Promise.resolve(e);u<d;)c=c.then(t[u++],t[u++]);return c}d=s.length;let h=e;for(u=0;u<d;){const t=s[u++],e=s[u++];try{h=t(h)}catch(p){e.call(this,p);break}}try{c=ae.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(t){return it(jt((t=zt(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(t){pe.prototype[t]=function(e,n){return this.request(zt(n||{},{method:t,url:e,data:(n||{}).data}))}}),U.forEach(["post","put","patch"],function(t){function e(e){return function(n,r,o){return this.request(zt(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}pe.prototype[t]=e(),pe.prototype[t+"Form"]=e(!0)});const fe=pe;class me{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(t){e=t});const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const r=new Promise(t=>{n.subscribe(t),e=t}).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t(function(t,r,o){n.reason||(n.reason=new Ot(t,r,o),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new me(function(e){t=e}),cancel:t}}}const ge=me;const ye={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ye).forEach(t=>{let[e,n]=t;ye[n]=e});const ve=ye;const xe=function t(e){const n=new fe(e),r=o(fe.prototype.request,n);return U.extend(r,fe.prototype,n,{allOwnKeys:!0}),U.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(zt(e,n))},r}(yt);xe.Axios=fe,xe.CanceledError=Ot,xe.CancelToken=ge,xe.isCancel=Mt,xe.VERSION=le,xe.toFormData=Q,xe.AxiosError=X,xe.Cancel=xe.CanceledError,xe.all=function(t){return Promise.all(t)},xe.spread=function(t){return function(e){return t.apply(null,e)}},xe.isAxiosError=function(t){return U.isObject(t)&&!0===t.isAxiosError},xe.mergeConfig=zt,xe.AxiosHeaders=Ct,xe.formToJSON=t=>mt(U.isHTMLForm(t)?new FormData(t):t),xe.getAdapter=ie,xe.HttpStatusCode=ve,xe.default=xe;const be=xe},6272:(t,e,n)=>{var r=n(6571),o=n(2761);t.exports=function(t){return o(t)&&r(t)}},6297:(t,e,n)=>{var r=n(8208);t.exports=function(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}})}},6311:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},6326:(t,e,n)=>{var r=n(8895),o=n(5990),i=n(9621),s=n(7828),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:s;t.exports=a},6350:(t,e,n)=>{var r=n(8325),o=n(6578)(r);t.exports=o},6368:(t,e,n)=>{var r=n(5750),o=n(191),i=n(4428);t.exports=function(t,e){var n,s=new o,a={},l=new i;function c(t){var r=t.v===n?t.w:t.v,o=l.priority(r);if(void 0!==o){var i=e(t);i<o&&(a[r]=n,l.decrease(r,i))}}if(0===t.nodeCount())return s;r.each(t.nodes(),function(t){l.add(t,Number.POSITIVE_INFINITY),s.setNode(t)}),l.decrease(t.nodes()[0],0);var d=!1;for(;l.size()>0;){if(n=l.removeMin(),r.has(a,n))s.setEdge(n,a[n]);else{if(d)throw new Error("Input graph is not connected: "+t);d=!0}t.nodeEdges(n).forEach(c)}return s}},6382:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]])},6399:(t,e,n)=>{var r=n(5538),o=n(3668),i=n(9987),s=n(5752),a=n(6924),l=n(4052),c=n(4543),d=n(1268),u="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,y){var v=l(t),x=l(e),b=v?h:a(t),w=x?h:a(e),k=(b=b==u?p:b)==p,S=(w=w==u?p:w)==p,C=b==w;if(C&&c(t)){if(!c(e))return!1;v=!0,k=!1}if(C&&!k)return y||(y=new r),v||d(t)?o(t,e,n,m,g,y):i(t,e,b,n,m,g,y);if(!(1&n)){var E=k&&f.call(t,"__wrapped__"),M=S&&f.call(e,"__wrapped__");if(E||M){var T=E?t.value():t,O=M?e.value():e;return y||(y=new r),g(T,O,n,m,y)}}return!!C&&(y||(y=new r),s(t,e,n,m,g,y))}},6434:(t,e,n)=>{var r=n(7132);t.exports=function(t){return r(t,5)}},6446:(t,e,n)=>{"use strict";n.d(e,{P:()=>Js});var r=n(5043);const o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],i=(()=>new Set(o))(),s=t=>180*t/Math.PI,a=t=>{const e=s(Math.atan2(t[1],t[0]));return c(e)},l={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:a,rotateZ:a,skewX:t=>s(Math.atan(t[1])),skewY:t=>s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},c=t=>((t%=360)<0&&(t+=360),t),d=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),u=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),h={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d,scaleY:u,scale:t=>(d(t)+u(t))/2,rotateX:t=>c(s(Math.atan2(t[6],t[5]))),rotateY:t=>c(s(Math.atan2(-t[2],t[0]))),rotateZ:a,rotate:a,skewX:t=>s(Math.atan(t[4])),skewY:t=>s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function p(t){return t.includes("scale")?1:0}function f(t,e){if(!t||"none"===t)return p(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=h,o=n;else{const e=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=l,o=e}if(!o)return p(e);const i=r[e],s=o[1].split(",").map(m);return"function"===typeof i?i(s):s[i]}function m(t){return parseFloat(t.trim())}const g=t=>e=>"string"===typeof e&&e.startsWith(t),y=g("--"),v=g("var(--"),x=t=>!!v(t)&&b.test(t.split("/*")[0].trim()),b=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function w(t){let{top:e,left:n,right:r,bottom:o}=t;return{x:{min:n,max:r},y:{min:e,max:o}}}const k=(t,e,n)=>t+(e-t)*n;function S(t){return void 0===t||1===t}function C(t){let{scale:e,scaleX:n,scaleY:r}=t;return!S(e)||!S(n)||!S(r)}function E(t){return C(t)||M(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function M(t){return T(t.x)||T(t.y)}function T(t){return t&&"0%"!==t}function O(t,e,n){return n+e*(t-n)}function _(t,e,n,r,o){return void 0!==o&&(t=O(t,o,r)),O(t,n,r)+e}function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;t.min=_(t.min,e,n,r,o),t.max=_(t.max,e,n,r,o)}function N(t,e){let{x:n,y:r}=e;A(t.x,n.translate,n.scale,n.originPoint),A(t.y,r.translate,r.scale,r.originPoint)}const P=.999999999999,D=1.0000000000001;function R(t,e){t.min=t.min+e,t.max=t.max+e}function I(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;A(t,e,n,k(t.min,t.max,o),r)}function L(t,e){I(t.x,e.x,e.scaleX,e.scale,e.originX),I(t.y,e.y,e.scaleY,e.scale,e.originY)}function j(t,e){return w(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const B=new Set(["width","height","top","left","right","bottom",...o]),z=(t,e,n)=>n>e?e:n<t?t:n,V={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},F={...V,transform:t=>z(0,1,t)},$={...V,default:1},H=t=>({test:e=>"string"===typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),U=H("deg"),W=H("%"),K=H("px"),q=H("vh"),X=H("vw"),J=(()=>({...W,parse:t=>W.parse(t)/100,transform:t=>W.transform(100*t)}))(),Y=t=>e=>e.test(t),Z=[V,K,W,U,X,q,{test:t=>"auto"===t,parse:t=>t}],G=t=>Z.find(Y(t));const Q=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function et(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,o]=function(t){const e=tt.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const t=i.trim();return Q(t)?parseFloat(t):t}return x(o)?et(o,e,n+1):o}const nt=t=>t===V||t===K,rt=new Set(["x","y","z"]),ot=o.filter(t=>!rt.has(t));const it={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:o="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:o="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:(t,e)=>{let{transform:n}=e;return f(n,"x")},y:(t,e)=>{let{transform:n}=e;return f(n,"y")}};it.translateX=it.x,it.translateY=it.y;const st=t=>t,at={},lt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ct={value:null,addProjectionMetrics:null};function dt(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=lt.reduce((t,n)=>(t[n]=function(t,e){let n=new Set,r=new Set,o=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(e){s.has(e)&&(d.schedule(e),t()),l++,e(a)}const d={schedule:function(t){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(t),e.has(t)||e.add(t),t},cancel:t=>{r.delete(t),s.delete(t)},process:t=>{a=t,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(c),e&&ct.value&&ct.value.frameloop[e].push(l),l=0,n.clear(),o=!1,i&&(i=!1,d.process(t)))}};return d}(i,e?n:void 0),t),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:f}=s,m=()=>{const i=at.useManualTiming?o.timestamp:performance.now();n=!1,at.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),p.process(o),f.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(m))},g=lt.reduce((e,i)=>{const a=s[i];return e[i]=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||t(m)),a.schedule(e,i,s)},e},{});return{schedule:g,cancel:t=>{for(let e=0;e<lt.length;e++)s[lt[e]].cancel(t)},state:o,steps:s}}const{schedule:ut,cancel:ht,state:pt,steps:ft}=dt("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:st,!0),mt=new Set;let gt=!1,yt=!1,vt=!1;function xt(){if(yt){const t=Array.from(mt).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{const e=function(t){const e=[];return ot.forEach(n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}(t);e.length&&(n.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();const e=n.get(t);e&&e.forEach(e=>{let[n,r]=e;t.getValue(n)?.set(r)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}yt=!1,gt=!1,mt.forEach(t=>t.complete(vt)),mt.clear()}function bt(){mt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yt=!0)})}class wt{constructor(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(mt.add(this),gt||(gt=!0,ut.read(bt),ut.resolveKeyframes(xt))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(null===t[0]){const o=r?.get(),i=t[t.length-1];if(void 0!==o)t[0]=o;else if(n&&e){const r=n.readValue(e,i);void 0!==r&&null!==r&&(t[0]=r)}void 0===t[0]&&(t[0]=i),r&&void 0===o&&r.set(t[0])}!function(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),mt.delete(this)}cancel(){"scheduled"===this.state&&(mt.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const kt=t=>/^0[^.\s]+$/u.test(t);function St(t){return"number"===typeof t?0===t:null===t||("none"===t||"0"===t||kt(t))}const Ct=t=>Math.round(1e5*t)/1e5,Et=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Mt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tt=(t,e)=>n=>Boolean("string"===typeof n&&Mt.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ot=(t,e,n)=>r=>{if("string"!==typeof r)return r;const[o,i,s,a]=r.match(Et);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},_t={...V,transform:t=>Math.round((t=>z(0,255,t))(t))},At={test:Tt("rgb","red"),parse:Ot("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:o=1}=t;return"rgba("+_t.transform(e)+", "+_t.transform(n)+", "+_t.transform(r)+", "+Ct(F.transform(o))+")"}};const Nt={test:Tt("#"),parse:function(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:At.transform},Pt={test:Tt("hsl","hue"),parse:Ot("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:o=1}=t;return"hsla("+Math.round(e)+", "+W.transform(Ct(n))+", "+W.transform(Ct(r))+", "+Ct(F.transform(o))+")"}},Dt={test:t=>At.test(t)||Nt.test(t)||Pt.test(t),parse:t=>At.test(t)?At.parse(t):Pt.test(t)?Pt.parse(t):Nt.parse(t),transform:t=>"string"===typeof t?t:t.hasOwnProperty("red")?At.transform(t):Pt.transform(t),getAnimatableNone:t=>{const e=Dt.parse(t);return e.alpha=0,Dt.transform(e)}},Rt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const It="number",Lt="color",jt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bt(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const s=e.replace(jt,t=>(Dt.test(t)?(r.color.push(i),o.push(Lt),n.push(Dt.parse(t))):t.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(t)):(r.number.push(i),o.push(It),n.push(parseFloat(t))),++i,"${}")).split("${}");return{values:n,split:s,indexes:r,types:o}}function zt(t){return Bt(t).values}function Vt(t){const{split:e,types:n}=Bt(t),r=e.length;return t=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],void 0!==t[i]){const e=n[i];o+=e===It?Ct(t[i]):e===Lt?Dt.transform(t[i]):t[i]}return o}}const Ft=t=>"number"===typeof t?0:Dt.test(t)?Dt.getAnimatableNone(t):t;const $t={test:function(t){return isNaN(t)&&"string"===typeof t&&(t.match(Et)?.length||0)+(t.match(Rt)?.length||0)>0},parse:zt,createTransformer:Vt,getAnimatableNone:function(t){const e=zt(t);return Vt(t)(e.map(Ft))}},Ht=new Set(["brightness","contrast","saturate","opacity"]);function Ut(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(Et)||[];if(!r)return t;const o=n.replace(r,"");let i=Ht.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const Wt=/\b([a-z-]*)\(.*?\)/gu,Kt={...$t,getAnimatableNone:t=>{const e=t.match(Wt);return e?e.map(Ut).join(" "):t}},qt={...V,transform:Math.round},Xt={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K,...{rotate:U,rotateX:U,rotateY:U,rotateZ:U,scale:$,scaleX:$,scaleY:$,scaleZ:$,skew:U,skewX:U,skewY:U,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:F,originX:J,originY:J,originZ:K},zIndex:qt,fillOpacity:F,strokeOpacity:F,numOctaves:qt},Jt={...Xt,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Kt,WebkitFilter:Kt},Yt=t=>Jt[t];function Zt(t,e){let n=Yt(t);return n!==Kt&&(n=$t),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Gt=new Set(["auto","none","0"]);class Qt extends wt{constructor(t,e,n,r,o){super(t,e,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let n=t[a];if("string"===typeof n&&(n=n.trim(),x(n))){const r=et(n,e.current);void 0!==r&&(t[a]=r),a===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!B.has(n)||2!==t.length)return;const[r,o]=t,i=G(r),s=G(o);if(i!==s)if(nt(i)&&nt(s))for(let a=0;a<t.length;a++){const e=t[a];"string"===typeof e&&(t[a]=parseFloat(e))}else it[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(null===t[r]||St(t[r]))&&n.push(r);n.length&&function(t,e,n){let r,o=0;for(;o<t.length&&!r;){const e=t[o];"string"===typeof e&&!Gt.has(e)&&Bt(e).values.length&&(r=t[o]),o++}if(r&&n)for(const i of e)t[i]=Zt(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=it[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=it[e](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const te=t=>Boolean(t&&t.getVelocity);let ee;function ne(){ee=void 0}const re={now:()=>(void 0===ee&&re.set(pt.isProcessing||at.useManualTiming?pt.timestamp:performance.now()),ee),set:t=>{ee=t,queueMicrotask(ne)}};function oe(t,e){-1===t.indexOf(e)&&t.push(e)}function ie(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class se{constructor(){this.subscriptions=[]}add(t){return oe(this.subscriptions,t),()=>ie(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ae(t,e){return e?t*(1e3/e):0}const le={current:void 0};class ce{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=t=>{const e=re.now();if(this.updatedAt!==e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=re.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new se);const n=this.events[t].add(e);return"change"===t?()=>{n(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return le.current&&le.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=re.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ae(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function de(t,e){return new ce(t,e)}const ue=[...Z,Dt,$t],{schedule:he,cancel:pe}=dt(queueMicrotask,!1),fe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},me={};for(const Ys in fe)me[Ys]={isEnabled:t=>fe[Ys].some(e=>!!t[e])};const ge=()=>({x:{min:0,max:0},y:{min:0,max:0}});var ye=n(4735);const ve={current:null},xe={current:!1};const be=new WeakMap;function we(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}function ke(t){return"string"===typeof t||Array.isArray(t)}const Se=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ce=["initial",...Se];function Ee(t){return we(t.animate)||Ce.some(e=>ke(t[e]))}function Me(t){return Boolean(Ee(t)||t.variants)}function Te(t){const e=[{},{}];return t?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Oe(t,e,n,r){if("function"===typeof e){const[o,i]=Te(r);e=e(void 0!==n?n:t.custom,o,i)}if("string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e){const[o,i]=Te(r);e=e(void 0!==n?n:t.custom,o,i)}return e}const _e=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ae{scrapeMotionValuesFromProps(t,e,n){return{}}constructor(t){let{parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s}=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=re.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,ut.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Ee(n),this.isVariantNode=Me(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const t=u[h];void 0!==l[h]&&te(t)&&t.set(l[h])}}mount(t){this.current=t,be.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),xe.current||function(){if(xe.current=!0,ye.B)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ve.current=t.matches;t.addEventListener("change",e),e()}else ve.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ve.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ht(this.notifyUpdate),ht(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=i.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&ut.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in me){const e=me[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<_e.length;n++){const e=_e[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const o=e[r],i=n[r];if(te(o))t.addValue(r,o);else if(te(i))t.addValue(r,de(o,{owner:t}));else if(i!==o)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(o):e.hasAnimated||e.set(o)}else{const e=t.getStaticValue(r);t.addValue(r,de(void 0!==e?e:o,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=de(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var r;return void 0!==n&&null!==n&&("string"===typeof n&&(Q(n)||kt(n))?n=parseFloat(n):(r=n,!ue.find(Y(r))&&$t.test(e)&&(n=Zt(t,e))),this.setBaseTarget(t,te(n)?n.get():n)),te(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if("string"===typeof e||"object"===typeof e){const r=Oe(this.props,e,this.presenceContext?.custom);r&&(n=r[t])}if(e&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,t);return void 0===r||te(r)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:r}on(t,e){return this.events[t]||(this.events[t]=new se),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t].notify(...n)}}scheduleRenderMicrotask(){he.render(this.render)}}class Ne extends Ae{constructor(){super(...arguments),this.KeyframeResolver=Qt}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;te(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}const Pe=(t,e)=>e&&"number"===typeof t?e.transform(t):t,De={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Re=o.length;function Ie(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const o in e){const t=e[o];if(i.has(o))l=!0;else if(y(o))s[o]=t;else{const e=Pe(t,Xt[o]);o.startsWith("origin")?(c=!0,a[o]=e):r[o]=e}}if(e.transform||(l||n?r.transform=function(t,e,n){let r="",i=!0;for(let s=0;s<Re;s++){const a=o[s],l=t[a];if(void 0===l)continue;let c=!0;if(c="number"===typeof l?l===(a.startsWith("scale")?1:0):0===parseFloat(l),!c||n){const t=Pe(l,Xt[a]);c||(i=!1,r+=`${De[a]||a}(${t}) `),n&&(e[a]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:t="50%",originY:e="50%",originZ:n=0}=a;r.transformOrigin=`${t} ${e} ${n}`}}function Le(t,e,n,r){let{style:o,vars:i}=e;const s=t.style;let a;for(a in o)s[a]=o[a];for(a in r?.applyProjectionStyles(s,n),i)s.setProperty(a,i[a])}const je={};function Be(t,e){let{layout:n,layoutId:r}=e;return i.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!je[t]||"opacity"===t)}function ze(t,e,n){const{style:r}=t,o={};for(const i in r)(te(r[i])||e.style&&te(e.style[i])||Be(i,t)||void 0!==n?.getValue(i)?.liveStyle)&&(o[i]=r[i]);return o}class Ve extends Ne{constructor(){super(...arguments),this.type="html",this.renderInstance=Le}readValueFromInstance(t,e){if(i.has(e))return this.projection?.isProjecting?p(e):((t,e)=>{const{transform:n="none"}=getComputedStyle(t);return f(n,e)})(t,e);{const r=(n=t,window.getComputedStyle(n)),o=(y(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return j(t,n)}build(t,e,n){Ie(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return ze(t,e,n)}}const Fe=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$e={offset:"stroke-dashoffset",array:"stroke-dasharray"},He={offset:"strokeDashoffset",array:"strokeDasharray"};function Ue(t,e,n,r,o){let{attrX:i,attrY:s,attrScale:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...u}=e;if(Ie(t,u,r),n)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=o?.transformBox??"fill-box",delete h.transformBox),void 0!==i&&(h.x=i),void 0!==s&&(h.y=s),void 0!==a&&(h.scale=a),void 0!==l&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const i=o?$e:He;t[i.offset]=K.transform(-r);const s=K.transform(e),a=K.transform(n);t[i.array]=`${s} ${a}`}(h,l,c,d,!1)}const We=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ke=t=>"string"===typeof t&&"svg"===t.toLowerCase();function qe(t,e,n){const r=ze(t,e,n);for(const i in t)if(te(t[i])||te(e[i])){r[-1!==o.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return r}class Xe extends Ne{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(i.has(e)){const t=Yt(e);return t&&t.default||0}return e=We.has(e)?e:Fe(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return qe(t,e,n)}build(t,e,n){Ue(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){!function(t,e,n,r){Le(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(We.has(o)?o:Fe(o),e.attrs[o])}(t,e,0,r)}mount(t){this.isSVGTag=Ke(t.tagName),super.mount(t)}}const Je=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ye(t){return"string"===typeof t&&!t.includes("-")&&!!(Je.indexOf(t)>-1||/[A-Z]/u.test(t))}const Ze=(t,e)=>Ye(t)?new Xe(e):new Ve(e,{allowProjection:t!==r.Fragment});var Ge=n(579),Qe=n(2190);const tn=(0,r.createContext)({strict:!1});var en=n(1051);const nn=(0,r.createContext)({});function rn(t){const{initial:e,animate:n}=function(t,e){if(Ee(t)){const{initial:e,animate:n}=t;return{initial:!1===e||ke(e)?e:void 0,animate:ke(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(nn));return(0,r.useMemo)(()=>({initial:e,animate:n}),[on(e),on(n)])}function on(t){return Array.isArray(t)?t.join(" "):t}const sn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function an(t,e,n){for(const r in e)te(e[r])||Be(r,n)||(t[r]=e[r])}function ln(t,e){const n={};return an(n,t.style||{},t),Object.assign(n,function(t,e){let{transformTemplate:n}=t;return(0,r.useMemo)(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return Ie(t,e,n),Object.assign({},t.vars,t.style)},[e])}(t,e)),n}function cn(t,e){const n={},r=ln(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dn=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function un(t,e,n,o){const i=(0,r.useMemo)(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ue(n,e,Ke(o),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const e={};an(e,t.style,t),i.style={...e,...i.style}}return i}const hn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pn(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hn.has(t)}let fn=t=>!pn(t);try{"function"===typeof(mn=require("@emotion/is-prop-valid").default)&&(fn=t=>t.startsWith("on")?!pn(t):mn(t))}catch{}var mn;function gn(t,e,n,o,i){let{latestValues:s}=o,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(Ye(t)?un:cn)(e,s,i,t),c=function(t,e,n){const r={};for(const o in t)"values"===o&&"object"===typeof t.values||(fn(o)||!0===n&&pn(o)||!e&&!pn(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}(e,"string"===typeof t,a),d=t!==r.Fragment?{...c,...l,ref:n}:{},{children:u}=e,h=(0,r.useMemo)(()=>te(u)?u.get():u,[u]);return(0,r.createElement)(t,{...d,children:h})}var yn=n(9674),vn=n(4930);function xn(t){return te(t)?t.get():t}function bn(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=xn(i[h]);let{initial:s,animate:a}=t;const l=Ee(t),c=Me(t);e&&c&&!l&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const u=d?a:s;if(u&&"boolean"!==typeof u&&!we(u)){const e=Array.isArray(u)?u:[u];for(let n=0;n<e.length;n++){const r=Oe(t,e[n]);if(r){const{transitionEnd:t,transition:e,...n}=r;for(const r in n){let t=n[r];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(o[r]=t)}for(const r in t)o[r]=t[r]}}}return o}const wn=t=>(e,n)=>{const o=(0,r.useContext)(nn),i=(0,r.useContext)(yn.t),s=()=>function(t,e,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i}=t;return{latestValues:bn(e,n,r,o),renderState:i()}}(t,e,o,i);return n?s():(0,vn.M)(s)},kn=wn({scrapeMotionValuesFromProps:ze,createRenderState:sn}),Sn=wn({scrapeMotionValuesFromProps:qe,createRenderState:dn});const Cn=Symbol.for("motionComponentSymbol");function En(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function Mn(t,e,n){return(0,r.useCallback)(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):En(n)&&(n.current=r))},[e])}const Tn="data-"+Fe("framerAppearId"),On=(0,r.createContext)({});var _n=n(293);function An(t,e,n,o,i){const{visualElement:s}=(0,r.useContext)(nn),a=(0,r.useContext)(tn),l=(0,r.useContext)(yn.t),c=(0,r.useContext)(en.Q).reducedMotion,d=(0,r.useRef)(null);o=o||a.renderer,!d.current&&o&&(d.current=o(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const u=d.current,h=(0,r.useContext)(On);!u||u.projection||!i||"html"!==u.type&&"svg"!==u.type||function(t,e,n,r){const{layoutId:o,layout:i,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Nn(t.parent)),t.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(s)||a&&En(a),visualElement:t,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(d.current,n,i,h);const p=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{u&&p.current&&u.update(n,l)});const f=n[Tn],m=(0,r.useRef)(Boolean(f)&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return(0,_n.E)(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),(0,r.useEffect)(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),m.current=!1),u.enteringChildren=void 0)}),u}function Nn(t){if(t)return!1!==t.options.allowProjection?t.projection:Nn(t.parent)}function Pn(t){let{forwardMotionProps:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;n&&function(t){for(const e in t)me[e]={...me[e],...t[e]}}(n);const i=Ye(t)?Sn:kn;function s(n,s){let a;const l={...(0,r.useContext)(en.Q),...n,layoutId:Dn(n)},{isStatic:c}=l,d=rn(n),u=i(n,c);if(!c&&ye.B){!function(){(0,r.useContext)(tn).strict;0}();const e=function(t){const{drag:e,layout:n}=me;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,d.visualElement=An(t,u,l,o,e.ProjectionNode)}return(0,Ge.jsxs)(nn.Provider,{value:d,children:[a&&d.visualElement?(0,Ge.jsx)(a,{visualElement:d.visualElement,...l}):null,gn(t,n,Mn(u,d.visualElement,s),u,c,e)]})}s.displayName=`motion.${"string"===typeof t?t:`create(${t.displayName??t.name??""})`}`;const a=(0,r.forwardRef)(s);return a[Cn]=t,a}function Dn(t){let{layoutId:e}=t;const n=(0,r.useContext)(Qe.L).id;return n&&void 0!==e?n+"-"+e:e}function Rn(t,e){if("undefined"===typeof Proxy)return Pn;const n=new Map,r=(n,r)=>Pn(n,r,t,e);return new Proxy((t,e)=>r(t,e),{get:(o,i)=>"create"===i?r:(n.has(i)||n.set(i,Pn(i,void 0,t,e)),n.get(i))})}function In(t,e,n){const r=t.getProps();return Oe(r,e,void 0!==n?n:r.custom,t)}function Ln(t,e){return t?.[e]??t?.default??t}const jn=t=>Array.isArray(t);function Bn(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,de(n))}function zn(t){return jn(t)?t[t.length-1]||0:t}function Vn(t,e){const n=t.getValue("willChange");if(r=n,Boolean(te(r)&&r.add))return n.add(e);if(!n&&at.WillChange){const n=new at.WillChange("auto");t.addValue("willChange",n),n.add(e)}var r}function Fn(t){return t.props[Tn]}function $n(t){t.duration=0,t.type}const Hn=(t,e)=>n=>e(t(n)),Un=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(Hn)},Wn=t=>1e3*t,Kn=t=>t/1e3,qn={layout:0,mainThread:0,waapi:0};function Xn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Jn(t,e){return n=>n>0?e:t}const Yn=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},Zn=[Nt,At,Pt];function Gn(t){const e=(n=t,Zn.find(t=>t.test(n)));var n;if(Boolean(e),!Boolean(e))return!1;let r=e.parse(t);return e===Pt&&(r=function(t){let{hue:e,saturation:n,lightness:r,alpha:o}=t;e/=360,n/=100,r/=100;let i=0,s=0,a=0;if(n){const t=r<.5?r*(1+n):r+n-r*n,o=2*r-t;i=Xn(o,t,e+1/3),s=Xn(o,t,e),a=Xn(o,t,e-1/3)}else i=s=a=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:o}}(r)),r}const Qn=(t,e)=>{const n=Gn(t),r=Gn(e);if(!n||!r)return Jn(t,e);const o={...n};return t=>(o.red=Yn(n.red,r.red,t),o.green=Yn(n.green,r.green,t),o.blue=Yn(n.blue,r.blue,t),o.alpha=k(n.alpha,r.alpha,t),At.transform(o))},tr=new Set(["none","hidden"]);function er(t,e){return n=>k(t,e,n)}function nr(t){return"number"===typeof t?er:"string"===typeof t?x(t)?Jn:Dt.test(t)?Qn:ir:Array.isArray(t)?rr:"object"===typeof t?Dt.test(t)?Qn:or:Jn}function rr(t,e){const n=[...t],r=n.length,o=t.map((t,n)=>nr(t)(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=o[e](t);return n}}function or(t,e){const n={...t,...e},r={};for(const o in n)void 0!==t[o]&&void 0!==e[o]&&(r[o]=nr(t[o])(t[o],e[o]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const ir=(t,e)=>{const n=$t.createTransformer(e),r=Bt(t),o=Bt(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?tr.has(t)&&!o.values.length||tr.has(e)&&!r.values.length?function(t,e){return tr.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Un(rr(function(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const i=e.types[o],s=t.indexes[i][r[i]],a=t.values[s]??0;n[o]=a,r[i]++}return n}(r,o),o.values),n):Jn(t,e)};function sr(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return k(t,e,n);return nr(t)(t,e)}const ar=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ut.update(e,t)},stop:()=>ht(e),now:()=>pt.isProcessing?pt.timestamp:re.now()}},lr=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(e/n),2);for(let i=0;i<o;i++)r+=Math.round(1e4*t(i/(o-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cr=2e4;function dr(t){let e=0;let n=t.next(e);for(;!n.done&&e<cr;)e+=50,n=t.next(e);return e>=cr?1/0:e}function ur(t,e,n){const r=Math.max(e-5,0);return ae(n-t(r),e-r)}const hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pr=.001;function fr(t){let e,n,{duration:r=hr.duration,bounce:o=hr.bounce,velocity:i=hr.velocity,mass:s=hr.mass}=t;Wn(hr.maxDuration);let a=1-o;a=z(hr.minDamping,hr.maxDamping,a),r=z(hr.minDuration,hr.maxDuration,Kn(r)),a<1?(e=t=>{const e=t*a,n=e*r,o=e-i,s=gr(t,a),l=Math.exp(-n);return pr-o/s*l},n=t=>{const n=t*a*r,o=n*i+i,s=Math.pow(a,2)*Math.pow(t,2)*r,l=Math.exp(-n),c=gr(Math.pow(t,2),a);return(-e(t)+pr>0?-1:1)*((o-s)*l)/c}):(e=t=>Math.exp(-t*r)*((t-i)*r+1)-.001,n=t=>Math.exp(-t*r)*(r*r*(i-t)));const l=function(t,e,n){let r=n;for(let o=1;o<mr;o++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=Wn(r),isNaN(l))return{stiffness:hr.stiffness,damping:hr.damping,duration:r};{const t=Math.pow(l,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:r}}}const mr=12;function gr(t,e){return t*Math.sqrt(1-e*e)}const yr=["duration","bounce"],vr=["stiffness","damping","mass"];function xr(t,e){return e.some(e=>void 0!==t[e])}function br(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr.visualDuration,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hr.bounce;const n="object"!==typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(t){let e={velocity:hr.velocity,stiffness:hr.stiffness,damping:hr.damping,mass:hr.mass,isResolvedFromDuration:!1,...t};if(!xr(t,vr)&&xr(t,yr))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*z(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:hr.mass,stiffness:o,damping:i}}else{const n=fr(t);e={...e,...n,mass:hr.mass},e.isResolvedFromDuration=!0}return e}({...n,velocity:-Kn(n.velocity||0)}),f=h||0,m=c/(2*Math.sqrt(l*d)),g=s-i,y=Kn(Math.sqrt(l/d)),v=Math.abs(g)<5;let x;if(r||(r=v?hr.restSpeed.granular:hr.restSpeed.default),o||(o=v?hr.restDelta.granular:hr.restDelta.default),m<1){const t=gr(y,m);x=e=>{const n=Math.exp(-m*y*e);return s-n*((f+m*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===m)x=t=>s-Math.exp(-y*t)*(g+(f+y*g)*t);else{const t=y*Math.sqrt(m*m-1);x=e=>{const n=Math.exp(-m*y*e),r=Math.min(t*e,300);return s-n*((f+m*y*g)*Math.sinh(r)+t*g*Math.cosh(r))/t}}const b={calculatedDuration:p&&u||null,next:t=>{const e=x(t);if(p)a.done=t>=u;else{let n=0===t?f:0;m<1&&(n=0===t?Wn(f):ur(x,t,e));const i=Math.abs(n)<=r,l=Math.abs(s-e)<=o;a.done=i&&l}return a.value=a.done?s:e,a},toString:()=>{const t=Math.min(dr(b),cr),e=lr(e=>b.next(t*e).value,t,30);return t+"ms "+e},toTransition:()=>{}};return b}function wr(t){let{keyframes:e,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}=t;const h=e[0],p={done:!1,value:h},f=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let m=r*n;const g=h+m,y=void 0===a?g:a(g);y!==g&&(m=y-h);const v=t=>-m*Math.exp(-t/o),x=t=>y+v(t),b=t=>{const e=v(t),n=x(t);p.done=Math.abs(e)<=d,p.value=p.done?y:n};let w,k;const S=t=>{var e;(e=p.value,void 0!==l&&e<l||void 0!==c&&e>c)&&(w=t,k=br({keyframes:[p.value,f(p.value)],velocity:ur(x,t,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return k||void 0!==w||(e=!0,b(t),S(t)),void 0!==w&&t>=w?k.next(t-w):(!e&&b(t),p)}}}br.applyToOptions=t=>{const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...t,keyframes:[0,e]}),r=Math.min(dr(n),cr);return{type:"keyframes",ease:t=>n.next(r*t).value/e,duration:Kn(r)}}(t,100,br);return t.ease=e.ease,t.duration=Wn(e.duration),t.type="keyframes",t};const kr=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function Sr(t,e,n,r){if(t===e&&n===r)return st;const o=e=>function(t,e,n,r,o){let i,s,a=0;do{s=e+(n-e)/2,i=kr(s,r,o)-t,i>0?n=s:e=s}while(Math.abs(i)>1e-7&&++a<12);return s}(e,0,1,t,n);return t=>0===t||1===t?t:kr(o(t),e,r)}const Cr=Sr(.42,0,1,1),Er=Sr(0,0,.58,1),Mr=Sr(.42,0,.58,1),Tr=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Or=t=>e=>1-t(1-e),_r=Sr(.33,1.53,.69,.99),Ar=Or(_r),Nr=Tr(Ar),Pr=t=>(t*=2)<1?.5*Ar(t):.5*(2-Math.pow(2,-10*(t-1))),Dr=t=>1-Math.sin(Math.acos(t)),Rr=Or(Dr),Ir=Tr(Dr),Lr=t=>Array.isArray(t)&&"number"===typeof t[0],jr={linear:st,easeIn:Cr,easeInOut:Mr,easeOut:Er,circIn:Dr,circInOut:Ir,circOut:Rr,backIn:Ar,backInOut:Nr,backOut:_r,anticipate:Pr},Br=t=>{if(Lr(t)){t.length;const[e,n,r,o]=t;return Sr(e,n,r,o)}return"string"===typeof t?jr[t]:t},zr=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r};function Vr(t,e){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length;if(e.length,1===i)return()=>e[0];if(2===i&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],o=n||at.mix||sr,i=t.length-1;for(let s=0;s<i;s++){let n=o(t[s],t[s+1]);if(e){const t=Array.isArray(e)?e[s]||st:e;n=Un(t,n)}r.push(n)}return r}(e,r,o),l=a.length,c=n=>{if(s&&n<t[0])return e[0];let r=0;if(l>1)for(;r<t.length-2&&!(n<t[r+1]);r++);const o=zr(t[r],t[r+1],n);return a[r](o)};return n?e=>c(z(t[0],t[i-1],e)):c}function Fr(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=zr(0,e,r);t.push(k(n,1,o))}}(e,t.length-1),e}function $r(t){let{duration:e=300,keyframes:n,times:r,ease:o="easeInOut"}=t;const i=(t=>Array.isArray(t)&&"number"!==typeof t[0])(o)?o.map(Br):Br(o),s={done:!1,value:n[0]},a=function(t,e){return t.map(t=>t*e)}(r&&r.length===n.length?r:Fr(n),e),l=Vr(a,n,{ease:Array.isArray(i)?i:(c=n,d=i,c.map(()=>d||Mr).splice(0,c.length-1))});var c,d;return{calculatedDuration:e,next:t=>(s.value=l(t),s.done=t>=e,s)}}const Hr=t=>null!==t;function Ur(t,e,n){let{repeat:r,repeatType:o="loop"}=e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=t.filter(Hr),a=i<0||r&&"loop"!==o&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const Wr={decay:wr,inertia:wr,tween:$r,keyframes:$r,spring:br};function Kr(t){"string"===typeof t.type&&(t.type=Wr[t.type])}class qr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const Xr=t=>t/100;class Jr extends qr{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==re.now()&&this.tick(re.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},qn.mainThread++,this.options=t,this.initAnimation(),this.play(),!1===t.autoplay&&this.pause()}initAnimation(){const{options:t}=this;Kr(t);const{type:e=$r,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=t;let{keyframes:s}=t;const a=e||$r;a!==$r&&"number"!==typeof s[0]&&(this.mixKeyframes=Un(Xr,sr(s[0],s[1])),s=[0,100]);const l=a({...t,keyframes:s});"mirror"===o&&(this.mirroredGenerator=a({...t,keyframes:[...s].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=dr(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=e}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,x=n;if(d){const t=Math.min(this.currentTime,r)/s;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,d+1);Boolean(e%2)&&("reverse"===u?(n=1-n,h&&(n-=h/s)):"mirror"===u&&(x=i)),v=z(0,1,n)*s}const b=y?{done:!1,value:c[0]}:x.next(v);o&&(b.value=o(b.value));let{done:w}=b;y||null===a||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==wr&&(b.value=Ur(c,this.options,m,this.speed)),f&&f(b.value),k&&this.finish(),b}then(t,e){return this.finished.then(t,e)}get duration(){return Kn(this.calculatedDuration)}get time(){return Kn(this.currentTime)}set time(t){t=Wn(t),this.currentTime=t,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(re.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ar,startTime:e}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(re.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,qn.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Yr(t){let e;return()=>(void 0===e&&(e=t()),e)}const Zr=Yr(()=>void 0!==window.ScrollTimeline),Gr={};function Qr(t,e){const n=Yr(t);return()=>Gr[e]??n()}const to=Qr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),eo=t=>{let[e,n,r,o]=t;return`cubic-bezier(${e}, ${n}, ${r}, ${o})`},no={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eo([0,.65,.55,1]),circOut:eo([.55,0,1,.45]),backIn:eo([.31,.01,.66,-.59]),backOut:eo([.33,1.53,.69,.99])};function ro(t,e){return t?"function"===typeof t?to()?lr(t,e):"ease-out":Lr(t)?eo(t):Array.isArray(t)?t.map(t=>ro(t,e)||no.easeOut):no[t]:void 0}function oo(t,e,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[e]:n};l&&(d.offset=l);const u=ro(a,o);Array.isArray(u)&&(d.easing=u),ct.value&&qn.waapi++;const h={delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const p=t.animate(d,h);return ct.value&&p.finished.finally(()=>{qn.waapi--}),p}function io(t){return"function"===typeof t&&"applyToOptions"in t}class so extends qr{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:s,onComplete:a}=t;this.isPseudoElement=Boolean(o),this.allowFlatten=i,this.options=t,t.type;const l=function(t){let{type:e,...n}=t;return io(e)&&to()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}(t);this.animation=oo(e,n,r,l,o),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const t=Ur(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(t):function(t,e,n){(t=>t.startsWith("--"))(e)?t.style.setProperty(e,n):t.style[e]=n}(e,n,t),this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;"idle"!==t&&"finished"!==t&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Kn(Number(t))}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline(t){let{timeline:e,observe:n}=t;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Zr()?(this.animation.timeline=e,st):n(this)}}const ao={anticipate:Pr,backInOut:Nr,circInOut:Ir};function lo(t){"string"===typeof t.ease&&t.ease in ao&&(t.ease=ao[t.ease])}class co extends so{constructor(t){lo(t),Kr(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:o,...i}=this.options;if(!e)return;if(void 0!==t)return void e.set(t);const s=new Jr({...i,autoplay:!1}),a=Wn(this.finishedTime??this.time);e.setWithVelocity(s.sample(a-10).value,s.sample(a).value,10),s.stop()}}const uo=(t,e)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!$t.test(t)&&"0"!==t||t.startsWith("url(")));const ho=new Set(["opacity","clipPath","filter","transform"]),po=Yr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class fo extends qr{constructor(t){let{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",keyframes:a,name:l,motionValue:c,element:d,...u}=t;super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=re.now();const h={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:d,...u},p=d?.KeyframeResolver||wt;this.keyframeResolver=new p(a,(t,e,n)=>this.onKeyframesResolved(t,e,h,!n),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:s,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=re.now(),function(t,e,n,r){const o=t[0];if(null===o)return!1;if("display"===e||"visibility"===e)return!0;const i=t[t.length-1],s=uo(o,e),a=uo(i,e);return!(!s||!a)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||io(n))&&r)}(t,o,i,s)||(!at.instantAnimations&&a||c?.(Ur(t,n,e)),t[0]=t[t.length-1],$n(n),n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},u=!l&&function(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:i,type:s}=t,a=e?.owner?.current;if(!(a instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return po()&&n&&ho.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==o&&0!==i&&"inertia"!==s}(d)?new co({...d,element:d.motionValue.owner.current}):new Jr(d);u.finished.then(()=>this.notifyFinished()).catch(st),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vt=!0,bt(),xt(),vt=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mo=t=>null!==t;const go={type:"spring",stiffness:500,damping:25,restSpeed:10},yo={type:"keyframes",duration:.8},vo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xo=(t,e)=>{let{keyframes:n}=e;return n.length>2?yo:i.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:go:vo};const bo=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return s=>{const a=Ln(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=Wn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:o};(function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}=t;return!!Object.keys(u).length})(a)||Object.assign(d,xo(t,d)),d.duration&&(d.duration=Wn(d.duration)),d.repeatDelay&&(d.repeatDelay=Wn(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&($n(d),0===d.delay&&(u=!0)),(at.instantAnimations||at.skipAnimations)&&(u=!0,$n(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,u&&!i&&void 0!==e.get()){const t=function(t,e,n){let{repeat:r,repeatType:o="loop"}=e;const i=t.filter(mo),s=r&&"loop"!==o&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}(d.keyframes,a);if(void 0!==t)return void ut.update(()=>{d.onUpdate(t),d.onComplete()})}return a.isSync?new Jr(d):new fo(d)}};function wo(t,e){let{protectedKeys:n,needsAnimating:r}=t;const o=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,o}function ko(t,e){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(i=r);const l=[],c=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const e=t.getValue(d,t.latestValues[d]??null),r=a[d];if(void 0===r||c&&wo(c,d))continue;const o={delay:n,...Ln(i||{},d)},s=e.get();if(void 0!==s&&!e.isAnimating&&!Array.isArray(r)&&r===s&&!o.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const e=Fn(t);if(e){const t=window.MotionHandoffAnimation(e,d,ut);null!==t&&(o.startTime=t,u=!0)}}Vn(t,d),e.start(bo(d,e,r,t.shouldReduceMotion&&B.has(d)?{type:!1}:o,t,u));const h=e.animation;h&&l.push(h)}return s&&Promise.all(l).then(()=>{ut.update(()=>{s&&function(t,e){const n=In(t,e);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const s in i)Bn(t,s,zn(i[s]))}(t,s)})}),l}function So(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(t).sort((t,e)=>t.sortNodePosition(e)).indexOf(e),s=t.size,a=(s-1)*r;return"function"===typeof n?n(i,s):1===o?i*r:a-i*r}function Co(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=In(t,e,"exit"===n.type?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(ko(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Co(l,e,{...s,delay:n+("function"===typeof r?0:r)+So(t.variantChildren,l,r,o,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}(t,e,r,i,s,a,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[t,e]="beforeChildren"===a?[i,s]:[s,i];return t().then(()=>e())}return Promise.all([i(),s(n.delay)])}function Eo(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Mo=Ce.length;function To(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&To(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<Mo;n++){const r=Ce[n],o=t.props[r];(ke(o)||!1===o)&&(e[r]=o)}return e}const Oo=[...Se].reverse(),_o=Se.length;function Ao(t){return e=>Promise.all(e.map(e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const o=e.map(e=>Co(t,e,r));n=Promise.all(o)}else if("string"===typeof e)n=Co(t,e,r);else{const o="function"===typeof e?In(t,e,r.custom):e;n=Promise.all(ko(t,o,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}(t,n,r)}))}function No(t){let e=Ao(t),n=Ro(),r=!0;const o=e=>(n,r)=>{const o=In(t,r,"exit"===e?t.presenceContext?.custom:void 0);if(o){const{transition:t,transitionEnd:e,...r}=o;n={...n,...r,...e}}return n};function i(i){const{props:s}=t,a=To(t.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let e=0;e<_o;e++){const h=Oo[e],p=n[h],f=void 0!==s[h]?s[h]:a[h],m=ke(f),g=h===i?p.isActive:null;!1===g&&(u=e);let y=f===a[h]&&f!==s[h]&&m;if(y&&r&&t.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...d},!p.isActive&&null===g||!f&&!p.prevProp||we(f)||"boolean"===typeof f)continue;const v=Po(p.prevProp,f);let x=v||h===i&&p.isActive&&!y&&m||e>u&&m,b=!1;const w=Array.isArray(f)?f:[f];let k=w.reduce(o(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=p,C={...S,...k},E=e=>{x=!0,c.has(e)&&(b=!0,c.delete(e)),p.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in C){const e=k[t],n=S[t];if(d.hasOwnProperty(t))continue;let r=!1;r=jn(e)&&jn(n)?!Eo(e,n):e!==n,r?void 0!==e&&null!==e?E(t):c.add(t):void 0!==e&&c.has(t)?E(t):p.protectedKeys[t]=!0}p.prevProp=f,p.prevResolvedValues=k,p.isActive&&(d={...d,...k}),r&&t.blockInitialAnimation&&(x=!1);const M=y&&v;x&&(!M||b)&&l.push(...w.map(e=>{const n={type:h};if("string"===typeof e&&r&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:r}=t,o=In(r,e);if(r.enteringChildren&&o){const{delayChildren:e}=o.transition||{};n.delay=So(r.enteringChildren,t,e)}}return{animation:e,options:n}}))}if(c.size){const e={};if("boolean"!==typeof s.initial){const n=In(t,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(e.transition=n.transition)}c.forEach(n=>{const r=t.getBaseTarget(n),o=t.getValue(n);o&&(o.liveStyle=!0),e[n]=r??null}),l.push({animation:e})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||t.manuallyAnimateOnMount||(h=!1),r=!1,h?e(l):Promise.resolve()}return{animateChanges:i,setActive:function(e,r){if(n[e].isActive===r)return Promise.resolve();t.variantChildren?.forEach(t=>t.animationState?.setActive(e,r)),n[e].isActive=r;const o=i(e);for(const t in n)n[t].protectedKeys={};return o},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=Ro(),r=!0}}}function Po(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!Eo(e,t)}function Do(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ro(){return{animate:Do(!0),whileInView:Do(),whileHover:Do(),whileTap:Do(),whileDrag:Do(),whileFocus:Do(),exit:Do()}}class Io{constructor(t){this.isMounted=!1,this.node=t}update(){}}let Lo=0;const jo={animation:{Feature:class extends Io{constructor(t){super(t),t.animationState||(t.animationState=No(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();we(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Io{constructor(){super(...arguments),this.id=Lo++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}},Bo={x:!1,y:!1};function zo(){return Bo.x||Bo.y}function Vo(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Fo=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function $o(t){return{point:{x:t.pageX,y:t.pageY}}}function Ho(t,e,n,r){return Vo(t,e,(t=>e=>Fo(e)&&t(e,$o(e)))(n),r)}function Uo(t){return t.max-t.min}function Wo(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=k(e.min,e.max,t.origin),t.scale=Uo(n)/Uo(e),t.translate=k(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function Ko(t,e,n,r){Wo(t.x,e.x,n.x,r?r.originX:void 0),Wo(t.y,e.y,n.y,r?r.originY:void 0)}function qo(t,e,n){t.min=n.min+e.min,t.max=t.min+Uo(e)}function Xo(t,e,n){t.min=e.min-n.min,t.max=t.min+Uo(e)}function Jo(t,e,n){Xo(t.x,e.x,n.x),Xo(t.y,e.y,n.y)}function Yo(t){return[t("x"),t("y")]}const Zo=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},Go=(t,e)=>Math.abs(t-e);class Qo{constructor(t,e){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=ni(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=Go(t.x,e.x),r=Go(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=this.distanceThreshold;if(!e&&!n)return;const{point:r}=t,{timestamp:o}=pt;this.history.push({...r,timestamp:o});const{onStart:i,onMove:s}=this.handlers;e||(i&&i(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=ti(e,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=ni("pointercancel"===t.type?this.lastMoveEventInfo:ti(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,i),r&&r(t,i)},!Fo(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=ti($o(t),this.transformPagePoint),{point:a}=s,{timestamp:l}=pt;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=e;c&&c(t,ni(s,this.history)),this.removeListeners=Un(Ho(this.contextWindow,"pointermove",this.handlePointerMove),Ho(this.contextWindow,"pointerup",this.handlePointerUp),Ho(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ht(this.updatePoint)}}function ti(t,e){return e?{point:e(t.point)}:t}function ei(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ni(t,e){let{point:n}=t;return{point:n,delta:ei(n,oi(e)),offset:ei(n,ri(e)),velocity:ii(e,.1)}}function ri(t){return t[0]}function oi(t){return t[t.length-1]}function ii(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=oi(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Wn(e)));)n--;if(!r)return{x:0,y:0};const i=Kn(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function si(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function ai(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const li=.35;function ci(t,e,n){return{min:di(t,e),max:di(t,n)}}function di(t,e){return"number"===typeof t?t:t[e]||0}const ui=new WeakMap;class hi{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t){let{snapToCursor:e=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new Qo(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor($o(t).point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Bo[i]?null:(Bo[i]=!0,()=>{Bo[i]=!1}):Bo.x||Bo.y?null:(Bo.x=Bo.y=!0,()=>{Bo.x=Bo.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yo(t=>{let e=this.getAxisMotionValue(t).get()||0;if(W.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=Uo(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e}),o&&ut.postRender(()=>o(t,e)),Vn(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(s),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),i&&i(t,e)},onSessionEnd:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Yo(t=>"paused"===this.getAnimationState(t)&&this.getAxisMotionValue(t).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:Zo(this.visualElement)})}stop(t,e){const n=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ut.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!pi(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=function(t,e,n){let{min:r,max:o}=e;return void 0!==r&&t<r?t=n?k(r,t,n.min):Math.max(t,r):void 0!==o&&t>o&&(t=n?k(o,t,n.max):Math.min(t,o)),t}(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&En(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,e){let{top:n,left:r,bottom:o,right:i}=e;return{x:si(t.x,r,i),y:si(t.y,n,o)}}(n.layoutBox,t),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li;return!1===t?t=0:!0===t&&(t=li),{x:ci(t,"left","right"),y:ci(t,"top","bottom")}}(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Yo(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!En(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(t,e,n){const r=j(t,n),{scroll:o}=e;return o&&(R(r.x,o.offset.x),R(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(t,e){return{x:ai(t.x,e.x),y:ai(t.y,e.y)}}(r.layout.layoutBox,o);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(i));this.hasMutatedConstraints=!!t,t&&(i=w(t))}return i}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=Yo(s=>{if(!pi(s,e,this.currentDirection))return;let l=a&&a[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?t[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(s,u)});return Promise.all(l).then(s)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return Vn(this.visualElement,t),n.start(bo(t,n,0,e,this.visualElement,!1))}stopAnimation(){Yo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yo(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Yo(e=>{const{drag:n}=this.getProps();if(!pi(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[e];o.set(t[e]-k(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!En(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yo(t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();r[t]=function(t,e){let n=.5;const r=Uo(t),o=Uo(e);return o>r?n=zr(e.min,e.max-r,t.min):r>o&&(n=zr(t.min,t.max-o,e.min)),z(0,1,n)}({min:n,max:n},this.constraints[t])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yo(e=>{if(!pi(e,t,null))return;const n=this.getAxisMotionValue(e),{min:o,max:i}=this.constraints[e];n.set(k(o,i,r[e]))})}addListeners(){if(!this.visualElement.current)return;ui.set(this.visualElement,this);const t=Ho(this.visualElement.current,"pointerdown",t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),e=()=>{const{dragConstraints:t}=this.getProps();En(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ut.read(e);const o=Vo(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(Yo(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{o(),t(),r(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=li,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:s}}}function pi(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const fi=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};var mi=n(8917);const gi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yi(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vi={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!K.test(t))return t;t=parseFloat(t)}return`${yi(t,e.target.x)}% ${yi(t,e.target.y)}%`}},xi={correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e;const o=t,i=$t.parse(t);if(i.length>5)return o;const s=$t.createTransformer(t),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const d=k(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=d),"number"===typeof i[3+a]&&(i[3+a]/=d),s(i)}};let bi=!1;class wi extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=t;!function(t){for(const e in t)je[e]=t[e],y(e)&&(je[e].isCSSVariable=!0)}(Si),o&&(e.group&&e.group.add(o),n&&n.register&&r&&n.register(o),bi&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,bi=!0,r||t.layoutDependency!==e||void 0===e||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||ut.postRender(()=>{const t=i.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),he.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;bi=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ki(t){const[e,n]=(0,mi.xQ)(),o=(0,r.useContext)(Qe.L);return(0,Ge.jsx)(wi,{...t,layoutGroup:o,switchLayoutGroup:(0,r.useContext)(On),isPresent:e,safeToRemove:n})}const Si={borderRadius:{...vi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vi,borderTopRightRadius:vi,borderBottomLeftRadius:vi,borderBottomRightRadius:vi,boxShadow:xi};var Ci=n(8328);function Ei(t){return(0,Ci.G)(t)&&"ownerSVGElement"in t}const Mi=(t,e)=>t.depth-e.depth;class Ti{constructor(){this.children=[],this.isDirty=!1}add(t){oe(this.children,t),this.isDirty=!0}remove(t){ie(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mi),this.isDirty=!1,this.children.forEach(t)}}function Oi(t,e){const n=re.now(),r=o=>{let{timestamp:i}=o;const s=i-n;s>=e&&(ht(r),t(s-e))};return ut.setup(r,!0),()=>ht(r)}const _i=["TopLeft","TopRight","BottomLeft","BottomRight"],Ai=_i.length,Ni=t=>"string"===typeof t?parseFloat(t):t,Pi=t=>"number"===typeof t||K.test(t);function Di(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const Ri=Li(0,.5,Rr),Ii=Li(.5,.95,st);function Li(t,e,n){return r=>r<t?0:r>e?1:n(zr(t,e,r))}function ji(t,e){t.min=e.min,t.max=e.max}function Bi(t,e){ji(t.x,e.x),ji(t.y,e.y)}function zi(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vi(t,e,n,r,o){return t=O(t-=e,1/n,r),void 0!==o&&(t=O(t,1/o,r)),t}function Fi(t,e,n,r,o){let[i,s,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;W.test(e)&&(e=parseFloat(e),e=k(s.min,s.max,e/100)-s.min);if("number"!==typeof e)return;let a=k(i.min,i.max,r);t===i&&(a-=e),t.min=Vi(t.min,e,n,a,o),t.max=Vi(t.max,e,n,a,o)}(t,e[i],e[s],e[a],e.scale,r,o)}const $i=["x","scaleX","originX"],Hi=["y","scaleY","originY"];function Ui(t,e,n,r){Fi(t.x,e,$i,n?n.x:void 0,r?r.x:void 0),Fi(t.y,e,Hi,n?n.y:void 0,r?r.y:void 0)}function Wi(t){return 0===t.translate&&1===t.scale}function Ki(t){return Wi(t.x)&&Wi(t.y)}function qi(t,e){return t.min===e.min&&t.max===e.max}function Xi(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ji(t,e){return Xi(t.x,e.x)&&Xi(t.y,e.y)}function Yi(t){return Uo(t.x)/Uo(t.y)}function Zi(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Gi{constructor(){this.members=[]}add(t){oe(this.members,t),t.scheduleRender()}remove(t){if(ie(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex(e=>t===e);if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qi={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},ts=["","X","Y","Z"];let es=0;function ns(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rs(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Fn(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(e||r))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rs(r)}function os(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=es++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ct.value&&(Qi.nodes=Qi.calculatedTargetDeltas=Qi.calculatedProjections=0),this.nodes.forEach(as),this.nodes.forEach(fs),this.nodes.forEach(ms),this.nodes.forEach(ls),ct.addProjectionMetrics&&ct.addProjectionMetrics(Qi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ti)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new se),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&e.notify(...r)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){if(this.instance)return;var n;this.isSVG=Ei(t)&&!(Ei(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const o=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{r=window.innerWidth}),e(t,()=>{const t=window.innerWidth;t!==r&&(r=t,this.root.updateBlockedByResize=!0,n&&n(),n=Oi(o,250),gi.hasAnimatedSinceResize&&(gi.hasAnimatedSinceResize=!1,this.nodes.forEach(ps)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||ws,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Ji(this.targetLayout,o),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Ln(s,"layout"),onPlay:a,onComplete:l};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,d)}else n||ps(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ht(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gs),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rs(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const t=this.path[o];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ds);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(us);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hs),this.nodes.forEach(is),this.nodes.forEach(ss)):this.nodes.forEach(us),this.clearAllSnapshots();const t=re.now();pt.delta=z(0,1e3/60,t-pt.timestamp),pt.timestamp=t,pt.isProcessing=!0,ft.update.process(pt),ft.preRender.process(pt),ft.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,he.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cs),this.sharedNodes.forEach(ys)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Uo(this.snapshot.measuredBox.x)||Uo(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&this.instance){const e=o(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!Ki(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;t&&this.instance&&(e||E(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),Cs((r=n).x),Cs(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Ms))){const{scroll:t}=this.root;t&&(R(e.x,t.offset.x),R(e.y,t.offset.y))}return e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};if(Bi(e,t),this.scroll?.wasRoot)return e;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:i}=r;r!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&Bi(e,t),R(e.x,o.offset.x),R(e.y,o.offset.y))}return e}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Bi(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&L(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),E(t.latestValues)&&L(n,t.latestValues)}return E(this.latestValues)&&L(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};Bi(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!E(t.latestValues))continue;C(t.latestValues)&&t.updateSnapshot();const r=ge();Bi(r,t.measurePageBox()),Ui(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return E(this.latestValues)&&Ui(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=e.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==e;if(!(t||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:o}=this.options;if(this.layout&&(r||o)){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Jo(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,s,a;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,a=this.relativeParent.target,qo(i.x,s.x,a.x),qo(i.y,s.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),N(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Jo(this.relativeTargetOrigin,this.target,t.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ct.value&&Qi.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!C(this.parent.latestValues)&&!M(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const t=this.getLead(),e=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),e&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(n=!1),n)return;const{layout:r,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!o)return;Bi(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,s=this.treeScale.y;!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,s;e.x=e.y=1;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&L(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,N(t,s)),r&&E(i.latestValues)&&L(t,i.latestValues))}e.x<D&&e.x>P&&(e.x=1),e.y<D&&e.y>P&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,e),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:a}=t;a?(this.projectionDelta&&this.prevProjectionDelta?(zi(this.prevProjectionDelta.x,this.projectionDelta.x),zi(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ko(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===i&&this.treeScale.y===s&&Zi(this.projectionDelta.x,this.prevProjectionDelta.x)&&Zi(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),ct.value&&Qi.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(bs));let u;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var l,h,p,f,m,g;vs(i.x,t.x,n),vs(i.y,t.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jo(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=s,g=n,xs(p.x,f.x,m.x,g),xs(p.y,f.y,m.y,g),u&&(l=this.relativeTarget,h=u,qi(l.x,h.x)&&qi(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Bi(u,this.relativeTarget)),a&&(this.animationValues=o,function(t,e,n,r,o,i){o?(t.opacity=k(0,n.opacity??1,Ri(r)),t.opacityExit=k(e.opacity??1,0,Ii(r))):i&&(t.opacity=k(e.opacity??1,n.opacity??1,r));for(let s=0;s<Ai;s++){const o=`border${_i[s]}Radius`;let i=Di(e,o),a=Di(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||Pi(i)===Pi(a)?(t[o]=Math.max(k(Ni(i),Ni(a),r),0),(W.test(a)||W.test(i))&&(t[o]+="%")):t[o]=a)}(e.rotate||n.rotate)&&(t.rotate=k(e.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ht(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{gi.hasAnimatedSinceResize=!0,qn.layout++,this.motionValue||(this.motionValue=de(0)),this.currentAnimation=function(t,e,n){const r=te(t)?t:de(t);return r.start(bo("",r,e,n)),r.animation}(this.motionValue,[0,1e3],{...t,velocity:0,isSync:!0,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onStop:()=>{qn.layout--},onComplete:()=>{qn.layout--,t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:o}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&Es(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=Uo(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=Uo(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Bi(e,n),L(e,o),Ko(this.projectionDeltaWithTransform,this.layoutCorrected,e,o)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Gi);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){const{layoutId:t}=this.options;return t&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:t}=this.options;return t?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};n.z&&ns("z",t,r,this.animationValues);for(let o=0;o<ts.length;o++)ns(`rotate${ts[o]}`,t,r,this.animationValues),ns(`skew${ts[o]}`,t,r,this.animationValues);t.render();for(const o in r)t.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);t.scheduleRender()}applyProjectionStyles(t,e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(t.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.visibility="",t.opacity="",t.pointerEvents=xn(e?.pointerEvents)||"",void(t.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=xn(e?.pointerEvents)||""),void(this.hasProjected&&!E(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1));t.visibility="";const o=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y,s=n?.z||0;if((o||i||s)&&(r=`translate3d(${o}px, ${i}px, ${s}px) `),1===e.x&&1===e.y||(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:t,rotate:e,rotateX:o,rotateY:i,skewX:s,skewY:a}=n;t&&(r=`perspective(${t}px) ${r}`),e&&(r+=`rotate(${e}deg) `),o&&(r+=`rotateX(${o}deg) `),i&&(r+=`rotateY(${i}deg) `),s&&(r+=`skewX(${s}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(i=n(o,i)),t.transform=i;const{x:s,y:a}=this.projectionDelta;t.transformOrigin=`${100*s.origin}% ${100*a.origin}% 0`,r.animationValues?t.opacity=r===this?o.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:t.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const l in je){if(void 0===o[l])continue;const{correct:e,applyTo:n,isCSSVariable:s}=je[l],a="none"===i?o[l]:e(o[l],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=a}else s?this.options.visualElement.renderState.vars[l]=a:t[l]=a}this.options.layoutId&&(t.pointerEvents=r===this?xn(e?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>t.currentAnimation?.stop()),this.root.nodes.forEach(ds),this.root.sharedNodes.clear()}}}function is(t){t.updateLayout()}function ss(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:o}=t.options,i=e.source!==t.layout.source;"size"===o?Yo(t=>{const r=i?e.measuredBox[t]:e.layoutBox[t],o=Uo(r);r.min=n[t].min,r.max=r.min+o}):Es(o,e.layoutBox,n)&&Yo(r=>{const o=i?e.measuredBox[r]:e.layoutBox[r],s=Uo(n[r]);o.max=o.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ko(s,n,e.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Ko(a,t.applyTransform(r,!0),e.measuredBox):Ko(a,n,e.layoutBox);const l=!Ki(s);let c=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};Jo(s,e.layoutBox,o.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Jo(a,n,i.layoutBox),Ji(s,a)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function as(t){ct.value&&Qi.nodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ls(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cs(t){t.clearSnapshot()}function ds(t){t.clearMeasurements()}function us(t){t.isLayoutDirty=!1}function hs(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ps(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fs(t){t.resolveTargetDelta()}function ms(t){t.calcProjection()}function gs(t){t.resetSkewAndRotation()}function ys(t){t.removeLeadSnapshot()}function vs(t,e,n){t.translate=k(e.translate,0,n),t.scale=k(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xs(t,e,n,r){t.min=k(e.min,n.min,r),t.max=k(e.max,n.max,r)}function bs(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const ws={duration:.45,ease:[.4,0,.1,1]},ks=t=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ss=ks("applewebkit/")&&!ks("chrome/")?Math.round:st;function Cs(t){t.min=Ss(t.min),t.max=Ss(t.max)}function Es(t,e,n){return"position"===t||"preserve-aspect"===t&&(r=Yi(e),o=Yi(n),i=.2,!(Math.abs(r-o)<=i));var r,o,i}function Ms(t){return t!==t.root&&t.scroll?.wasRoot}const Ts=os({attachResizeListener:(t,e)=>Vo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Os={current:void 0},_s=os({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Os.current){const t=new Ts({});t.mount(window),t.setOptions({layoutScroll:!0}),Os.current=t}return Os.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),As={pan:{Feature:class extends Io{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(t){this.session=new Qo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zo(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:fi(t),onStart:fi(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&ut.postRender(()=>r(t,e))}}}mount(){this.removePointerDownListener=Ho(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Io{constructor(t){super(t),this.removeGroupControls=st,this.removeListeners=st,this.controls=new hi(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:_s,MeasureLayout:ki}};function Ns(t,e){const n=function(t,e,n){if(t instanceof EventTarget)return[t];if("string"===typeof t){let r=document;e&&(r=e.current);const o=n?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}(t),r=new AbortController;return[n,{passive:!0,...e,signal:r.signal},()=>r.abort()]}function Ps(t){return!("touch"===t.pointerType||zo())}function Ds(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&ut.postRender(()=>o(e,$o(e)))}var Rs=n(8676);const Is=(t,e)=>!!e&&(t===e||Is(t,e.parentElement)),Ls=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const js=new WeakSet;function Bs(t){return e=>{"Enter"===e.key&&t(e)}}function zs(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function Vs(t){return Fo(t)&&!zo()}function Fs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=Ns(t,n),s=t=>{const r=t.currentTarget;if(!Vs(t))return;js.add(r);const i=e(r,t),s=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),js.has(r)&&js.delete(r),Vs(t)&&"function"===typeof i&&i(t,{success:e})},a=t=>{s(t,r===window||r===document||n.useGlobalTarget||Is(r,t.target))},l=t=>{s(t,!1)};window.addEventListener("pointerup",a,o),window.addEventListener("pointercancel",l,o)};return r.forEach(t=>{var e;(n.useGlobalTarget?window:t).addEventListener("pointerdown",s,o),(0,Rs.s)(t)&&(t.addEventListener("focus",t=>((t,e)=>{const n=t.currentTarget;if(!n)return;const r=Bs(()=>{if(js.has(n))return;zs(n,"down");const t=Bs(()=>{zs(n,"up")});n.addEventListener("keyup",t,e),n.addEventListener("blur",()=>zs(n,"cancel"),e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)})(t,o)),e=t,Ls.has(e.tagName)||-1!==e.tabIndex||t.hasAttribute("tabindex")||(t.tabIndex=0))}),i}function $s(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&ut.postRender(()=>o(e,$o(e)))}const Hs=new WeakMap,Us=new WeakMap,Ws=t=>{const e=Hs.get(t.target);e&&e(t)},Ks=t=>{t.forEach(Ws)};function qs(t,e,n){const r=function(t){let{root:e,...n}=t;const r=e||document;Us.has(r)||Us.set(r,{});const o=Us.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(Ks,{root:e,...n})),o[i]}(e);return Hs.set(t,n),r.observe(t),()=>{Hs.delete(t),r.unobserve(t)}}const Xs={some:0,all:1};const Js=Rn({...jo,...{inView:{Feature:class extends Io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:o}=t,i={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Xs[r]};return qs(this.node.current,i,t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,o&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=e?n:r;i&&i(t)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Io{mount(){const{current:t}=this.node;t&&(this.unmount=Fs(t,(t,e)=>($s(this.node,e,"Start"),(t,e)=>{let{success:n}=e;return $s(this.node,t,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Un(Vo(this.node.current,"focus",()=>this.onFocus()),Vo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Io{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=Ns(t,n),s=t=>{if(!Ps(t))return;const{target:n}=t,r=e(n,t);if("function"!==typeof r||!n)return;const i=t=>{Ps(t)&&(r(t),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach(t=>{t.addEventListener("pointerenter",s,o)}),i}(t,(t,e)=>(Ds(this.node,e,"Start"),t=>Ds(this.node,t,"End"))))}unmount(){}}}},...As,...{layout:{ProjectionNode:_s,MeasureLayout:ki}}},Ze)},6467:(t,e,n)=>{var r=n(8208);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var s=n;r.forEach(t.children(i),o),e[i]={low:s,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,s=[],a=[],l=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),s.push(o)}while(o&&(e[o].low>l||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)a.push(o);return{path:s.concat(a.reverse()),lca:i}}(t,e,o.v,o.w),s=i.path,a=i.lca,l=0,c=s[l],d=!0;n!==o.w;){if(r=t.node(n),d){for(;(c=s[l])!==a&&t.node(c).maxRank<r.rank;)l++;c===a&&(d=!1)}if(!d){for(;l<s.length-1&&t.node(c=s[l+1]).minRank<=r.rank;)l++;c=s[l]}t.setParent(n,c),n=t.successors(n)[0]}})}},6487:t=>{t.exports=function(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}},6516:(t,e,n)=>{var r=n(6571);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&!1!==o(a[s],s,a););return n}}},6532:(t,e,n)=>{var r=n(5538),o=n(6989);t.exports=function(t,e,n,i){var s=n.length,a=s,l=!i;if(null==t)return!a;for(t=Object(t);s--;){var c=n[s];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var d=(c=n[s])[0],u=t[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in t))return!1}else{var p=new r;if(i)var f=i(u,h,d,t,e,p);if(!(void 0===f?o(h,u,3,i,p):f))return!1}}return!0}},6552:(t,e,n)=>{var r=n(7105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},6571:(t,e,n)=>{var r=n(1629),o=n(6173);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},6578:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},6599:(t,e,n)=>{var r=n(9841);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t===t,s=r(t),a=void 0!==e,l=null===e,c=e===e,d=r(e);if(!l&&!d&&!s&&t>e||s&&a&&c&&!l&&!d||o&&a&&c||!n&&c||!i)return 1;if(!o&&!s&&!d&&t<e||d&&n&&i&&!o&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}},6600:(t,e,n)=>{var r=n(7937)(n(6552),"WeakMap");t.exports=r},6604:(t,e,n)=>{var r=n(3331)();t.exports=r},6614:(t,e,n)=>{var r=n(8420),o=n(1775);t.exports=function(t,e,n,i){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],d=i?i(n[c],t[c],c,n,t):void 0;void 0===d&&(d=t[c]),s?o(n,c,d):r(n,c,d)}return n}},6675:(t,e,n)=>{"use strict";var r=n(8208),o=n(5673),i=n(2786),s=n(2460),a=n(5641).normalizeRanks,l=n(6467),c=n(5641).removeEmptyRanks,d=n(5146),u=n(5972),h=n(1981),p=n(550),f=n(1277),m=n(5641),g=n(7938).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?m.time:m.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new g({multigraph:!0,compound:!0}),n=M(t.graph());return e.setGraph(r.merge({},v,E(n,y),r.pick(n,x))),r.forEach(t.nodes(),function(n){var o=M(t.node(n));e.setNode(n,r.defaults(E(o,b),w)),e.setParent(n,t.parent(n))}),r.forEach(t.edges(),function(n){var o=M(t.edge(n));e.setEdge(n,r.merge({},S,E(o,k),r.pick(o,C)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){r.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){o.run(t)}),e("    nestingGraph.run",function(){d.run(t)}),e("    rank",function(){s(m.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};m.addDummyNode(t,"edge-proxy",o,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){c(t)}),e("    nestingGraph.cleanup",function(){d.cleanup(t)}),e("    normalizeRanks",function(){a(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;r.forEach(t.nodes(),function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){r.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){i.run(t)}),e("    parentDummyChains",function(){l(t)}),e("    addBorderSegments",function(){u(t)}),e("    order",function(){p(t)}),e("    insertSelfEdges",function(){!function(t){var e=m.buildLayerMatrix(t);r.forEach(e,function(e){var n=0;r.forEach(e,function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,function(e){m.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){h.adjust(t)}),e("    position",function(){f(t)}),e("    positionSelfEdges",function(){!function(t){r.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,s=n.x-o,a=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*s/3,y:i-a},{x:o+5*s/6,y:i-a},{x:o+s,y:i},{x:o+5*s/6,y:i+a},{x:o+2*s/3,y:i+a}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){r.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),s=t.node(r.last(n.borderLeft)),a=t.node(r.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-o.y),n.x=s.x+n.width/2,n.y=o.y+n.height/2}}),r.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){i.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){h.undo(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,s=t.graph(),a=s.marginx||0,l=s.marginy||0;function c(t){var r=t.x,s=t.y,a=t.width,l=t.height;e=Math.min(e,r-a/2),n=Math.max(n,r+a/2),o=Math.min(o,s-l/2),i=Math.max(i,s+l/2)}r.forEach(t.nodes(),function(e){c(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.has(n,"x")&&c(n)}),e-=a,o-=l,r.forEach(t.nodes(),function(n){var r=t.node(n);r.x-=e,r.y-=o}),r.forEach(t.edges(),function(n){var i=t.edge(n);r.forEach(i.points,function(t){t.x-=e,t.y-=o}),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)}),s.width=n-e+a,s.height=i-o+l}(t)}),e("    assignNodeIntersects",function(){!function(t){r.forEach(t.edges(),function(e){var n,r,o=t.edge(e),i=t.node(e.v),s=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=s,r=i),o.points.unshift(m.intersectRect(i,n)),o.points.push(m.intersectRect(s,r))})}(t)}),e("    reversePoints",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){o.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){r.forEach(t.nodes(),function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))}),r.forEach(t.edges(),function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var y=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function E(t,e){return r.mapValues(r.pick(t,e),Number)}function M(t){var e={};return r.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}},6684:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},6686:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},6704:t=>{t.exports=function(t){return this.__data__.has(t)}},6727:(t,e,n)=>{var r=n(6983),o=n(8673);t.exports=function(t){return null==t?[]:r(t,o(t))}},6741:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},6745:(t,e,n)=>{var r=n(9742),o=n(61),i=n(3279);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},6788:(t,e,n)=>{var r=n(7160),o=n(5204),i=n(4816);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},6806:(t,e,n)=>{var r=n(1516);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},6832:(t,e,n)=>{t=n.nmd(t);var r=n(7105),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=a},6833:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6835:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},6874:(t,e,n)=>{var r=n(2622);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},6913:(t,e,n)=>{var r=n(9812),o=n(4552),i=n(6095),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):i(t)}},6924:(t,e,n)=>{var r=n(7685),o=n(5204),i=n(5387),s=n(2070),a=n(6600),l=n(6913),c=n(6996),d="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(o),y=c(i),v=c(s),x=c(a),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||o&&b(new o)!=d||i&&b(i.resolve())!=u||s&&b(new s)!=h||a&&b(new a)!=p)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return d;case y:return u;case v:return h;case x:return p}return e}),t.exports=b},6945:(t,e,n)=>{var r=n(5750);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach(function(t){r[t]={},r[t][t]={distance:0},o.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}})}),o.forEach(function(t){var e=r[t];o.forEach(function(n){var i=r[n];o.forEach(function(n){var r=i[t],o=e[n],s=i[n],a=r.distance+o.distance;a<s.distance&&(s.distance=a,s.predecessor=o.predecessor)})})}),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},6954:(t,e,n)=>{var r=n(1629),o=n(7857),i=n(6686),s=n(6996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:a).test(s(t))}},6983:(t,e,n)=>{var r=n(149);t.exports=function(t,e){return r(e,function(e){return t[e]})}},6989:(t,e,n)=>{var r=n(6399),o=n(2761);t.exports=function t(e,n,i,s,a){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!==e&&n!==n:r(e,n,i,s,t,a))}},6996:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},7105:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},7116:(t,e,n)=>{var r=n(9812),o=n(2777),i=n(4052),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(s&&t&&t[s])}},7118:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7132:(t,e,n)=>{var r=n(5538),o=n(726),i=n(8420),s=n(1104),a=n(5119),l=n(4353),c=n(1980),d=n(8124),u=n(9075),h=n(9395),p=n(8592),f=n(6924),m=n(8268),g=n(8630),y=n(310),v=n(4052),x=n(4543),b=n(7887),w=n(6686),k=n(5921),S=n(8673),C=n(474),E="[object Arguments]",M="[object Function]",T="[object Object]",O={};O[E]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[T]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[M]=O["[object WeakMap]"]=!1,t.exports=function t(e,n,_,A,N,P){var D,R=1&n,I=2&n,L=4&n;if(_&&(D=N?_(e,A,N,P):_(e)),void 0!==D)return D;if(!w(e))return e;var j=v(e);if(j){if(D=m(e),!R)return c(e,D)}else{var B=f(e),z=B==M||"[object GeneratorFunction]"==B;if(x(e))return l(e,R);if(B==T||B==E||z&&!N){if(D=I||z?{}:y(e),!R)return I?u(e,a(D,e)):d(e,s(D,e))}else{if(!O[B])return N?e:{};D=g(e,B,R)}}P||(P=new r);var V=P.get(e);if(V)return V;P.set(e,D),k(e)?e.forEach(function(r){D.add(t(r,n,_,r,e,P))}):b(e)&&e.forEach(function(r,o){D.set(o,t(r,n,_,o,e,P))});var F=j?void 0:(L?I?p:h:I?C:S)(e);return o(F||e,function(r,o){F&&(r=e[o=r]),i(D,o,t(r,n,_,o,e,P))}),D}},7159:(t,e,n)=>{var r=n(2622);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},7160:(t,e,n)=>{var r=n(7563),o=n(9935),i=n(4190),s=n(1946),a=n(1714);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,t.exports=l},7168:t=>{var e="\\ud800-\\udfff",n="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[i,s,a].join("|")+")"+c+l+")*"),u="(?:"+[i+r+"?",r,s,a,n].join("|")+")",h=RegExp(o+"(?="+o+")|"+u+d,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},7171:(t,e,n)=>{var r=n(5652);t.exports=function(t,e){var n=[];return r(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}},7184:(t,e,n)=>{"use strict";n.d(e,{$t:()=>S,LN:()=>s,U3:()=>d,hs:()=>O,i5:()=>f,k_:()=>E,nh:()=>h});var r=n(4282),o=n(8115);const i=Object.create(null);class s{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new a(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Ji.empty,n=e.content.lastChild,o=null;for(let r=0;r<e.openEnd;r++)o=n,n=n.lastChild;let i=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=t.mapping.slice(i);t.replaceRange(d.map(l.pos),d.map(c.pos),a?r.Ji.empty:e),0==a&&y(t,i,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],a=t.mapping.slice(n),l=a.map(i.pos),c=a.map(s.pos);o?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),y(t,n,e.isInline?-1:1))}}static findFrom(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.parent.inlineContent?new d(t):g(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let o=t.depth-1;o>=0;o--){let r=e<0?g(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):g(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(r)return r}return null}static near(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(t,e)||this.findFrom(t,-e)||new f(t.node(0))}static atStart(t){return g(t,t,0,0,1)||new f(t)}static atEnd(t){return g(t,t,t.content.size,t.childCount,-1)||new f(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=i[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in i)throw new RangeError("Duplicate use of selection JSON ID "+t);return i[t]=e,e.prototype.jsonID=t,e}getBookmark(){return d.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class a{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function c(t){l||t.parent.inlineContent||(l=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class d extends s{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;c(t),c(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=t.resolve(e.map(this.anchor));return new d(r.parent.inlineContent?r:n,n)}replace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Ji.empty;if(super.replace(t,e),e==r.Ji.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof d&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new u(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new d(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=s.findFrom(e,n,!0)||s.findFrom(e,-n,!0);if(!t)return s.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r||(t=(s.findFrom(t,-n,!0)||s.findFrom(t,n,!0)).$anchor).pos<e.pos!=r<0)&&(t=e),new d(t,e)}}s.jsonID("text",d);class u{constructor(t,e){this.anchor=t,this.head=e}map(t){return new u(t.map(this.anchor),t.map(this.head))}resolve(t){return d.between(t.resolve(this.anchor),t.resolve(this.head))}}class h extends s{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return n?s.near(o):new h(o)}content(){return new r.Ji(r.FK.from(this.node),0,0)}eq(t){return t instanceof h&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new p(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new h(t.resolve(e.anchor))}static create(t,e){return new h(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}h.prototype.visible=!1,s.jsonID("node",h);class p{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new u(n,n):new p(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&h.isSelectable(n)?new h(e):s.near(e)}}class f extends s{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Ji.empty;if(e==r.Ji.empty){t.delete(0,t.doc.content.size);let e=s.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new f(t)}map(t){return new f(t)}eq(t){return t instanceof f}getBookmark(){return m}}s.jsonID("all",f);const m={map(){return this},resolve:t=>new f(t)};function g(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.inlineContent)return d.create(t,n);for(let s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let r=e.child(s);if(r.isAtom){if(!i&&h.isSelectable(r))return h.create(t,n-(o<0?r.nodeSize:0))}else{let e=g(t,r,n+o,o<0?r.childCount:0,o,i);if(e)return e}n+=r.nodeSize*o}return null}function y(t,e,n){let r=t.steps.length-1;if(r<e)return;let i,a=t.steps[r];(a instanceof o.Ln||a instanceof o.Wg)&&(t.mapping.maps[r].forEach((t,e,n,r)=>{null==i&&(i=r)}),t.setSelection(s.near(t.doc.resolve(i),n)))}class v extends o.dL{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return r.CU.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.CU.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let o=this.storedMarks;if(!o){let t=this.doc.resolve(e);o=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function x(t,e){return e&&t?t.bind(e):t}class b{constructor(t,e,n){this.name=t,this.init=x(e.init,n),this.apply=x(e.apply,n)}}const w=[new b("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new b("selection",{init:(t,e)=>t.selection||s.atStart(e.doc),apply:t=>t.selection}),new b("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,r)=>r.selection.$cursor?t.storedMarks:null}),new b("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class k{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=w.slice(),e&&e.forEach(t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new b(t.key,t.spec.state,t))})}}class S{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let a=r?r[i].n:0,l=r?r[i].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new S(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new v(this)}static create(t){let e=new k(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new S(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new k(this.schema,t.plugins),n=e.fields,r=new S(e);for(let o=0;o<n.length;o++){let e=n[o].name;r[e]=this.hasOwnProperty(e)?this[e]:n[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new k(t.schema,t.plugins),i=new S(o);return o.fields.forEach(o=>{if("doc"==o.name)i.doc=r.bP.fromJSON(t.schema,e.doc);else if("selection"==o.name)i.selection=s.fromJSON(i.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==o.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(i[o.name]=a.fromJSON.call(s,t,e[r],i))}i[o.name]=o.init(t,i)}}),i}}function C(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=C(o,e,{})),n[r]=o}return n}class E{constructor(t){this.spec=t,this.props={},t.props&&C(t.props,this,this.props),this.key=t.key?t.key.key:T("plugin")}getState(t){return t[this.key]}}const M=Object.create(null);function T(t){return t in M?t+"$"+ ++M[t]:(M[t]=0,t+"$")}class O{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";this.key=T(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},7251:(t,e,n)=>{var r=n(8724),o=n(7160),i=n(5204);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7303:(t,e,n)=>{var r=n(801),o=1/0;t.exports=function(t){return t?(t=r(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},7424:(t,e,n)=>{var r=n(755),o=n(2536),i=n(5647),s=n(929),a=i(function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])});t.exports=a},7449:(t,e,n)=>{var r=n(2969),o=n(9261),i=n(5324);t.exports=function(t,e,n){for(var s=-1,a=e.length,l={};++s<a;){var c=e[s],d=r(t,c);n(d,c)&&o(l,i(c,t),d)}return l}},7498:t=>{t.exports=function(t,e){return t>e}},7529:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}},7563:t=>{t.exports=function(){this.__data__=[],this.size=0}},7574:t=>{t.exports=function(t){return function(e){return t(e)}}},7615:(t,e,n)=>{var r=n(5575);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(t,e,n)=>{var r=n(7937)(n(6552),"DataView");t.exports=r},7717:(t,e,n)=>{var r=n(4258),o=n(5111),i=n(474);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},7719:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7760:t=>{t.exports=function(t){return this.__data__.get(t)}},7782:(t,e,n)=>{"use strict";n.d(e,{Do:()=>y,ET:()=>ke,Eo:()=>lt,Er:()=>ht,Ff:()=>J,Fp:()=>vt,HF:()=>w,Hm:()=>It,I$:()=>Zt,IO:()=>A,Jo:()=>M,KE:()=>q,Mi:()=>H,No:()=>Wt,Q6:()=>st,QE:()=>nt,Qc:()=>m,R4:()=>G,TG:()=>v,Tq:()=>P,U$:()=>O,Ue:()=>Q,WZ:()=>p,X6:()=>U,YN:()=>it,ZO:()=>d,_s:()=>ot,aE:()=>N,aQ:()=>re,aW:()=>Rt,aZ:()=>T,ah:()=>Ct,b$:()=>k,b5:()=>At,bK:()=>g,bi:()=>Vt,di:()=>oe,e_:()=>mt,kM:()=>F,kO:()=>pe,kf:()=>K,mW:()=>W,ny:()=>f,oB:()=>S,oN:()=>Ot,oj:()=>ct,q1:()=>pt,qX:()=>bt,qn:()=>qt,r8:()=>Ht,rN:()=>St,s_:()=>X,tM:()=>h,tn:()=>u,uD:()=>et,uL:()=>Ut,uj:()=>wt,us:()=>rt,v5:()=>ut,vS:()=>zt,xN:()=>fe,xc:()=>c,yX:()=>x,zj:()=>Y});var r=n(6690),o=n(8697),i=n(7352),s=n(8800),a=n(8086),l=n(6248);const c={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>{let{id:n,sourceHandle:r,targetHandle:o}=e;return`Couldn't create edge for ${t} handle id: "${"source"===t?r:o}", edge id: ${n}.`},error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:function(){return`It seems that you haven't loaded the styles. Please import '@xyflow/${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"react"}/dist/style.css' or base.css to make sure everything is working properly.`},error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},d=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],u=["Enter"," ","Escape"],h={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":t=>{let{direction:e,x:n,y:r}=t;return`Moved selected node ${e}. New position, x: ${n}, y: ${r}`},"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var p,f,m;!function(t){t.Strict="strict",t.Loose="loose"}(p||(p={})),function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"}(f||(f={})),function(t){t.Partial="partial",t.Full="full"}(m||(m={}));const g={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var y,v,x;!function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"}(y||(y={})),function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"}(v||(v={})),function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"}(x||(x={}));const b={[x.Left]:x.Right,[x.Right]:x.Left,[x.Top]:x.Bottom,[x.Bottom]:x.Top};function w(t){return null===t?null:t?"valid":"invalid"}const k=t=>"id"in t&&"source"in t&&"target"in t,S=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),C=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),E=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{width:n,height:r}=et(t),o=t.origin??e,i=n*o[0],s=r*o[1];return{x:t.position.x-i,y:t.position.y-s}},M=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{nodeOrigin:[0,0]};if(0===t.length)return{x:0,y:0,width:0,height:0};const n=t.reduce((t,n)=>{const r="string"===typeof n;let o=e.nodeLookup||r?void 0:n;e.nodeLookup&&(o=r?e.nodeLookup.get(n):C(n)?n:e.nodeLookup.get(n.id));const i=o?$(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return B(t,i)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return V(n)},T=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===t.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(t=>{if(void 0===e.filter||e.filter(t)){const e=$(t);n=B(n,e)}}),V(n)},O=function(t,e){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a={...J(e,[n,r,o]),width:e.width/o,height:e.height/o},l=[];for(const c of t.values()){const{measured:t,selectable:e=!0,hidden:n=!1}=c;if(s&&!e||n)continue;const r=t.width??c.width??c.initialWidth??null,o=t.height??c.height??c.initialHeight??null,d=U(a,F(c)),u=(r??0)*(o??0),h=i&&d>0;(!c.internals.handleBounds||h||d>=u||c.dragging)&&l.push(c)}return l},_=(t,e)=>{const n=new Set;return t.forEach(t=>{n.add(t.id)}),e.filter(t=>n.has(t.source)||n.has(t.target))};async function A(t,e){let{nodes:n,width:r,height:o,panZoom:i,minZoom:s,maxZoom:a}=t;if(0===n.size)return Promise.resolve(!0);const l=function(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(t=>t.id)):null;return t.forEach(t=>{!t.measured.width||!t.measured.height||!e?.includeHiddenNodes&&t.hidden||r&&!r.has(t.id)||n.set(t.id,t)}),n}(n,e),c=T(l),d=G(c,r,o,e?.minZoom??s,e?.maxZoom??a,e?.padding??.1);return await i.setViewport(d,{duration:e?.duration,ease:e?.ease,interpolate:e?.interpolate}),Promise.resolve(!0)}function N(t){let{nodeId:e,nextPosition:n,nodeLookup:r,nodeOrigin:o=[0,0],nodeExtent:i,onError:s}=t;const a=r.get(e),l=a.parentId?r.get(a.parentId):void 0,{x:d,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},h=a.origin??o;let p=a.extent||i;if("parent"!==a.extent||a.expandParent)l&&tt(a.extent)&&(p=[[a.extent[0][0]+d,a.extent[0][1]+u],[a.extent[1][0]+d,a.extent[1][1]+u]]);else if(l){const t=l.measured.width,e=l.measured.height;t&&e&&(p=[[d,u],[d+t,u+e]])}else s?.("005",c.error005());const f=tt(p)?R(n,p,a.measured):n;return void 0!==a.measured.width&&void 0!==a.measured.height||s?.("015",c.error015()),{position:{x:f.x-d+(a.measured.width??0)*h[0],y:f.y-u+(a.measured.height??0)*h[1]},positionAbsolute:f}}async function P(t){let{nodesToRemove:e=[],edgesToRemove:n=[],nodes:r,edges:o,onBeforeDelete:i}=t;const s=new Set(e.map(t=>t.id)),a=[];for(const h of r){if(!1===h.deletable)continue;const t=s.has(h.id),e=!t&&h.parentId&&a.find(t=>t.id===h.parentId);(t||e)&&a.push(h)}const l=new Set(n.map(t=>t.id)),c=o.filter(t=>!1!==t.deletable),d=_(a,c);for(const h of c){l.has(h.id)&&!d.find(t=>t.id===h.id)&&d.push(h)}if(!i)return{edges:d,nodes:a};const u=await i({nodes:a,edges:d});return"boolean"===typeof u?u?{edges:d,nodes:a}:{edges:[],nodes:[]}:u}const D=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)},R=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{x:D(t.x,e[0][0],e[1][0]-(n?.width??0)),y:D(t.y,e[0][1],e[1][1]-(n?.height??0))}};function I(t,e,n){const{width:r,height:o}=et(n),{x:i,y:s}=n.internals.positionAbsolute;return R(t,[[i,s],[i+r,s+o]],e)}const L=(t,e,n)=>t<e?D(Math.abs(t-e),1,e)/e:t>n?-D(Math.abs(t-n),1,e)/e:0,j=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;return[L(t.x,r,e.width-r)*n,L(t.y,r,e.height-r)*n]},B=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),z=t=>{let{x:e,y:n,width:r,height:o}=t;return{x:e,y:n,x2:e+r,y2:n+o}},V=t=>{let{x:e,y:n,x2:r,y2:o}=t;return{x:e,y:n,width:r-e,height:o-n}},F=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{x:n,y:r}=C(t)?t.internals.positionAbsolute:E(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},$=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{x:n,y:r}=C(t)?t.internals.positionAbsolute:E(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},H=(t,e)=>V(B(z(t),z(e))),U=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},W=t=>K(t.width)&&K(t.height)&&K(t.x)&&K(t.y),K=t=>!isNaN(t)&&isFinite(t),q=(t,e)=>{0},X=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1];return{x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}},J=function(t,e){let{x:n,y:r}=t,[o,i,s]=e;const a={x:(n-o)/s,y:(r-i)/s};return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?X(a,arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1]):a},Y=(t,e)=>{let{x:n,y:r}=t,[o,i,s]=e;return{x:n*s+o,y:r*s+i}};function Z(t,e){if("number"===typeof t)return Math.floor(.5*(e-e/(1+t)));if("string"===typeof t&&t.endsWith("px")){const e=parseFloat(t);if(!Number.isNaN(e))return Math.floor(e)}if("string"===typeof t&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}const G=(t,e,n,r,o,i)=>{const s=function(t,e,n){if("string"===typeof t||"number"===typeof t){const r=Z(t,n),o=Z(t,e);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"===typeof t){const r=Z(t.top??t.y??0,n),o=Z(t.bottom??t.y??0,n),i=Z(t.left??t.x??0,e),s=Z(t.right??t.x??0,e);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,e,n),a=(e-s.x)/t.width,l=(n-s.y)/t.height,c=Math.min(a,l),d=D(c,r,o),u=e/2-(t.x+t.width/2)*d,h=n/2-(t.y+t.height/2)*d,p=function(t,e,n,r,o,i){const{x:s,y:a}=Y(t,[e,n,r]),{x:l,y:c}=Y({x:t.x+t.width,y:t.y+t.height},[e,n,r]),d=o-l,u=i-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(u)}}(t,u,h,d,e,n),f=Math.min(p.left-s.left,0),m=Math.min(p.top-s.top,0);return{x:u-f+Math.min(p.right-s.right,0),y:h-m+Math.min(p.bottom-s.bottom,0),zoom:d}},Q=()=>"undefined"!==typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function tt(t){return void 0!==t&&"parent"!==t}function et(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function nt(t){return void 0!==(t.measured?.width??t.width??t.initialWidth)&&void 0!==(t.measured?.height??t.height??t.initialHeight)}function rt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:0,height:0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>4?arguments[4]:void 0;const o={...t},i=(arguments.length>3?arguments[3]:void 0).get(n);if(i){const t=i.origin||r;o.x+=i.internals.positionAbsolute.x-(e.width??0)*t[0],o.y+=i.internals.positionAbsolute.y-(e.height??0)*t[1]}return o}function ot(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function it(){let t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}}function st(t){return{...h,...t||{}}}function at(t,e){let{snapGrid:n=[0,0],snapToGrid:r=!1,transform:o,containerBounds:i}=e;const{x:s,y:a}=pt(t),l=J({x:s-(i?.left??0),y:a-(i?.top??0)},o),{x:c,y:d}=r?X(l,n):l;return{xSnapped:c,ySnapped:d,...l}}const lt=t=>({width:t.offsetWidth,height:t.offsetHeight}),ct=t=>t?.getRootNode?.()||window?.document,dt=["INPUT","SELECT","TEXTAREA"];function ut(t){const e=t.composedPath?.()?.[0]||t.target;if(1!==e?.nodeType)return!1;return dt.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const ht=t=>"clientX"in t,pt=(t,e)=>{const n=ht(t),r=n?t.clientX:t.touches?.[0].clientX,o=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:o-(e?.top??0)}},ft=(t,e,n,r,o)=>{const i=e.querySelectorAll(`.${t}`);return i&&i.length?Array.from(i).map(e=>{const i=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),type:t,nodeId:o,position:e.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...lt(e)}}):null};function mt(t){let{sourceX:e,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:l}=t;const c=.125*e+.375*i+.375*a+.125*r,d=.125*n+.375*s+.375*l+.125*o;return[c,d,Math.abs(c-e),Math.abs(d-n)]}function gt(t,e){return t>=0?.5*t:25*e*Math.sqrt(-t)}function yt(t){let{pos:e,x1:n,y1:r,x2:o,y2:i,c:s}=t;switch(e){case x.Left:return[n-gt(n-o,s),r];case x.Right:return[n+gt(o-n,s),r];case x.Top:return[n,r-gt(r-i,s)];case x.Bottom:return[n,r+gt(i-r,s)]}}function vt(t){let{sourceX:e,sourceY:n,sourcePosition:r=x.Bottom,targetX:o,targetY:i,targetPosition:s=x.Top,curvature:a=.25}=t;const[l,c]=yt({pos:r,x1:e,y1:n,x2:o,y2:i,c:a}),[d,u]=yt({pos:s,x1:o,y1:i,x2:e,y2:n,c:a}),[h,p,f,m]=mt({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return[`M${e},${n} C${l},${c} ${d},${u} ${o},${i}`,h,p,f,m]}function xt(t){let{sourceX:e,sourceY:n,targetX:r,targetY:o}=t;const i=Math.abs(r-e)/2,s=r<e?r+i:r-i,a=Math.abs(o-n)/2;return[s,o<n?o+a:o-a,i,a]}function bt(t){let{sourceNode:e,targetNode:n,selected:r=!1,zIndex:o,elevateOnSelect:i=!1}=t;if(void 0!==o)return o;return(i&&r?1e3:0)+Math.max(e.parentId?e.internals.z:0,n.parentId?n.internals.z:0)}function wt(t){let{sourceNode:e,targetNode:n,width:r,height:o,transform:i}=t;const s=B($(e),$(n));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:o/i[2]};return U(a,V(s))>0}const kt=t=>{let{source:e,sourceHandle:n,target:r,targetHandle:o}=t;return`xy-edge__${e}${n||""}-${r}${o||""}`},St=(t,e)=>{if(!t.source||!t.target)return q("006",c.error006()),e;let n;return n=k(t)?{...t}:{...t,id:kt(t)},((t,e)=>e.some(e=>e.source===t.source&&e.target===t.target&&(e.sourceHandle===t.sourceHandle||!e.sourceHandle&&!t.sourceHandle)&&(e.targetHandle===t.targetHandle||!e.targetHandle&&!t.targetHandle)))(n,e)?e:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,e.concat(n))};function Ct(t){let{sourceX:e,sourceY:n,targetX:r,targetY:o}=t;const[i,s,a,l]=xt({sourceX:e,sourceY:n,targetX:r,targetY:o});return[`M ${e},${n}L ${r},${o}`,i,s,a,l]}const Et={[x.Left]:{x:-1,y:0},[x.Right]:{x:1,y:0},[x.Top]:{x:0,y:-1},[x.Bottom]:{x:0,y:1}},Mt=t=>{let{source:e,sourcePosition:n=x.Bottom,target:r}=t;return n===x.Left||n===x.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1}},Tt=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Ot(t){let{sourceX:e,sourceY:n,sourcePosition:r=x.Bottom,targetX:o,targetY:i,targetPosition:s=x.Top,borderRadius:a=5,centerX:l,centerY:c,offset:d=20,stepPosition:u=.5}=t;const[h,p,f,m,g]=function(t){let{source:e,sourcePosition:n=x.Bottom,target:r,targetPosition:o=x.Top,center:i,offset:s,stepPosition:a}=t;const l=Et[n],c=Et[o],d={x:e.x+l.x*s,y:e.y+l.y*s},u={x:r.x+c.x*s,y:r.y+c.y*s},h=Mt({source:d,sourcePosition:n,target:u}),p=0!==h.x?"x":"y",f=h[p];let m,g,y=[];const v={x:0,y:0},b={x:0,y:0},[,,w,k]=xt({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[p]*c[p]===-1){"x"===p?(m=i.x??d.x+(u.x-d.x)*a,g=i.y??(d.y+u.y)/2):(m=i.x??(d.x+u.x)/2,g=i.y??d.y+(u.y-d.y)*a);const t=[{x:m,y:d.y},{x:m,y:u.y}],e=[{x:d.x,y:g},{x:u.x,y:g}];y=l[p]===f?"x"===p?t:e:"x"===p?e:t}else{const t=[{x:d.x,y:u.y}],i=[{x:u.x,y:d.y}];if(y="x"===p?l.x===f?i:t:l.y===f?t:i,n===o){const t=Math.abs(e[p]-r[p]);if(t<=s){const n=Math.min(s-1,s-t);l[p]===f?v[p]=(d[p]>e[p]?-1:1)*n:b[p]=(u[p]>r[p]?-1:1)*n}}if(n!==o){const e="x"===p?"y":"x",n=l[p]===c[e],r=d[e]>u[e],o=d[e]<u[e];(1===l[p]&&(!n&&r||n&&o)||1!==l[p]&&(!n&&o||n&&r))&&(y="x"===p?t:i)}const a={x:d.x+v.x,y:d.y+v.y},h={x:u.x+b.x,y:u.y+b.y};Math.max(Math.abs(a.x-y[0].x),Math.abs(h.x-y[0].x))>=Math.max(Math.abs(a.y-y[0].y),Math.abs(h.y-y[0].y))?(m=(a.x+h.x)/2,g=y[0].y):(m=y[0].x,g=(a.y+h.y)/2)}return[[e,{x:d.x+v.x,y:d.y+v.y},...y,{x:u.x+b.x,y:u.y+b.y},r],m,g,w,k]}({source:{x:e,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:l,y:c},offset:d,stepPosition:u});return[h.reduce((t,e,n)=>{let r="";return r=n>0&&n<h.length-1?function(t,e,n,r){const o=Math.min(Tt(t,e)/2,Tt(e,n)/2,r),{x:i,y:s}=e;if(t.x===i&&i===n.x||t.y===s&&s===n.y)return`L${i} ${s}`;if(t.y===s)return`L ${i+o*(t.x<n.x?-1:1)},${s}Q ${i},${s} ${i},${s+o*(t.y<n.y?1:-1)}`;const a=t.x<n.x?1:-1;return`L ${i},${s+o*(t.y<n.y?-1:1)}Q ${i},${s} ${i+o*a},${s}`}(h[n-1],e,h[n+1],a):`${0===n?"M":"L"}${e.x} ${e.y}`,t+=r},""),p,f,m,g]}function _t(t){return t&&!(!t.internals.handleBounds&&!t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function At(t){const{sourceNode:e,targetNode:n}=t;if(!_t(e)||!_t(n))return null;const r=e.internals.handleBounds||Nt(e.handles),o=n.internals.handleBounds||Nt(n.handles),i=Dt(r?.source??[],t.sourceHandle),s=Dt(t.connectionMode===p.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),t.targetHandle);if(!i||!s)return t.onError?.("008",c.error008(i?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=i?.position||x.Bottom,l=s?.position||x.Top,d=Pt(e,i,a),u=Pt(n,s,l);return{sourceX:d.x,sourceY:d.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function Nt(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,"source"===r.type?e.push(r):"target"===r.type&&n.push(r);return{source:e,target:n}}function Pt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Left,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=(e?.x??0)+t.internals.positionAbsolute.x,i=(e?.y??0)+t.internals.positionAbsolute.y,{width:s,height:a}=e??et(t);if(r)return{x:o+s/2,y:i+a/2};switch(e?.position??n){case x.Top:return{x:o+s/2,y:i};case x.Right:return{x:o+s,y:i+a/2};case x.Bottom:return{x:o+s/2,y:i+a};case x.Left:return{x:o,y:i+a/2}}}function Dt(t,e){return t&&(e?t.find(t=>t.id===e):t[0])||null}function Rt(t,e){if(!t)return"";if("string"===typeof t)return t;return`${e?`${e}__`:""}${Object.keys(t).sort().map(e=>`${e}=${t[e]}`).join("&")}`}function It(t,e){let{id:n,defaultColor:r,defaultMarkerStart:o,defaultMarkerEnd:i}=e;const s=new Set;return t.reduce((t,e)=>([e.markerStart||o,e.markerEnd||i].forEach(e=>{if(e&&"object"===typeof e){const o=Rt(e,n);s.has(o)||(t.push({id:o,color:e.color||r,...e}),s.add(o))}}),t),[]).sort((t,e)=>t.id.localeCompare(e.id))}const Lt={nodeOrigin:[0,0],nodeExtent:d,elevateNodesOnSelect:!0,defaults:{}},jt={...Lt,checkEquality:!0};function Bt(t,e){const n={...t};for(const r in e)void 0!==e[r]&&(n[r]=e[r]);return n}function zt(t,e,n){const r=Bt(Lt,n);for(const o of t.values())if(o.parentId)Ft(o,t,e,r);else{const t=E(o,r.nodeOrigin),e=tt(o.extent)?o.extent:r.nodeExtent,n=R(t,e,et(o));o.internals.positionAbsolute=n}}function Vt(t,e,n,r){const o=Bt(jt,r);let i=t.length>0;const s=new Map(e),a=o?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let t=s.get(l.id);if(o.checkEquality&&l===t?.internals.userNode)e.set(l.id,t);else{const n=E(l,o.nodeOrigin),r=tt(l.extent)?l.extent:o.nodeExtent,i=R(n,r,et(l));t={...o.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:i,handleBounds:l.measured?t?.internals.handleBounds:void 0,z:$t(l,a),userNode:l}},e.set(l.id,t)}void 0!==t.measured&&void 0!==t.measured.width&&void 0!==t.measured.height||t.hidden||(i=!1),l.parentId&&Ft(t,e,n,r)}return i}function Ft(t,e,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=Bt(Lt,r),a=t.parentId,l=e.get(a);if(!l)return void console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}(t,n);const c=o?1e3:0,{x:d,y:u,z:h}=function(t,e,n,r,o){const{x:i,y:s}=e.internals.positionAbsolute,a=et(t),l=E(t,n),c=tt(t.extent)?R(l,t.extent,a):l;let d=R({x:i+c.x,y:s+c.y},r,a);"parent"===t.extent&&(d=I(d,a,e));const u=$t(t,o),h=e.internals.z??0;return{x:d.x,y:d.y,z:h>=u?h+1:u}}(t,l,i,s,c),{positionAbsolute:p}=t.internals,f=d!==p.x||u!==p.y;(f||h!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:f?{x:d,y:u}:p,z:h}})}function $t(t,e){return(K(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Ht(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0];const o=[],i=new Map;for(const s of t){const t=e.get(s.parentId);if(!t)continue;const n=i.get(s.parentId)?.expandedRect??F(t),r=H(n,s.rect);i.set(s.parentId,{expandedRect:r,parent:t})}return i.size>0&&i.forEach((e,i)=>{let{expandedRect:s,parent:a}=e;const l=a.internals.positionAbsolute,c=et(a),d=a.origin??r,u=s.x<l.x?Math.round(Math.abs(l.x-s.x)):0,h=s.y<l.y?Math.round(Math.abs(l.y-s.y)):0,p=Math.max(c.width,Math.round(s.width)),f=Math.max(c.height,Math.round(s.height)),m=(p-c.width)*d[0],g=(f-c.height)*d[1];(u>0||h>0||m||g)&&(o.push({id:i,type:"position",position:{x:a.position.x-u+m,y:a.position.y-h+g}}),n.get(i)?.forEach(e=>{t.some(t=>t.id===e.id)||o.push({id:e.id,type:"position",position:{x:e.position.x+u,y:e.position.y+h}})})),(c.width<s.width||c.height<s.height||u||h)&&o.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:p+(u?d[0]*u-m:0),height:f+(h?d[1]*h-g:0)}})}),o}function Ut(t,e,n,r,o,i){const s=r?.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(s),{m22:d}=new window.DOMMatrixReadOnly(c.transform),u=[];for(const h of t.values()){const t=e.get(h.id);if(!t)continue;if(t.hidden){e.set(t.id,{...t,internals:{...t.internals,handleBounds:void 0}}),a=!0;continue}const r=lt(h.nodeElement),s=t.measured.width!==r.width||t.measured.height!==r.height;if(!(!r.width||!r.height||!s&&t.internals.handleBounds&&!h.force)){const c=h.nodeElement.getBoundingClientRect(),p=tt(t.extent)?t.extent:i;let{positionAbsolute:f}=t.internals;t.parentId&&"parent"===t.extent?f=I(f,r,e.get(t.parentId)):p&&(f=R(f,p,r));const m={...t,measured:r,internals:{...t.internals,positionAbsolute:f,handleBounds:{source:ft("source",h.nodeElement,c,d,t.id),target:ft("target",h.nodeElement,c,d,t.id)}}};e.set(t.id,m),t.parentId&&Ft(m,e,n,{nodeOrigin:o}),a=!0,s&&(l.push({id:t.id,type:"dimensions",dimensions:r}),t.expandParent&&t.parentId&&u.push({id:t.id,parentId:t.parentId,rect:F(m,o)}))}}if(u.length>0){const t=Ht(u,e,n,o);l.push(...t)}return{changes:l,updatedInternals:a}}async function Wt(t){let{delta:e,panZoom:n,transform:r,translateExtent:o,width:i,height:s}=t;if(!n||!e.x&&!e.y)return Promise.resolve(!1);const a=await n.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[i,s]],o),l=!!a&&(a.x!==r[0]||a.y!==r[1]||a.k!==r[2]);return Promise.resolve(l)}function Kt(t,e,n,r,o,i){let s=o;const a=r.get(s)||new Map;r.set(s,a.set(n,e)),s=`${o}-${t}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,e)),i){s=`${o}-${t}-${i}`;const a=r.get(s)||new Map;r.set(s,a.set(n,e))}}function qt(t,e,n){t.clear(),e.clear();for(const r of n){const{source:n,target:o,sourceHandle:i=null,targetHandle:s=null}=r,a={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:s},l=`${n}-${i}--${o}-${s}`;Kt("source",a,`${o}-${s}--${n}-${i}`,t,n,i),Kt("target",a,l,t,o,s),e.set(r.id,r)}}function Xt(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return!!n&&(!!n.selected||Xt(n,e))}function Jt(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Yt(t){let{nodeId:e,dragItems:n,nodeLookup:r,dragging:o=!0}=t;const i=[];for(const[a,l]of n){const t=r.get(a)?.internals.userNode;t&&i.push({...t,position:l.position,dragging:o})}if(!e)return[i[0],i];const s=r.get(e)?.internals.userNode;return[s?{...s,position:n.get(e)?.position||s.position,dragging:o}:i[0],i]}function Zt(t){let{onNodeMouseDown:e,getStoreItems:n,onDragStart:o,onDrag:s,onDragStop:a}=t,l={x:null,y:null},c=0,d=new Map,u=!1,h={x:0,y:0},p=null,f=!1,m=null,g=!1,y=!1;return{update:function(t){let{noDragClassName:v,handleSelector:x,domNode:b,isSelectable:w,nodeId:k,nodeClickDistance:S=0}=t;function C(t,e){let{x:r,y:o}=t;const{nodeLookup:i,nodeExtent:a,snapGrid:c,snapToGrid:u,nodeOrigin:h,onNodeDrag:p,onSelectionDrag:f,onError:m,updateNodePositions:g}=n();l={x:r,y:o};let v=!1,x={x:0,y:0,x2:0,y2:0};if(d.size>1&&a){const t=T(d);x=z(t)}for(const[n,s]of d){if(!i.has(n))continue;let t={x:r-s.distance.x,y:o-s.distance.y};u&&(t=X(t,c));let e=[[a[0][0],a[0][1]],[a[1][0],a[1][1]]];if(d.size>1&&a&&!s.extent){const{positionAbsolute:t}=s.internals,n=t.x-x.x+a[0][0],r=t.x+s.measured.width-x.x2+a[1][0];e=[[n,t.y-x.y+a[0][1]],[r,t.y+s.measured.height-x.y2+a[1][1]]]}const{position:l,positionAbsolute:p}=N({nodeId:n,nextPosition:t,nodeLookup:i,nodeExtent:e,nodeOrigin:h,onError:m});v=v||s.position.x!==l.x||s.position.y!==l.y,s.position=l,s.internals.positionAbsolute=p}if(y=y||v,v&&(g(d,!0),e&&(s||p||!k&&f))){const[t,n]=Yt({nodeId:k,dragItems:d,nodeLookup:i});s?.(e,d,t,n),p?.(e,t,n),k||f?.(e,n)}}async function E(){if(!p)return;const{transform:t,panBy:e,autoPanSpeed:r,autoPanOnNodeDrag:o}=n();if(!o)return u=!1,void cancelAnimationFrame(c);const[i,s]=j(h,p,r);0===i&&0===s||(l.x=(l.x??0)-i/t[2],l.y=(l.y??0)-s/t[2],await e({x:i,y:s})&&C(l,null)),c=requestAnimationFrame(E)}function M(t){const{nodeLookup:r,multiSelectionActive:i,nodesDraggable:s,transform:a,snapGrid:c,snapToGrid:u,selectNodesOnDrag:h,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:y}=n();f=!0,h&&w||i||!k||r.get(k)?.selected||y(),w&&h&&k&&e?.(k);const v=at(t.sourceEvent,{transform:a,snapGrid:c,snapToGrid:u,containerBounds:p});if(l=v,d=function(t,e,n,r){const o=new Map;for(const[i,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!Xt(s,t))&&(s.draggable||e&&"undefined"===typeof s.draggable)){const e=t.get(i);e&&o.set(i,{id:i,position:e.position||{x:0,y:0},distance:{x:n.x-e.internals.positionAbsolute.x,y:n.y-e.internals.positionAbsolute.y},extent:e.extent,parentId:e.parentId,origin:e.origin,expandParent:e.expandParent,internals:{positionAbsolute:e.internals.positionAbsolute||{x:0,y:0}},measured:{width:e.measured.width??0,height:e.measured.height??0}})}return o}(r,s,v,k),d.size>0&&(o||m||!k&&g)){const[e,n]=Yt({nodeId:k,dragItems:d,nodeLookup:r});o?.(t.sourceEvent,d,e,n),m?.(t.sourceEvent,e,n),k||g?.(t.sourceEvent,n)}}m=(0,i.A)(b);const O=(0,r.A)().clickDistance(S).on("start",t=>{const{domNode:e,nodeDragThreshold:r,transform:o,snapGrid:i,snapToGrid:s}=n();p=e?.getBoundingClientRect()||null,g=!1,y=!1,0===r&&M(t);const a=at(t.sourceEvent,{transform:o,snapGrid:i,snapToGrid:s,containerBounds:p});l=a,h=pt(t.sourceEvent,p)}).on("drag",t=>{const{autoPanOnNodeDrag:e,transform:r,snapGrid:o,snapToGrid:i,nodeDragThreshold:s,nodeLookup:a}=n(),c=at(t.sourceEvent,{transform:r,snapGrid:o,snapToGrid:i,containerBounds:p});if(("touchmove"===t.sourceEvent.type&&t.sourceEvent.touches.length>1||k&&!a.has(k))&&(g=!0),!g){if(!u&&e&&f&&(u=!0,E()),!f){const e=c.xSnapped-(l.x??0),n=c.ySnapped-(l.y??0);Math.sqrt(e*e+n*n)>s&&M(t)}(l.x!==c.xSnapped||l.y!==c.ySnapped)&&d&&f&&(h=pt(t.sourceEvent,p),C(c,t.sourceEvent))}}).on("end",t=>{if(f&&!g&&(u=!1,f=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:e,updateNodePositions:r,onNodeDragStop:o,onSelectionDragStop:i}=n();if(y&&(r(d,!1),y=!1),a||o||!k&&i){const[n,r]=Yt({nodeId:k,dragItems:d,nodeLookup:e,dragging:!1});a?.(t.sourceEvent,d,n,r),o?.(t.sourceEvent,n,r),k||i?.(t.sourceEvent,r)}}}).filter(t=>{const e=t.target;return!t.button&&(!v||!Jt(e,`.${v}`,b))&&(!x||Jt(e,x,b))});m.call(O)},destroy:function(){m?.on(".drag",null)}}}function Gt(t,e,n,r){let o=[],i=1/0;const s=function(t,e,n){const r=[],o={x:t.x-n,y:t.y-n,width:2*n,height:2*n};for(const i of e.values())U(o,F(i))>0&&r.push(i);return r}(t,n,e+250);for(const a of s){const n=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const s of n){if(r.nodeId===s.nodeId&&r.type===s.type&&r.id===s.id)continue;const{x:n,y:l}=Pt(a,s,s.position,!0),c=Math.sqrt(Math.pow(n-t.x,2)+Math.pow(l-t.y,2));c>e||(c<i?(o=[{...s,x:n,y:l}],i=c):c===i&&o.push({...s,x:n,y:l}))}}if(!o.length)return null;if(o.length>1){const t="source"===r.type?"target":"source";return o.find(e=>e.type===t)??o[0]}return o[0]}function Qt(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=r.get(t);if(!s)return null;const a="strict"===o?s.internals.handleBounds?.[e]:[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]],l=(n?a?.find(t=>t.id===n):a?.[0])??null;return l&&i?{...l,...Pt(s,l,l.position,!0)}:l}function te(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}const ee=()=>!0;function ne(t,e){let{handle:n,connectionMode:r,fromNodeId:o,fromHandleId:i,fromType:s,doc:a,lib:l,flowId:c,isValidConnection:d=ee,nodeLookup:u}=e;const h="target"===s,f=n?a.querySelector(`.${l}-flow__handle[data-id="${c}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:m,y:g}=pt(t),y=a.elementFromPoint(m,g),v=y?.classList.contains(`${l}-flow__handle`)?y:f,x={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const t=te(void 0,v),e=v.getAttribute("data-nodeid"),n=v.getAttribute("data-handleid"),s=v.classList.contains("connectable"),a=v.classList.contains("connectableend");if(!e||!t)return x;const l={source:h?e:o,sourceHandle:h?n:i,target:h?o:e,targetHandle:h?i:n};x.connection=l;const c=s&&a&&(r===p.Strict?h&&"source"===t||!h&&"target"===t:e!==o||n!==i);x.isValid=c&&d(l),x.toHandle=Qt(e,t,n,u,r,!0)}return x}const re={onPointerDown:function(t,e){let{connectionMode:n,connectionRadius:r,handleId:o,nodeId:i,edgeUpdaterType:s,isTarget:a,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:u,flowId:h,panBy:p,cancelConnection:f,onConnectStart:m,onConnect:g,onConnectEnd:y,isValidConnection:v=ee,onReconnectEnd:w,updateConnection:k,getTransform:S,getFromHandle:C,autoPanSpeed:E,dragThreshold:M=1}=e;const T=ct(t.target);let O,_=0;const{x:A,y:N}=pt(t),P=T?.elementFromPoint(A,N),D=te(s,P),R=l?.getBoundingClientRect();let I=!1;if(!R||!D)return;const L=Qt(i,D,o,c,n);if(!L)return;let B=pt(t,R),z=!1,V=null,F=!1,$=null;function H(){if(!u||!R)return;const[t,e]=j(B,R,E);p({x:t,y:e}),_=requestAnimationFrame(H)}const U={...L,nodeId:i,type:D,position:L.position},W=c.get(i);let K={inProgress:!0,isValid:null,from:Pt(W,U,x.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:W,to:B,toHandle:null,toPosition:b[U.position],toNode:null};function q(){I=!0,k(K),m?.(t,{nodeId:i,handleId:o,handleType:D})}function X(t){if(!I){const{x:e,y:n}=pt(t),r=e-A,o=n-N;if(!(r*r+o*o>M*M))return;q()}if(!C()||!U)return void Z(t);const e=S();B=pt(t,R),O=Gt(J(B,e,!1,[1,1]),r,c,U),z||(H(),z=!0);const s=ne(t,{handle:O,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:a?"target":"source",isValidConnection:v,doc:T,lib:d,flowId:h,nodeLookup:c});$=s.handleDomNode,V=s.connection,F=function(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}(!!O,s.isValid);const l={...K,isValid:F,to:s.toHandle&&F?Y({x:s.toHandle.x,y:s.toHandle.y},e):B,toHandle:s.toHandle,toPosition:F&&s.toHandle?s.toHandle.position:b[U.position],toNode:s.toHandle?c.get(s.toHandle.nodeId):null};F&&O&&K.toHandle&&l.toHandle&&K.toHandle.type===l.toHandle.type&&K.toHandle.nodeId===l.toHandle.nodeId&&K.toHandle.id===l.toHandle.id&&K.to.x===l.to.x&&K.to.y===l.to.y||(k(l),K=l)}function Z(t){if(I){(O||$)&&V&&F&&g?.(V);const{inProgress:e,...n}=K,r={...n,toPosition:K.toHandle?K.toPosition:null};y?.(t,r),s&&w?.(t,r)}f(),cancelAnimationFrame(_),z=!1,F=!1,V=null,$=null,T.removeEventListener("mousemove",X),T.removeEventListener("mouseup",Z),T.removeEventListener("touchmove",X),T.removeEventListener("touchend",Z)}0===M&&q(),T.addEventListener("mousemove",X),T.addEventListener("mouseup",Z),T.addEventListener("touchmove",X),T.addEventListener("touchend",Z)},isValid:ne};function oe(t){let{domNode:e,panZoom:n,getTransform:r,getViewScale:a}=t;const l=(0,i.A)(e);return{update:function(t){let{translateExtent:e,width:o,height:i,zoomStep:c=10,pannable:d=!0,zoomable:u=!0,inversePan:h=!1}=t,p=[0,0];const f=(0,s.s_)().on("start",t=>{"mousedown"!==t.sourceEvent.type&&"touchstart"!==t.sourceEvent.type||(p=[t.sourceEvent.clientX??t.sourceEvent.touches[0].clientX,t.sourceEvent.clientY??t.sourceEvent.touches[0].clientY])}).on("zoom",d?t=>{const s=r();if("mousemove"!==t.sourceEvent.type&&"touchmove"!==t.sourceEvent.type||!n)return;const l=[t.sourceEvent.clientX??t.sourceEvent.touches[0].clientX,t.sourceEvent.clientY??t.sourceEvent.touches[0].clientY],c=[l[0]-p[0],l[1]-p[1]];p=l;const d=a()*Math.max(s[2],Math.log(s[2]))*(h?-1:1),u={x:s[0]-c[0]*d,y:s[1]-c[1]*d},f=[[0,0],[o,i]];n.setViewportConstrained({x:u.x,y:u.y,zoom:s[2]},f,e)}:null).on("zoom.wheel",u?t=>{const e=r();if("wheel"!==t.sourceEvent.type||!n)return;const o=-t.sourceEvent.deltaY*(1===t.sourceEvent.deltaMode?.05:t.sourceEvent.deltaMode?1:.002)*c,i=e[2]*Math.pow(2,o);n.scaleTo(i)}:null);l.call(f,{})},destroy:function(){l.on("zoom",null)},pointer:o.A}}const ie=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,se=t=>({x:t.x,y:t.y,zoom:t.k}),ae=t=>{let{x:e,y:n,zoom:r}=t;return s.GS.translate(e,n).scale(r)},le=(t,e)=>t.target.closest(`.${e}`),ce=(t,e)=>2===e&&Array.isArray(t)&&t.includes(2),de=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,ue=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};const o="number"===typeof e&&e>0;return o||r(),o?t.transition().duration(e).ease(n).on("end",r):t},he=t=>{const e=t.ctrlKey&&Q()?10:1;return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*e};function pe(t){let{domNode:e,minZoom:n,maxZoom:r,paneClickDistance:c,translateExtent:d,viewport:u,onPanZoom:h,onPanZoomStart:p,onPanZoomEnd:m,onDraggingChange:g}=t;const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),x=(0,s.s_)().clickDistance(!K(c)||c<0?0:c).scaleExtent([n,r]).translateExtent(d),b=(0,i.A)(e).call(x);E({x:u.x,y:u.y,zoom:D(u.zoom,n,r)},[[0,0],[v.width,v.height]],d);const w=b.on("wheel.zoom"),k=b.on("dblclick.zoom");function S(t,e){return b?new Promise(n=>{x?.interpolate("linear"===e?.interpolate?a.A:l.A).transform(ue(b,e?.duration,e?.ease,()=>n(!0)),t)}):Promise.resolve(!1)}function C(){x.on("zoom",null)}async function E(t,e,n){const r=ae(t),o=x?.constrain()(r,e,n);return o&&await S(o),new Promise(t=>t(o))}return x.wheelDelta(he),{update:function(t){let{noWheelClassName:e,noPanClassName:n,onPaneContextMenu:r,userSelectionActive:i,panOnScroll:s,panOnDrag:a,panOnScrollMode:l,panOnScrollSpeed:c,preventScrolling:d,zoomOnPinch:u,zoomOnScroll:v,zoomOnDoubleClick:S,zoomActivationKeyPressed:E,lib:M,onTransformChange:T}=t;i&&!y.isZoomingOrPanning&&C();const O=s&&!E&&!i?function(t){let{zoomPanValues:e,noWheelClassName:n,d3Selection:r,d3Zoom:i,panOnScrollMode:s,panOnScrollSpeed:a,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:d,onPanZoomEnd:u}=t;return t=>{if(le(t,n))return!1;t.preventDefault(),t.stopImmediatePropagation();const h=r.property("__zoom").k||1;if(t.ctrlKey&&l){const e=(0,o.A)(t),n=he(t),s=h*Math.pow(2,n);return void i.scaleTo(r,s,e,t)}const p=1===t.deltaMode?20:1;let m=s===f.Vertical?0:t.deltaX*p,g=s===f.Horizontal?0:t.deltaY*p;!Q()&&t.shiftKey&&s!==f.Vertical&&(m=t.deltaY*p,g=0),i.translateBy(r,-m/h*a,-g/h*a,{internal:!0});const y=se(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c?.(t,y)),e.isPanScrolling&&(d?.(t,y),e.panScrollTimeout=setTimeout(()=>{u?.(t,y),e.isPanScrolling=!1},150))}}({zoomPanValues:y,noWheelClassName:e,d3Selection:b,d3Zoom:x,panOnScrollMode:l,panOnScrollSpeed:c,zoomOnPinch:u,onPanZoomStart:p,onPanZoom:h,onPanZoomEnd:m}):function(t){let{noWheelClassName:e,preventScrolling:n,d3ZoomHandler:r}=t;return function(t,o){const i="wheel"===t.type,s=!n&&i&&!t.ctrlKey,a=le(t,e);if(t.ctrlKey&&i&&a&&t.preventDefault(),s||a)return null;t.preventDefault(),r.call(this,t,o)}}({noWheelClassName:e,preventScrolling:d,d3ZoomHandler:w});if(b.on("wheel.zoom",O,{passive:!1}),!i){const t=function(t){let{zoomPanValues:e,onDraggingChange:n,onPanZoomStart:r}=t;return t=>{if(t.sourceEvent?.internal)return;const o=se(t.transform);e.mouseButton=t.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,"mousedown"===t.sourceEvent?.type&&n(!0),r&&r?.(t.sourceEvent,o)}}({zoomPanValues:y,onDraggingChange:g,onPanZoomStart:p});x.on("start",t);const e=function(t){let{zoomPanValues:e,panOnDrag:n,onPaneContextMenu:r,onTransformChange:o,onPanZoom:i}=t;return t=>{e.usedRightMouseButton=!(!r||!ce(n,e.mouseButton??0)),t.sourceEvent?.sync||o([t.transform.x,t.transform.y,t.transform.k]),i&&!t.sourceEvent?.internal&&i?.(t.sourceEvent,se(t.transform))}}({zoomPanValues:y,panOnDrag:a,onPaneContextMenu:!!r,onPanZoom:h,onTransformChange:T});x.on("zoom",e);const n=function(t){let{zoomPanValues:e,panOnDrag:n,panOnScroll:r,onDraggingChange:o,onPanZoomEnd:i,onPaneContextMenu:s}=t;return t=>{if(!t.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&ce(n,e.mouseButton??0)&&!e.usedRightMouseButton&&t.sourceEvent&&s(t.sourceEvent),e.usedRightMouseButton=!1,o(!1),i&&ie(e.prevViewport,t.transform))){const n=se(t.transform);e.prevViewport=n,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(t.sourceEvent,n)},r?150:0)}}}({zoomPanValues:y,panOnDrag:a,panOnScroll:s,onPaneContextMenu:r,onPanZoomEnd:m,onDraggingChange:g});x.on("end",n)}const _=function(t){let{zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:o,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:a,noWheelClassName:l,noPanClassName:c,lib:d}=t;return t=>{const u=e||n,h=r&&t.ctrlKey;if(1===t.button&&"mousedown"===t.type&&(le(t,`${d}-flow__node`)||le(t,`${d}-flow__edge`)))return!0;if(!o&&!u&&!i&&!s&&!r)return!1;if(a)return!1;if(le(t,l)&&"wheel"===t.type)return!1;if(le(t,c)&&("wheel"!==t.type||i&&"wheel"===t.type&&!e))return!1;if(!r&&t.ctrlKey&&"wheel"===t.type)return!1;if(!r&&"touchstart"===t.type&&t.touches?.length>1)return t.preventDefault(),!1;if(!u&&!i&&!h&&"wheel"===t.type)return!1;if(!o&&("mousedown"===t.type||"touchstart"===t.type))return!1;if(Array.isArray(o)&&!o.includes(t.button)&&"mousedown"===t.type)return!1;const p=Array.isArray(o)&&o.includes(t.button)||!t.button||t.button<=1;return(!t.ctrlKey||"wheel"===t.type)&&p}}({zoomActivationKeyPressed:E,panOnDrag:a,zoomOnScroll:v,panOnScroll:s,zoomOnDoubleClick:S,zoomOnPinch:u,userSelectionActive:i,noPanClassName:n,noWheelClassName:e,lib:M});x.filter(_),S?b.on("dblclick.zoom",k):b.on("dblclick.zoom",null)},destroy:C,setViewport:async function(t,e){const n=ae(t);return await S(n,e),new Promise(t=>t(n))},setViewportConstrained:E,getViewport:function(){const t=b?(0,s._V)(b.node()):{x:0,y:0,k:1};return{x:t.x,y:t.y,zoom:t.k}},scaleTo:function(t,e){return b?new Promise(n=>{x?.interpolate("linear"===e?.interpolate?a.A:l.A).scaleTo(ue(b,e?.duration,e?.ease,()=>n(!0)),t)}):Promise.resolve(!1)},scaleBy:function(t,e){return b?new Promise(n=>{x?.interpolate("linear"===e?.interpolate?a.A:l.A).scaleBy(ue(b,e?.duration,e?.ease,()=>n(!0)),t)}):Promise.resolve(!1)},setScaleExtent:function(t){x?.scaleExtent(t)},setTranslateExtent:function(t){x?.translateExtent(t)},syncViewport:function(t){if(b){const e=ae(t),n=b.property("__zoom");n.k===t.zoom&&n.x===t.x&&n.y===t.y||x?.transform(b,e,null,{sync:!0})}},setClickDistance:function(t){const e=!K(t)||t<0?0:t;x?.clickDistance(e)}}}var fe;!function(t){t.Line="line",t.Handle="handle"}(fe||(fe={}));function me(t,e){return Math.max(0,e-t)}function ge(t,e){return Math.max(0,t-e)}function ye(t,e,n){return Math.max(0,e-t,t-n)}function ve(t,e){return t?!e:e}const xe={width:0,height:0,x:0,y:0},be={...xe,pointerX:0,pointerY:0,aspectRatio:1};function we(t,e,n){const r=e.position.x+t.position.x,o=e.position.y+t.position.y,i=t.measured.width??0,s=t.measured.height??0,a=n[0]*i,l=n[1]*s;return[[r-a,o-l],[r+i-a,o+s-l]]}function ke(t){let{domNode:e,nodeId:n,getStoreItems:o,onChange:s,onEnd:a}=t;const l=(0,i.A)(e);return{update:function(t){let{controlPosition:e,boundaries:i,keepAspectRatio:c,resizeDirection:d,onResizeStart:u,onResize:h,onResizeEnd:p,shouldResize:f}=t,m={...xe},g={...be};const y=function(t){return{isHorizontal:t.includes("right")||t.includes("left"),isVertical:t.includes("bottom")||t.includes("top"),affectsX:t.includes("left"),affectsY:t.includes("top")}}(e);let v,x,b,w,k=null,S=[];const C=(0,r.A)().on("start",t=>{const{nodeLookup:e,transform:r,snapGrid:i,snapToGrid:s,nodeOrigin:a,paneDomNode:l}=o();if(v=e.get(n),!v)return;k=l?.getBoundingClientRect()??null;const{xSnapped:c,ySnapped:d}=at(t.sourceEvent,{transform:r,snapGrid:i,snapToGrid:s,containerBounds:k});m={width:v.measured.width??0,height:v.measured.height??0,x:v.position.x??0,y:v.position.y??0},g={...m,pointerX:c,pointerY:d,aspectRatio:m.width/m.height},x=void 0,v.parentId&&("parent"===v.extent||v.expandParent)&&(x=e.get(v.parentId),b=x&&"parent"===v.extent?function(t){return[[0,0],[t.measured.width,t.measured.height]]}(x):void 0),S=[],w=void 0;for(const[o,u]of e)if(u.parentId===n&&(S.push({id:o,position:{...u.position},extent:u.extent}),"parent"===u.extent||u.expandParent)){const t=we(u,v,u.origin??a);w=w?[[Math.min(t[0][0],w[0][0]),Math.min(t[0][1],w[0][1])],[Math.max(t[1][0],w[1][0]),Math.max(t[1][1],w[1][1])]]:t}u?.(t,{...m})}).on("drag",t=>{const{transform:e,snapGrid:n,snapToGrid:r,nodeOrigin:a}=o(),l=at(t.sourceEvent,{transform:e,snapGrid:n,snapToGrid:r,containerBounds:k}),u=[];if(!v)return;const{x:p,y:C,width:E,height:M}=m,T={},O=v.origin??a,{width:_,height:A,x:N,y:P}=function(t,e,n,r,o,i,s,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:d,isVertical:u}=e,h=d&&u,{xSnapped:p,ySnapped:f}=n,{minWidth:m,maxWidth:g,minHeight:y,maxHeight:v}=r,{x:x,y:b,width:w,height:k,aspectRatio:S}=t;let C=Math.floor(d?p-t.pointerX:0),E=Math.floor(u?f-t.pointerY:0);const M=w+(l?-C:C),T=k+(c?-E:E),O=-i[0]*w,_=-i[1]*k;let A=ye(M,m,g),N=ye(T,y,v);if(s){let t=0,e=0;l&&C<0?t=me(x+C+O,s[0][0]):!l&&C>0&&(t=ge(x+M+O,s[1][0])),c&&E<0?e=me(b+E+_,s[0][1]):!c&&E>0&&(e=ge(b+T+_,s[1][1])),A=Math.max(A,t),N=Math.max(N,e)}if(a){let t=0,e=0;l&&C>0?t=ge(x+C,a[0][0]):!l&&C<0&&(t=me(x+M,a[1][0])),c&&E>0?e=ge(b+E,a[0][1]):!c&&E<0&&(e=me(b+T,a[1][1])),A=Math.max(A,t),N=Math.max(N,e)}if(o){if(d){const t=ye(M/S,y,v)*S;if(A=Math.max(A,t),s){let t=0;t=!l&&!c||l&&!c&&h?ge(b+_+M/S,s[1][1])*S:me(b+_+(l?C:-C)/S,s[0][1])*S,A=Math.max(A,t)}if(a){let t=0;t=!l&&!c||l&&!c&&h?me(b+M/S,a[1][1])*S:ge(b+(l?C:-C)/S,a[0][1])*S,A=Math.max(A,t)}}if(u){const t=ye(T*S,m,g)/S;if(N=Math.max(N,t),s){let t=0;t=!l&&!c||c&&!l&&h?ge(x+T*S+O,s[1][0])/S:me(x+(c?E:-E)*S+O,s[0][0])/S,N=Math.max(N,t)}if(a){let t=0;t=!l&&!c||c&&!l&&h?me(x+T*S,a[1][0])/S:ge(x+(c?E:-E)*S,a[0][0])/S,N=Math.max(N,t)}}}E+=E<0?N:-N,C+=C<0?A:-A,o&&(h?M>T*S?E=(ve(l,c)?-C:C)/S:C=(ve(l,c)?-E:E)*S:d?(E=C/S,c=l):(C=E*S,l=c));const P=l?x+C:x,D=c?b+E:b;return{width:w+(l?-C:C),height:k+(c?-E:E),x:i[0]*C*(l?-1:1)+P,y:i[1]*E*(c?-1:1)+D}}(g,y,l,i,c,O,b,w),D=_!==E,R=A!==M,I=N!==p&&D,L=P!==C&&R;if(!I&&!L&&!D&&!R)return;if((I||L||1===O[0]||1===O[1])&&(T.x=I?N:m.x,T.y=L?P:m.y,m.x=T.x,m.y=T.y,S.length>0)){const t=N-p,e=P-C;for(const n of S)n.position={x:n.position.x-t+O[0]*(_-E),y:n.position.y-e+O[1]*(A-M)},u.push(n)}if((D||R)&&(T.width=!D||d&&"horizontal"!==d?m.width:_,T.height=!R||d&&"vertical"!==d?m.height:A,m.width=T.width,m.height=T.height),x&&v.expandParent){const t=O[0]*(T.width??0);T.x&&T.x<t&&(m.x=t,g.x=g.x-(T.x-t));const e=O[1]*(T.height??0);T.y&&T.y<e&&(m.y=e,g.y=g.y-(T.y-e))}const j=function(t){let{width:e,prevWidth:n,height:r,prevHeight:o,affectsX:i,affectsY:s}=t;const a=e-n,l=r-o,c=[a>0?1:a<0?-1:0,l>0?1:l<0?-1:0];return a&&i&&(c[0]=-1*c[0]),l&&s&&(c[1]=-1*c[1]),c}({width:m.width,prevWidth:E,height:m.height,prevHeight:M,affectsX:y.affectsX,affectsY:y.affectsY}),B={...m,direction:j},z=f?.(t,B);!1!==z&&(h?.(t,B),s(T,u))}).on("end",t=>{p?.(t,{...m}),a?.({...m})});l.call(C)},destroy:function(){l.on(".drag",null)}}}},7784:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(5043);const o=t=>{const e=(t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()))(t);return e.charAt(0).toUpperCase()+e.slice(1)},i=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t,e,n)=>Boolean(t)&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim()},s=t=>{for(const e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l=(0,r.forwardRef)((t,e)=>{let{color:n="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:u,iconNode:h,...p}=t;return(0,r.createElement)("svg",{ref:e,...a,width:o,height:o,stroke:n,strokeWidth:c?24*Number(l)/Number(o):l,className:i("lucide",d),...!u&&!s(p)&&{"aria-hidden":"true"},...p},[...h.map(t=>{let[e,n]=t;return(0,r.createElement)(e,n)}),...Array.isArray(u)?u:[u]])}),c=(t,e)=>{const n=(0,r.forwardRef)((n,s)=>{let{className:a,...c}=n;return(0,r.createElement)(l,{ref:s,iconNode:e,className:i(`lucide-${d=o(t),d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,a),...c});var d});return n.displayName=o(t),n}},7819:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7828:t=>{t.exports=function(){return[]}},7845:(t,e,n)=>{"use strict";n.d(e,{tE:()=>Zt,H2:()=>cn,rV:()=>We,h7:()=>At,of:()=>vn,Gc:()=>He,Ln:()=>Ve,fM:()=>qe,ck:()=>Ke,VH:()=>ht});var r=n(579),o=n(5043);function i(t){if("string"===typeof t||"number"===typeof t)return""+t;let e="";if(Array.isArray(t))for(let n,r=0;r<t.length;r++)""!==(n=i(t[r]))&&(e+=(e&&" ")+n);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var s=n(7782),a=n(8443);const l=t=>{let e;const n=new Set,r=(t,r)=>{const o="function"===typeof t?t(e):t;if(!Object.is(o,e)){const t=e;e=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},e,o),n.forEach(n=>n(e,t))}},o=()=>e,i={setState:r,getState:o,getInitialState:()=>s,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=e=t(r,o,i);return i},c=t=>t?l(t):l;const{useDebugValue:d}=o,{useSyncExternalStoreWithSelector:u}=a,h=t=>t;function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2?arguments[2]:void 0;const r=u(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return d(r),r}const f=(t,e)=>{const n=c(t),r=function(t){return p(n,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e)};return Object.assign(r,n),r};function m(t,e){if(Object.is(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,r]of t)if(!Object.is(r,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var g=n(7950);const y=(0,o.createContext)(null),v=y.Provider,x=s.xc.error001();function b(t,e){const n=(0,o.useContext)(y);if(null===n)throw new Error(x);return p(n,t,e)}function w(){const t=(0,o.useContext)(y);if(null===t)throw new Error(x);return(0,o.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const k={display:"none"},S={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},C="react-flow__node-desc",E="react-flow__edge-desc",M=t=>t.ariaLiveMessage,T=t=>t.ariaLabelConfig;function O(t){let{rfId:e}=t;const n=b(M);return(0,r.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:S,children:n})}function _(t){let{rfId:e,disableKeyboardA11y:n}=t;const o=b(T);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:`${C}-${e}`,style:k,children:n?o["node.a11yDescription.default"]:o["node.a11yDescription.keyboardDisabled"]}),(0,r.jsx)("div",{id:`${E}-${e}`,style:k,children:o["edge.a11yDescription.default"]}),!n&&(0,r.jsx)(O,{rfId:e})]})}const A=(0,o.forwardRef)((t,e)=>{let{position:n="top-left",children:o,className:s,style:a,...l}=t;const c=`${n}`.split("-");return(0,r.jsx)("div",{className:i(["react-flow__panel",s,...c]),style:a,ref:e,...l,children:o})});function N(t){let{proOptions:e,position:n="bottom-right"}=t;return e?.hideAttribution?null:(0,r.jsx)(A,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,r.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}A.displayName="Panel";const P=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},D=t=>t.id;function R(t,e){return m(t.selectedNodes.map(D),e.selectedNodes.map(D))&&m(t.selectedEdges.map(D),e.selectedEdges.map(D))}function I(t){let{onSelectionChange:e}=t;const n=w(),{selectedNodes:r,selectedEdges:i}=b(P,R);return(0,o.useEffect)(()=>{const t={nodes:r,edges:i};e?.(t),n.getState().onSelectionChangeHandlers.forEach(e=>e(t))},[r,i,e]),null}const L=t=>!!t.onSelectionChangeHandlers;function j(t){let{onSelectionChange:e}=t;const n=b(L);return e||n?(0,r.jsx)(I,{onSelectionChange:e}):null}const B=[0,0],z={x:0,y:0,zoom:1},V=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig","rfId"],F=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),$={translateExtent:s.ZO,nodeOrigin:B,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function H(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:a,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:d,setPaneClickDistance:u}=b(F,m),h=w();(0,o.useEffect)(()=>(d(t.defaultNodes,t.defaultEdges),()=>{p.current=$,c()}),[]);const p=(0,o.useRef)($);return(0,o.useEffect)(()=>{for(const o of V){const c=t[o];c!==p.current[o]&&("undefined"!==typeof t[o]&&("nodes"===o?e(c):"edges"===o?n(c):"minZoom"===o?r(c):"maxZoom"===o?i(c):"translateExtent"===o?a(c):"nodeExtent"===o?l(c):"paneClickDistance"===o?u(c):"ariaLabelConfig"===o?h.setState({ariaLabelConfig:(0,s.Q6)(c)}):"fitView"===o?h.setState({fitViewQueued:c}):"fitViewOptions"===o?h.setState({fitViewOptions:c}):h.setState({[o]:c})))}p.current=t},V.map(e=>t[e])),null}function U(){return"undefined"!==typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const W="undefined"!==typeof document?document:null;function K(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:W,actInsideInputWithModifier:!0};const[n,r]=(0,o.useState)(!1),i=(0,o.useRef)(!1),a=(0,o.useRef)(new Set([])),[l,c]=(0,o.useMemo)(()=>{if(null!==t){const e=(Array.isArray(t)?t:[t]).filter(t=>"string"===typeof t).map(t=>t.replace("+","\n").replace("\n\n","\n+").split("\n")),n=e.reduce((t,e)=>t.concat(...e),[]);return[e,n]}return[[],[]]},[t]);return(0,o.useEffect)(()=>{const n=e?.target??W,o=e?.actInsideInputWithModifier??!0;if(null!==t){const t=t=>{i.current=t.ctrlKey||t.metaKey||t.shiftKey||t.altKey;if((!i.current||i.current&&!o)&&(0,s.v5)(t))return!1;const n=X(t.code,c);if(a.current.add(t[n]),q(l,a.current,!1)){const n=t.composedPath?.()?.[0]||t.target,o="BUTTON"===n?.nodeName||"A"===n?.nodeName;!1===e.preventDefault||!i.current&&o||t.preventDefault(),r(!0)}},d=t=>{const e=X(t.code,c);q(l,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(t[e]),"Meta"===t.key&&a.current.clear(),i.current=!1},u=()=>{a.current.clear(),r(!1)};return n?.addEventListener("keydown",t),n?.addEventListener("keyup",d),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),()=>{n?.removeEventListener("keydown",t),n?.removeEventListener("keyup",d),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u)}}},[t,r]),n}function q(t,e,n){return t.filter(t=>n||t.length===e.size).some(t=>t.every(t=>e.has(t)))}function X(t,e){return e.includes(t)?"code":"key"}const J=()=>{const t=w();return(0,o.useMemo)(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,o,i],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??o,zoom:e.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:o,minZoom:i,maxZoom:a,panZoom:l}=t.getState(),c=(0,s.R4)(e,r,o,i,a,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:r,snapGrid:o,snapToGrid:i,domNode:a}=t.getState();if(!a)return e;const{x:l,y:c}=a.getBoundingClientRect(),d={x:e.x-l,y:e.y-c},u=n.snapGrid??o,h=n.snapToGrid??i;return(0,s.Ff)(d,r,h,u)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:o,y:i}=r.getBoundingClientRect(),a=(0,s.zj)(e,n);return{x:a.x+o,y:a.y+i}}}),[])};function Y(t,e){const n=[],r=new Map,o=[];for(const i of t)if("add"!==i.type)if("remove"===i.type||"replace"===i.type)r.set(i.id,[i]);else{const t=r.get(i.id);t?t.push(i):r.set(i.id,[i])}else o.push(i);for(const i of e){const t=r.get(i.id);if(!t){n.push(i);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}const e={...i};for(const n of t)Z(n,e);n.push(e)}return o.length&&o.forEach(t=>{void 0!==t.index?n.splice(t.index,0,{...t.item}):n.push({...t.item})}),n}function Z(t,e){switch(t.type){case"select":e.selected=t.selected;break;case"position":"undefined"!==typeof t.position&&(e.position=t.position),"undefined"!==typeof t.dragging&&(e.dragging=t.dragging);break;case"dimensions":"undefined"!==typeof t.dimensions&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(!0!==t.setAttributes&&"width"!==t.setAttributes||(e.width=t.dimensions.width),!0!==t.setAttributes&&"height"!==t.setAttributes||(e.height=t.dimensions.height))),"boolean"===typeof t.resizing&&(e.resizing=t.resizing)}}function G(t,e){return Y(t,e)}function Q(t,e){return Y(t,e)}function tt(t,e){return{id:t,type:"select",selected:e}}function et(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];for(const[o,i]of t){const t=e.has(o);void 0===i.selected&&!t||i.selected===t||(n&&(i.selected=t),r.push(tt(i.id,t)))}return r}function nt(t){let{items:e=[],lookup:n}=t;const r=[],o=new Map(e.map(t=>[t.id,t]));for(const[i,s]of e.entries()){const t=n.get(s.id),e=t?.internals?.userNode??t;void 0!==e&&e!==s&&r.push({id:s.id,item:s,type:"replace"}),void 0===e&&r.push({item:s,type:"add",index:i})}for(const[i]of n){void 0===o.get(i)&&r.push({id:i,type:"remove"})}return r}function rt(t){return{id:t.id,type:"remove"}}const ot=t=>(0,s.oB)(t),it=t=>(0,s.b$)(t);function st(t){return(0,o.forwardRef)(t)}const at="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;function lt(t){const[e,n]=(0,o.useState)(BigInt(0)),[r]=(0,o.useState)(()=>function(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}(()=>n(t=>t+BigInt(1))));return at(()=>{const e=r.get();e.length&&(t(e),r.reset())},[e]),r}const ct=(0,o.createContext)(null);function dt(t){let{children:e}=t;const n=w(),i=lt((0,o.useCallback)(t=>{const{nodes:e=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:s,fitViewQueued:a}=n.getState();let l=e;for(const n of t)l="function"===typeof n?n(l):n;const c=nt({items:l,lookup:s});o&&r(l),c.length>0?i?.(c):a&&window.requestAnimationFrame(()=>{const{fitViewQueued:t,nodes:e,setNodes:r}=n.getState();t&&r(e)})},[])),s=lt((0,o.useCallback)(t=>{const{edges:e=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:s}=n.getState();let a=e;for(const n of t)a="function"===typeof n?n(a):n;o?r(a):i&&i(nt({items:a,lookup:s}))},[])),a=(0,o.useMemo)(()=>({nodeQueue:i,edgeQueue:s}),[]);return(0,r.jsx)(ct.Provider,{value:a,children:e})}const ut=t=>!!t.panZoom;function ht(){const t=J(),e=w(),n=function(){const t=(0,o.useContext)(ct);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}(),r=b(ut),i=(0,o.useMemo)(()=>{const t=t=>e.getState().nodeLookup.get(t),r=t=>{n.nodeQueue.push(t)},o=t=>{n.edgeQueue.push(t)},i=t=>{const{nodeLookup:n,nodeOrigin:r}=e.getState(),o=ot(t)?t:n.get(t.id),i=o.parentId?(0,s.us)(o.position,o.measured,o.parentId,n,r):o.position,a={...o,position:i,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return(0,s.kM)(a)},a=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};r(r=>r.map(r=>{if(r.id===t){const t="function"===typeof e?e(r):e;return n.replace&&ot(t)?t:{...r,...t}}return r}))},l=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};o(r=>r.map(r=>{if(r.id===t){const t="function"===typeof e?e(r):e;return n.replace&&it(t)?t:{...r,...t}}return r}))};return{getNodes:()=>e.getState().nodes.map(t=>({...t})),getNode:e=>t(e)?.internals.userNode,getInternalNode:t,getEdges:()=>{const{edges:t=[]}=e.getState();return t.map(t=>({...t}))},getEdge:t=>e.getState().edgeLookup.get(t),setNodes:r,setEdges:o,addNodes:t=>{const e=Array.isArray(t)?t:[t];n.nodeQueue.push(t=>[...t,...e])},addEdges:t=>{const e=Array.isArray(t)?t:[t];n.edgeQueue.push(t=>[...t,...e])},toObject:()=>{const{nodes:t=[],edges:n=[],transform:r}=e.getState(),[o,i,s]=r;return{nodes:t.map(t=>({...t})),edges:n.map(t=>({...t})),viewport:{x:o,y:i,zoom:s}}},deleteElements:async t=>{let{nodes:n=[],edges:r=[]}=t;const{nodes:o,edges:i,onNodesDelete:a,onEdgesDelete:l,triggerNodeChanges:c,triggerEdgeChanges:d,onDelete:u,onBeforeDelete:h}=e.getState(),{nodes:p,edges:f}=await(0,s.Tq)({nodesToRemove:n,edgesToRemove:r,nodes:o,edges:i,onBeforeDelete:h}),m=f.length>0,g=p.length>0;if(m){const t=f.map(rt);l?.(f),d(t)}if(g){const t=p.map(rt);a?.(p),c(t)}return(g||m)&&u?.({nodes:p,edges:f}),{deletedNodes:p,deletedEdges:f}},getIntersectingNodes:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const o=(0,s.mW)(t),a=o?t:i(t),l=void 0!==r;return a?(r||e.getState().nodes).filter(r=>{const i=e.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===t.id||!i.internals.positionAbsolute))return!1;const c=(0,s.kM)(l?r:i),d=(0,s.X6)(c,a);return n&&d>0||d>=c.width*c.height||d>=a.width*a.height}):[]},isNodeIntersecting:function(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=(0,s.mW)(t)?t:i(t);if(!r)return!1;const o=(0,s.X6)(r,e);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};a(t,t=>{const r="function"===typeof e?e(t):e;return n.replace?{...t,data:r}:{...t,data:{...t.data,...r}}},n)},updateEdge:l,updateEdgeData:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};l(t,t=>{const r="function"===typeof e?e(t):e;return n.replace?{...t,data:r}:{...t,data:{...t.data,...r}}},n)},getNodesBounds:t=>{const{nodeLookup:n,nodeOrigin:r}=e.getState();return(0,s.Jo)(t,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:t=>{let{type:n,id:r,nodeId:o}=t;return Array.from(e.getState().connectionLookup.get(`${o}-${n}${r?`-${r}`:""}`)?.values()??[])},getNodeConnections:t=>{let{type:n,handleId:r,nodeId:o}=t;return Array.from(e.getState().connectionLookup.get(`${o}${n?r?`-${n}-${r}`:`-${n}`:""}`)?.values()??[])},fitView:async t=>{const r=e.getState().fitViewResolver??(0,s.YN)();return e.setState({fitViewQueued:!0,fitViewOptions:t,fitViewResolver:r}),n.nodeQueue.push(t=>[...t]),r.promise}}},[]);return(0,o.useMemo)(()=>({...i,...t,viewportInitialized:r}),[r])}const pt=t=>t.selected,ft="undefined"!==typeof window?window:void 0;const mt={position:"absolute",width:"100%",height:"100%",top:0,left:0},gt=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function yt(t){let{onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=s.ny.Free,zoomOnDoubleClick:d=!0,panOnDrag:u=!0,defaultViewport:h,translateExtent:p,minZoom:f,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:v=!0,children:x,noWheelClassName:k,noPanClassName:S,onViewportChange:C,isControlledViewport:E,paneClickDistance:M}=t;const T=w(),O=(0,o.useRef)(null),{userSelectionActive:_,lib:A}=b(gt,m),N=K(y),P=(0,o.useRef)();!function(t){const e=w();(0,o.useEffect)(()=>{const n=()=>{if(!t.current)return!1;const n=(0,s.Eo)(t.current);0!==n.height&&0!==n.width||e.getState().onError?.("004",s.xc.error004()),e.setState({width:n.width||500,height:n.height||500})};if(t.current){n(),window.addEventListener("resize",n);const e=new ResizeObserver(()=>n());return e.observe(t.current),()=>{window.removeEventListener("resize",n),e&&t.current&&e.unobserve(t.current)}}},[])}(O);const D=(0,o.useCallback)(t=>{C?.({x:t[0],y:t[1],zoom:t[2]}),E||T.setState({transform:t})},[C,E]);return(0,o.useEffect)(()=>{if(O.current){P.current=(0,s.kO)({domNode:O.current,minZoom:f,maxZoom:g,translateExtent:p,viewport:h,paneClickDistance:M,onDraggingChange:t=>T.setState({paneDragging:t}),onPanZoomStart:(t,e)=>{const{onViewportChangeStart:n,onMoveStart:r}=T.getState();r?.(t,e),n?.(e)},onPanZoom:(t,e)=>{const{onViewportChange:n,onMove:r}=T.getState();r?.(t,e),n?.(e)},onPanZoomEnd:(t,e)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=T.getState();r?.(t,e),n?.(e)}});const{x:t,y:e,zoom:n}=P.current.getViewport();return T.setState({panZoom:P.current,transform:[t,e,n],domNode:O.current.closest(".react-flow")}),()=>{P.current?.destroy()}}},[]),(0,o.useEffect)(()=>{P.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:i,panOnScroll:a,panOnScrollSpeed:l,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:u,zoomActivationKeyPressed:N,preventScrolling:v,noPanClassName:S,userSelectionActive:_,noWheelClassName:k,lib:A,onTransformChange:D})},[e,n,i,a,l,c,d,u,N,v,S,_,k,A,D]),(0,r.jsx)("div",{className:"react-flow__renderer",ref:O,style:mt,children:x})}const vt=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function xt(){const{userSelectionActive:t,userSelectionRect:e}=b(vt,m);return t&&e?(0,r.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const bt=(t,e)=>n=>{n.target===e.current&&t?.(n)},wt=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function kt(t){let{isSelecting:e,selectionKeyPressed:n,selectionMode:a=s.Qc.Full,panOnDrag:l,selectionOnDrag:c,onSelectionStart:d,onSelectionEnd:u,onPaneClick:h,onPaneContextMenu:p,onPaneScroll:f,onPaneMouseEnter:g,onPaneMouseMove:y,onPaneMouseLeave:v,children:x}=t;const k=w(),{userSelectionActive:S,elementsSelectable:C,dragging:E,connectionInProgress:M}=b(wt,m),T=C&&(e||S),O=(0,o.useRef)(null),_=(0,o.useRef)(),A=(0,o.useRef)(new Set),N=(0,o.useRef)(new Set),P=(0,o.useRef)(!1),D=(0,o.useRef)(!1),R=t=>{P.current||M?P.current=!1:(h?.(t),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1}))},I=f?t=>f(t):void 0,L=!0===l||Array.isArray(l)&&l.includes(0);return(0,r.jsxs)("div",{className:i(["react-flow__pane",{draggable:L,dragging:E,selection:e}]),onClick:T?void 0:bt(R,O),onContextMenu:bt(t=>{Array.isArray(l)&&l?.includes(2)?t.preventDefault():p?.(t)},O),onWheel:bt(I,O),onPointerEnter:T?void 0:g,onPointerDown:T?t=>{const{resetSelectedElements:n,domNode:r}=k.getState();if(_.current=r?.getBoundingClientRect(),!C||!e||0!==t.button||t.target!==O.current||!_.current)return;t.target?.setPointerCapture?.(t.pointerId),D.current=!0,P.current=!1;const{x:o,y:i}=(0,s.q1)(t.nativeEvent,_.current);n(),k.setState({userSelectionRect:{width:0,height:0,startX:o,startY:i,x:o,y:i}}),d?.(t)}:y,onPointerMove:T?t=>{const{userSelectionRect:e,transform:n,nodeLookup:r,edgeLookup:o,connectionLookup:i,triggerNodeChanges:l,triggerEdgeChanges:c,defaultEdgeOptions:d}=k.getState();if(!_.current||!e)return;P.current=!0;const{x:u,y:h}=(0,s.q1)(t.nativeEvent,_.current),{startX:p,startY:f}=e,m={startX:p,startY:f,x:u<p?u:p,y:h<f?h:f,width:Math.abs(u-p),height:Math.abs(h-f)},g=A.current,y=N.current;A.current=new Set((0,s.U$)(r,m,n,a===s.Qc.Partial,!0).map(t=>t.id)),N.current=new Set;const v=d?.selectable??!0;for(const s of A.current){const t=i.get(s);if(t)for(const{edgeId:e}of t.values()){const t=o.get(e);t&&(t.selectable??v)&&N.current.add(e)}}if(!(0,s._s)(g,A.current)){l(et(r,A.current,!0))}if(!(0,s._s)(y,N.current)){c(et(o,N.current))}k.setState({userSelectionRect:m,userSelectionActive:!0,nodesSelectionActive:!1})}:y,onPointerUp:T?t=>{if(0!==t.button||!D.current)return;t.target?.releasePointerCapture?.(t.pointerId);const{userSelectionRect:e}=k.getState();!S&&e&&t.target===O.current&&R?.(t),k.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:A.current.size>0}),u?.(t),(n||c)&&(P.current=!1),D.current=!1}:void 0,onPointerLeave:v,ref:O,style:mt,children:[x,(0,r.jsx)(xt,{})]})}function St(t){let{id:e,store:n,unselect:r=!1,nodeRef:o}=t;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:l,nodeLookup:c,onError:d}=n.getState(),u=c.get(e);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&l)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):i([e])):d?.("012",s.xc.error012(e))}function Ct(t){let{nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:i,nodeId:a,isSelectable:l,nodeClickDistance:c}=t;const d=w(),[u,h]=(0,o.useState)(!1),p=(0,o.useRef)();return(0,o.useEffect)(()=>{p.current=(0,s.I$)({getStoreItems:()=>d.getState(),onNodeMouseDown:t=>{St({id:t,store:d,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),(0,o.useEffect)(()=>{if(n)p.current?.destroy();else if(e.current)return p.current?.update({noDragClassName:r,handleSelector:i,domNode:e.current,isSelectable:l,nodeId:a,nodeClickDistance:c}),()=>{p.current?.destroy()}},[r,i,n,l,e,a]),u}function Et(){const t=w();return(0,o.useCallback)(e=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:d}=t.getState(),u=new Map,h=(t=>e=>e.selected&&(e.draggable||t&&"undefined"===typeof e.draggable))(i),p=r?o[0]:5,f=r?o[1]:5,m=e.direction.x*p*e.factor,g=e.direction.y*f*e.factor;for(const[,t]of c){if(!h(t))continue;let e={x:t.internals.positionAbsolute.x+m,y:t.internals.positionAbsolute.y+g};r&&(e=(0,s.s_)(e,o));const{position:i,positionAbsolute:l}=(0,s.aE)({nodeId:t.id,nextPosition:e,nodeLookup:c,nodeExtent:n,nodeOrigin:d,onError:a});t.position=i,t.internals.positionAbsolute=l,u.set(t.id,t)}l(u)},[])}const Mt=(0,o.createContext)(null),Tt=Mt.Provider;Mt.Consumer;const Ot=()=>(0,o.useContext)(Mt),_t=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId});const At=(0,o.memo)(st(function(t,e){let{type:n="source",position:o=s.yX.Top,isValidConnection:a,isConnectable:l=!0,isConnectableStart:c=!0,isConnectableEnd:d=!0,id:u,onConnect:h,children:p,className:f,onMouseDown:g,onTouchStart:y,...v}=t;const x=u||null,k="target"===n,S=w(),C=Ot(),{connectOnClick:E,noPanClassName:M,rfId:T}=b(_t,m),{connectingFrom:O,connectingTo:_,clickConnecting:A,isPossibleEndHandle:N,connectionInProcess:P,clickConnectionInProcess:D,valid:R}=b(((t,e,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:l,toHandle:c,isValid:d}=a,u=c?.nodeId===t&&c?.id===e&&c?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:u,clickConnecting:o?.nodeId===t&&o?.id===e&&o?.type===n,isPossibleEndHandle:i===s.WZ.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:u&&d}})(C,x,n),m);C||S.getState().onError?.("010",s.xc.error010());const I=t=>{const{defaultEdgeOptions:e,onConnect:n,hasDefaultEdges:r}=S.getState(),o={...e,...t};if(r){const{edges:t,setEdges:e}=S.getState();e((0,s.rN)(o,t))}n?.(o),h?.(o)},L=t=>{if(!C)return;const e=(0,s.Er)(t.nativeEvent);if(c&&(e&&0===t.button||!e)){const e=S.getState();s.aQ.onPointerDown(t.nativeEvent,{autoPanOnConnect:e.autoPanOnConnect,connectionMode:e.connectionMode,connectionRadius:e.connectionRadius,domNode:e.domNode,nodeLookup:e.nodeLookup,lib:e.lib,isTarget:k,handleId:x,nodeId:C,flowId:e.rfId,panBy:e.panBy,cancelConnection:e.cancelConnection,onConnectStart:e.onConnectStart,onConnectEnd:e.onConnectEnd,updateConnection:e.updateConnection,onConnect:I,isValidConnection:a||e.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:e.autoPanSpeed,dragThreshold:e.connectionDragThreshold})}e?g?.(t):y?.(t)};return(0,r.jsx)("div",{"data-handleid":x,"data-nodeid":C,"data-handlepos":o,"data-id":`${T}-${C}-${x}-${n}`,className:i(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",M,f,{source:!k,target:k,connectable:l,connectablestart:c,connectableend:d,clickconnecting:A,connectingfrom:O,connectingto:_,valid:R,connectionindicator:l&&(!P||N)&&(P||D?d:c)}]),onMouseDown:L,onTouchStart:L,onClick:E?t=>{const{onClickConnectStart:e,onClickConnectEnd:r,connectionClickStartHandle:o,connectionMode:i,isValidConnection:l,lib:d,rfId:u,nodeLookup:h,connection:p}=S.getState();if(!C||!o&&!c)return;if(!o)return e?.(t.nativeEvent,{nodeId:C,handleId:x,handleType:n}),void S.setState({connectionClickStartHandle:{nodeId:C,type:n,id:x}});const f=(0,s.oj)(t.target),m=a||l,{connection:g,isValid:y}=s.aQ.isValid(t.nativeEvent,{handle:{nodeId:C,id:x,type:n},connectionMode:i,fromNodeId:o.nodeId,fromHandleId:o.id||null,fromType:o.type,isValidConnection:m,flowId:u,doc:f,lib:d,nodeLookup:h});y&&g&&I(g);const v=structuredClone(p);delete v.inProgress,v.toPosition=v.toHandle?v.toHandle.position:null,r?.(t,v),S.setState({connectionClickStartHandle:null})}:void 0,ref:e,...v,children:p})}));const Nt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Pt={input:function(t){let{data:e,isConnectable:n,sourcePosition:o=s.yX.Bottom}=t;return(0,r.jsxs)(r.Fragment,{children:[e?.label,(0,r.jsx)(At,{type:"source",position:o,isConnectable:n})]})},default:function(t){let{data:e,isConnectable:n,targetPosition:o=s.yX.Top,sourcePosition:i=s.yX.Bottom}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(At,{type:"target",position:o,isConnectable:n}),e?.label,(0,r.jsx)(At,{type:"source",position:i,isConnectable:n})]})},output:function(t){let{data:e,isConnectable:n,targetPosition:o=s.yX.Top}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(At,{type:"target",position:o,isConnectable:n}),e?.label]})},group:function(){return null}};const Dt=t=>{const{width:e,height:n,x:r,y:o}=(0,s.aZ)(t.nodeLookup,{filter:t=>!!t.selected});return{width:(0,s.kf)(e)?e:null,height:(0,s.kf)(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${o}px)`}};function Rt(t){let{onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:s}=t;const a=w(),{width:l,height:c,transformString:d,userSelectionActive:u}=b(Dt,m),h=Et(),p=(0,o.useRef)(null);if((0,o.useEffect)(()=>{s||p.current?.focus({preventScroll:!0})},[s]),Ct({nodeRef:p}),u||!l||!c)return null;const f=e?t=>{const n=a.getState().nodes.filter(t=>t.selected);e(t,n)}:void 0;return(0,r.jsx)("div",{className:i(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d},children:(0,r.jsx)("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:s?void 0:-1,onKeyDown:s?void 0:t=>{Object.prototype.hasOwnProperty.call(Nt,t.key)&&(t.preventDefault(),h({direction:Nt[t.key],factor:t.shiftKey?4:1}))},style:{width:l,height:c}})})}const It="undefined"!==typeof window?window:void 0,Lt=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function jt(t){let{children:e,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:u,selectionKeyCode:h,selectionOnDrag:p,selectionMode:f,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:k,zoomOnScroll:S,zoomOnPinch:C,panOnScroll:E,panOnScrollSpeed:M,panOnScrollMode:T,zoomOnDoubleClick:O,panOnDrag:_,defaultViewport:A,translateExtent:N,minZoom:P,maxZoom:D,preventScrolling:R,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:j,disableKeyboardA11y:B,onViewportChange:z,isControlledViewport:V}=t;const{nodesSelectionActive:F,userSelectionActive:$}=b(Lt),H=K(h,{target:It}),U=K(v,{target:It}),W=U||_,q=U||E,X=p&&!0!==W,J=H||$||X;return function(t){let{deleteKeyCode:e,multiSelectionKeyCode:n}=t;const r=w(),{deleteElements:i}=ht(),s=K(e,{actInsideInputWithModifier:!1}),a=K(n,{target:ft});(0,o.useEffect)(()=>{if(s){const{edges:t,nodes:e}=r.getState();i({nodes:e.filter(pt),edges:t.filter(pt)}),r.setState({nodesSelectionActive:!1})}},[s]),(0,o.useEffect)(()=>{r.setState({multiSelectionActive:a})},[a])}({deleteKeyCode:u,multiSelectionKeyCode:y}),(0,r.jsx)(yt,{onPaneContextMenu:l,elementsSelectable:k,zoomOnScroll:S,zoomOnPinch:C,panOnScroll:q,panOnScrollSpeed:M,panOnScrollMode:T,zoomOnDoubleClick:O,panOnDrag:!H&&W,defaultViewport:A,translateExtent:N,minZoom:P,maxZoom:D,zoomActivationKeyCode:x,preventScrolling:R,noWheelClassName:L,noPanClassName:j,onViewportChange:z,isControlledViewport:V,paneClickDistance:d,children:(0,r.jsxs)(kt,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,panOnDrag:W,isSelecting:!!J,selectionMode:f,selectionKeyPressed:H,selectionOnDrag:X,children:[e,F&&(0,r.jsx)(Rt,{onSelectionContextMenu:I,noPanClassName:j,disableKeyboardA11y:B})]})})}jt.displayName="FlowRenderer";const Bt=(0,o.memo)(jt);function zt(t){return b((0,o.useCallback)((t=>e=>t?(0,s.U$)(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(t=>t.id):Array.from(e.nodeLookup.keys()))(t),[t]),m)}const Vt=t=>t.updateNodeInternals;function Ft(t){let{id:e,onClick:n,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onContextMenu:d,onDoubleClick:u,nodesDraggable:h,elementsSelectable:p,nodesConnectable:f,nodesFocusable:g,resizeObserver:y,noDragClassName:v,noPanClassName:x,disableKeyboardA11y:k,rfId:S,nodeTypes:E,nodeClickDistance:M,onError:T}=t;const{node:O,internals:_,isParent:A}=b(t=>{const n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},m);let N=O.type||"default",P=E?.[N]||Pt[N];void 0===P&&(T?.("003",s.xc.error003(N)),N="default",P=E?.default||Pt.default);const D=!!(O.draggable||h&&"undefined"===typeof O.draggable),R=!!(O.selectable||p&&"undefined"===typeof O.selectable),I=!!(O.connectable||f&&"undefined"===typeof O.connectable),L=!!(O.focusable||g&&"undefined"===typeof O.focusable),j=w(),B=(0,s.QE)(O),z=function(t){let{node:e,nodeType:n,hasDimensions:r,resizeObserver:i}=t;const s=w(),a=(0,o.useRef)(null),l=(0,o.useRef)(null),c=(0,o.useRef)(e.sourcePosition),d=(0,o.useRef)(e.targetPosition),u=(0,o.useRef)(n),h=r&&!!e.internals.handleBounds;return(0,o.useEffect)(()=>{!a.current||e.hidden||h&&l.current===a.current||(l.current&&i?.unobserve(l.current),i?.observe(a.current),l.current=a.current)},[h,e.hidden]),(0,o.useEffect)(()=>()=>{l.current&&(i?.unobserve(l.current),l.current=null)},[]),(0,o.useEffect)(()=>{if(a.current){const t=u.current!==n,r=c.current!==e.sourcePosition,o=d.current!==e.targetPosition;(t||r||o)&&(u.current=n,c.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),a}({node:O,nodeType:N,hasDimensions:B,resizeObserver:y}),V=Ct({nodeRef:z,disabled:O.hidden||!D,noDragClassName:v,handleSelector:O.dragHandle,nodeId:e,isSelectable:R,nodeClickDistance:M}),F=Et();if(O.hidden)return null;const $=(0,s.uD)(O),H=function(t){return void 0===t.internals.handleBounds?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}(O),U=R||D||n||a||l||c,W=a?t=>a(t,{..._.userNode}):void 0,K=l?t=>l(t,{..._.userNode}):void 0,q=c?t=>c(t,{..._.userNode}):void 0,X=d?t=>d(t,{..._.userNode}):void 0,J=u?t=>u(t,{..._.userNode}):void 0;return(0,r.jsx)("div",{className:i(["react-flow__node",`react-flow__node-${N}`,{[x]:D},O.className,{selected:O.selected,selectable:R,parent:A,draggable:D,dragging:V}]),ref:z,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:B?"visible":"hidden",...O.style,...H},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:W,onMouseMove:K,onMouseLeave:q,onContextMenu:X,onClick:t=>{const{selectNodesOnDrag:r,nodeDragThreshold:o}=j.getState();R&&(!r||!D||o>0)&&St({id:e,store:j,nodeRef:z}),n&&n(t,{..._.userNode})},onDoubleClick:J,onKeyDown:L?t=>{if(!(0,s.v5)(t.nativeEvent)&&!k)if(s.tn.includes(t.key)&&R){const n="Escape"===t.key;St({id:e,store:j,unselect:n,nodeRef:z})}else if(D&&O.selected&&Object.prototype.hasOwnProperty.call(Nt,t.key)){t.preventDefault();const{ariaLabelConfig:e}=j.getState();j.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),F({direction:Nt[t.key],factor:t.shiftKey?4:1})}}:void 0,tabIndex:L?0:void 0,onFocus:L?()=>{if(k||!z.current?.matches(":focus-visible"))return;const{transform:t,width:n,height:r,autoPanOnNodeFocus:o,setCenter:i}=j.getState();if(!o)return;(0,s.U$)(new Map([[e,O]]),{x:0,y:0,width:n,height:r},t,!0).length>0||i(O.position.x+$.width/2,O.position.y+$.height/2,{zoom:t[2]})}:void 0,role:O.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":k?void 0:`${C}-${S}`,"aria-label":O.ariaLabel,...O.domAttributes,children:(0,r.jsx)(Tt,{value:e,children:(0,r.jsx)(P,{id:e,data:O.data,type:N,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:O.selected??!1,selectable:R,draggable:D,deletable:O.deletable??!0,isConnectable:I,sourcePosition:O.sourcePosition,targetPosition:O.targetPosition,dragging:V,dragHandle:O.dragHandle,zIndex:_.z,parentId:O.parentId,...$})})})}const $t=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Ht(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:i,elementsSelectable:s,onError:a}=b($t,m),l=zt(t.onlyRenderVisibleElements),c=function(){const t=b(Vt),[e]=(0,o.useState)(()=>"undefined"===typeof ResizeObserver?null:new ResizeObserver(e=>{const n=new Map;e.forEach(t=>{const e=t.target.getAttribute("data-id");n.set(e,{id:e,nodeElement:t.target,force:!0})}),t(n)}));return(0,o.useEffect)(()=>()=>{e?.disconnect()},[e]),e}();return(0,r.jsx)("div",{className:"react-flow__nodes",style:mt,children:l.map(o=>(0,r.jsx)(Ft,{id:o,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:i,elementsSelectable:s,nodeClickDistance:t.nodeClickDistance,onError:a},o))})}Ht.displayName="NodeRenderer";const Ut=(0,o.memo)(Ht);const Wt={[s.TG.Arrow]:t=>{let{color:e="none",strokeWidth:n=1}=t;return(0,r.jsx)("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[s.TG.ArrowClosed]:t=>{let{color:e="none",strokeWidth:n=1}=t;return(0,r.jsx)("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Kt=t=>{let{id:e,type:n,color:i,width:a=12.5,height:l=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:u="auto-start-reverse"}=t;const h=function(t){const e=w();return(0,o.useMemo)(()=>Object.prototype.hasOwnProperty.call(Wt,t)?Wt[t]:(e.getState().onError?.("009",s.xc.error009(t)),null),[t])}(n);return h?(0,r.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:u,refX:"0",refY:"0",children:(0,r.jsx)(h,{color:i,strokeWidth:d})}):null},qt=t=>{let{defaultColor:e,rfId:n}=t;const i=b(t=>t.edges),a=b(t=>t.defaultEdgeOptions),l=(0,o.useMemo)(()=>(0,s.Hm)(i,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[i,a,n,e]);return l.length?(0,r.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,r.jsx)("defs",{children:l.map(t=>(0,r.jsx)(Kt,{id:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient},t.id))})}):null};qt.displayName="MarkerDefinitions";var Xt=(0,o.memo)(qt);function Jt(t){let{x:e,y:n,label:s,labelStyle:a,labelShowBg:l=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:u=2,children:h,className:p,...f}=t;const[m,g]=(0,o.useState)({x:1,y:0,width:0,height:0}),y=i(["react-flow__edge-textwrapper",p]),v=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(v.current){const t=v.current.getBBox();g({x:t.x,y:t.y,width:t.width,height:t.height})}},[s]),s?(0,r.jsxs)("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...f,children:[l&&(0,r.jsx)("rect",{width:m.width+2*d[0],x:-d[0],y:-d[1],height:m.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:u,ry:u}),(0,r.jsx)("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:v,style:a,children:s}),h]}):null}Jt.displayName="EdgeText";const Yt=(0,o.memo)(Jt);function Zt(t){let{path:e,labelX:n,labelY:o,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,interactionWidth:p=20,...f}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{...f,d:e,fill:"none",className:i(["react-flow__edge-path",f.className])}),p&&(0,r.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&(0,s.kf)(n)&&(0,s.kf)(o)?(0,r.jsx)(Yt,{x:n,y:o,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h}):null]})}function Gt(t){let{pos:e,x1:n,y1:r,x2:o,y2:i}=t;return e===s.yX.Left||e===s.yX.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function Qt(t){let{sourceX:e,sourceY:n,sourcePosition:r=s.yX.Bottom,targetX:o,targetY:i,targetPosition:a=s.yX.Top}=t;const[l,c]=Gt({pos:r,x1:e,y1:n,x2:o,y2:i}),[d,u]=Gt({pos:a,x1:o,y1:i,x2:e,y2:n}),[h,p,f,m]=(0,s.e_)({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return[`M${e},${n} C${l},${c} ${d},${u} ${o},${i}`,h,p,f,m]}function te(t){return(0,o.memo)(e=>{let{id:n,sourceX:o,sourceY:i,targetX:s,targetY:a,sourcePosition:l,targetPosition:c,label:d,labelStyle:u,labelShowBg:h,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,interactionWidth:x}=e;const[b,w,k]=Qt({sourceX:o,sourceY:i,sourcePosition:l,targetX:s,targetY:a,targetPosition:c}),S=t.isInternal?void 0:n;return(0,r.jsx)(Zt,{id:S,path:b,labelX:w,labelY:k,label:d,labelStyle:u,labelShowBg:h,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,interactionWidth:x})})}const ee=te({isInternal:!1}),ne=te({isInternal:!0});function re(t){return(0,o.memo)(e=>{let{id:n,sourceX:o,sourceY:i,targetX:a,targetY:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,sourcePosition:g=s.yX.Bottom,targetPosition:y=s.yX.Top,markerEnd:v,markerStart:x,pathOptions:b,interactionWidth:w}=e;const[k,S,C]=(0,s.oN)({sourceX:o,sourceY:i,sourcePosition:g,targetX:a,targetY:l,targetPosition:y,borderRadius:b?.borderRadius,offset:b?.offset,stepPosition:b?.stepPosition}),E=t.isInternal?void 0:n;return(0,r.jsx)(Zt,{id:E,path:k,labelX:S,labelY:C,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:v,markerStart:x,interactionWidth:w})})}ee.displayName="SimpleBezierEdge",ne.displayName="SimpleBezierEdgeInternal";const oe=re({isInternal:!1}),ie=re({isInternal:!0});function se(t){return(0,o.memo)(e=>{let{id:n,...i}=e;const s=t.isInternal?void 0:n;return(0,r.jsx)(oe,{...i,id:s,pathOptions:(0,o.useMemo)(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}oe.displayName="SmoothStepEdge",ie.displayName="SmoothStepEdgeInternal";const ae=se({isInternal:!1}),le=se({isInternal:!0});function ce(t){return(0,o.memo)(e=>{let{id:n,sourceX:o,sourceY:i,targetX:a,targetY:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:y,interactionWidth:v}=e;const[x,b,w]=(0,s.ah)({sourceX:o,sourceY:i,targetX:a,targetY:l}),k=t.isInternal?void 0:n;return(0,r.jsx)(Zt,{id:k,path:x,labelX:b,labelY:w,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:y,interactionWidth:v})})}ae.displayName="StepEdge",le.displayName="StepEdgeInternal";const de=ce({isInternal:!1}),ue=ce({isInternal:!0});function he(t){return(0,o.memo)(e=>{let{id:n,sourceX:o,sourceY:i,targetX:a,targetY:l,sourcePosition:c=s.yX.Bottom,targetPosition:d=s.yX.Top,label:u,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,style:y,markerEnd:v,markerStart:x,pathOptions:b,interactionWidth:w}=e;const[k,S,C]=(0,s.Fp)({sourceX:o,sourceY:i,sourcePosition:c,targetX:a,targetY:l,targetPosition:d,curvature:b?.curvature}),E=t.isInternal?void 0:n;return(0,r.jsx)(Zt,{id:E,path:k,labelX:S,labelY:C,label:u,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,style:y,markerEnd:v,markerStart:x,interactionWidth:w})})}de.displayName="StraightEdge",ue.displayName="StraightEdgeInternal";const pe=he({isInternal:!1}),fe=he({isInternal:!0});pe.displayName="BezierEdge",fe.displayName="BezierEdgeInternal";const me={default:fe,straight:ue,step:le,smoothstep:ie,simplebezier:ne},ge={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ye=(t,e,n)=>n===s.yX.Left?t-e:n===s.yX.Right?t+e:t,ve=(t,e,n)=>n===s.yX.Top?t-e:n===s.yX.Bottom?t+e:t,xe="react-flow__edgeupdater";function be(t){let{position:e,centerX:n,centerY:o,radius:s=10,onMouseDown:a,onMouseEnter:l,onMouseOut:c,type:d}=t;return(0,r.jsx)("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:c,className:i([xe,`${xe}-${d}`]),cx:ye(n,s,e),cy:ve(o,s,e),r:s,stroke:"transparent",fill:"transparent"})}function we(t){let{isReconnectable:e,reconnectRadius:n,edge:o,sourceX:i,sourceY:a,targetX:l,targetY:c,sourcePosition:d,targetPosition:u,onReconnect:h,onReconnectStart:p,onReconnectEnd:f,setReconnecting:m,setUpdateHover:g}=t;const y=w(),v=(t,e)=>{if(0!==t.button)return;const{autoPanOnConnect:n,domNode:r,isValidConnection:i,connectionMode:a,connectionRadius:l,lib:c,onConnectStart:d,onConnectEnd:u,cancelConnection:g,nodeLookup:v,rfId:x,panBy:b,updateConnection:w}=y.getState(),k="target"===e.type;s.aQ.onPointerDown(t.nativeEvent,{autoPanOnConnect:n,connectionMode:a,connectionRadius:l,domNode:r,handleId:e.id,nodeId:e.nodeId,nodeLookup:v,isTarget:k,edgeUpdaterType:e.type,lib:c,flowId:x,cancelConnection:g,panBy:b,isValidConnection:i,onConnect:t=>h?.(o,t),onConnectStart:(n,r)=>{m(!0),p?.(t,o,e.type),d?.(n,r)},onConnectEnd:u,onReconnectEnd:(t,n)=>{m(!1),f?.(t,o,e.type,n)},updateConnection:w,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold})},x=()=>g(!0),b=()=>g(!1);return(0,r.jsxs)(r.Fragment,{children:[(!0===e||"source"===e)&&(0,r.jsx)(be,{position:d,centerX:i,centerY:a,radius:n,onMouseDown:t=>v(t,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),onMouseEnter:x,onMouseOut:b,type:"source"}),(!0===e||"target"===e)&&(0,r.jsx)(be,{position:u,centerX:l,centerY:c,radius:n,onMouseDown:t=>v(t,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),onMouseEnter:x,onMouseOut:b,type:"target"})]})}function ke(t){let{id:e,edgesFocusable:n,edgesReconnectable:a,elementsSelectable:l,onClick:c,onDoubleClick:d,onContextMenu:u,onMouseEnter:h,onMouseMove:p,onMouseLeave:f,reconnectRadius:g,onReconnect:y,onReconnectStart:v,onReconnectEnd:x,rfId:k,edgeTypes:S,noPanClassName:C,onError:M,disableKeyboardA11y:T}=t,O=b(t=>t.edgeLookup.get(e));const _=b(t=>t.defaultEdgeOptions);O=_?{..._,...O}:O;let A=O.type||"default",N=S?.[A]||me[A];void 0===N&&(M?.("011",s.xc.error011(A)),A="default",N=S?.default||me.default);const P=!!(O.focusable||n&&"undefined"===typeof O.focusable),D="undefined"!==typeof y&&(O.reconnectable||a&&"undefined"===typeof O.reconnectable),R=!!(O.selectable||l&&"undefined"===typeof O.selectable),I=(0,o.useRef)(null),[L,j]=(0,o.useState)(!1),[B,z]=(0,o.useState)(!1),V=w(),{zIndex:F,sourceX:$,sourceY:H,targetX:U,targetY:W,sourcePosition:K,targetPosition:q}=b((0,o.useCallback)(t=>{const n=t.nodeLookup.get(O.source),r=t.nodeLookup.get(O.target);if(!n||!r)return{zIndex:O.zIndex,...ge};const o=(0,s.b5)({id:e,sourceNode:n,targetNode:r,sourceHandle:O.sourceHandle||null,targetHandle:O.targetHandle||null,connectionMode:t.connectionMode,onError:M});return{zIndex:(0,s.qX)({selected:O.selected,zIndex:O.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect}),...o||ge}},[O.source,O.target,O.sourceHandle,O.targetHandle,O.selected,O.zIndex]),m),X=(0,o.useMemo)(()=>O.markerStart?`url('#${(0,s.aW)(O.markerStart,k)}')`:void 0,[O.markerStart,k]),J=(0,o.useMemo)(()=>O.markerEnd?`url('#${(0,s.aW)(O.markerEnd,k)}')`:void 0,[O.markerEnd,k]);if(O.hidden||null===$||null===H||null===U||null===W)return null;const Y=d?t=>{d(t,{...O})}:void 0,Z=u?t=>{u(t,{...O})}:void 0,G=h?t=>{h(t,{...O})}:void 0,Q=p?t=>{p(t,{...O})}:void 0,tt=f?t=>{f(t,{...O})}:void 0;return(0,r.jsx)("svg",{style:{zIndex:F},children:(0,r.jsxs)("g",{className:i(["react-flow__edge",`react-flow__edge-${A}`,O.className,C,{selected:O.selected,animated:O.animated,inactive:!R&&!c,updating:L,selectable:R}]),onClick:t=>{const{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=V.getState();R&&(V.setState({nodesSelectionActive:!1}),O.selected&&o?(r({nodes:[],edges:[O]}),I.current?.blur()):n([e])),c&&c(t,O)},onDoubleClick:Y,onContextMenu:Z,onMouseEnter:G,onMouseMove:Q,onMouseLeave:tt,onKeyDown:P?t=>{if(!T&&s.tn.includes(t.key)&&R){const{unselectNodesAndEdges:n,addSelectedEdges:r}=V.getState();"Escape"===t.key?(I.current?.blur(),n({edges:[O]})):r([e])}}:void 0,tabIndex:P?0:void 0,role:O.ariaRole??(P?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===O.ariaLabel?void 0:O.ariaLabel||`Edge from ${O.source} to ${O.target}`,"aria-describedby":P?`${E}-${k}`:void 0,ref:I,...O.domAttributes,children:[!B&&(0,r.jsx)(N,{id:e,source:O.source,target:O.target,type:O.type,selected:O.selected,animated:O.animated,selectable:R,deletable:O.deletable??!0,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,sourceX:$,sourceY:H,targetX:U,targetY:W,sourcePosition:K,targetPosition:q,data:O.data,style:O.style,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerStart:X,markerEnd:J,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth}),D&&(0,r.jsx)(we,{edge:O,isReconnectable:D,reconnectRadius:g,onReconnect:y,onReconnectStart:v,onReconnectEnd:x,sourceX:$,sourceY:H,targetX:U,targetY:W,sourcePosition:K,targetPosition:q,setUpdateHover:j,setReconnecting:z})]})})}const Se=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Ce(t){let{defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:i,edgeTypes:a,noPanClassName:l,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:u,onEdgeMouseMove:h,onEdgeMouseLeave:p,onEdgeClick:f,reconnectRadius:g,onEdgeDoubleClick:y,onReconnectStart:v,onReconnectEnd:x,disableKeyboardA11y:w}=t;const{edgesFocusable:k,edgesReconnectable:S,elementsSelectable:C,onError:E}=b(Se,m),M=(T=n,b((0,o.useCallback)(t=>{if(!T)return t.edges.map(t=>t.id);const e=[];if(t.width&&t.height)for(const n of t.edges){const r=t.nodeLookup.get(n.source),o=t.nodeLookup.get(n.target);r&&o&&(0,s.uj)({sourceNode:r,targetNode:o,width:t.width,height:t.height,transform:t.transform})&&e.push(n.id)}return e},[T]),m));var T;return(0,r.jsxs)("div",{className:"react-flow__edges",children:[(0,r.jsx)(Xt,{defaultColor:e,rfId:i}),M.map(t=>(0,r.jsx)(ke,{id:t,edgesFocusable:k,edgesReconnectable:S,elementsSelectable:C,noPanClassName:l,onReconnect:c,onContextMenu:d,onMouseEnter:u,onMouseMove:h,onMouseLeave:p,onClick:f,reconnectRadius:g,onDoubleClick:y,onReconnectStart:v,onReconnectEnd:x,rfId:i,onError:E,edgeTypes:a,disableKeyboardA11y:w},t))]})}Ce.displayName="EdgeRenderer";const Ee=(0,o.memo)(Ce),Me=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Te(t){let{children:e}=t;const n=b(Me);return(0,r.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}const Oe=t=>t.panZoom?.syncViewport;function _e(t){return t.connection.inProgress?{...t.connection,to:(0,s.Ff)(t.connection.to,t.transform)}:{...t.connection}}function Ae(t){const e=function(t){if(t)return e=>{const n=_e(e);return t(n)};return _e}(t);return b(e,m)}const Ne=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Pe(t){let{containerStyle:e,style:n,type:o,component:a}=t;const{nodesConnectable:l,width:c,height:d,isValid:u,inProgress:h}=b(Ne,m);return!!(c&&l&&h)?(0,r.jsx)("svg",{style:e,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:(0,r.jsx)("g",{className:i(["react-flow__connection",(0,s.HF)(u)]),children:(0,r.jsx)(De,{style:n,type:o,CustomComponent:a,isValid:u})})}):null}const De=t=>{let{style:e,type:n=s.Do.Bezier,CustomComponent:o,isValid:i}=t;const{inProgress:a,from:l,fromNode:c,fromHandle:d,fromPosition:u,to:h,toNode:p,toHandle:f,toPosition:m}=Ae();if(!a)return;if(o)return(0,r.jsx)(o,{connectionLineType:n,connectionLineStyle:e,fromNode:c,fromHandle:d,fromX:l.x,fromY:l.y,toX:h.x,toY:h.y,fromPosition:u,toPosition:m,connectionStatus:(0,s.HF)(i),toNode:p,toHandle:f});let g="";const y={sourceX:l.x,sourceY:l.y,sourcePosition:u,targetX:h.x,targetY:h.y,targetPosition:m};switch(n){case s.Do.Bezier:[g]=(0,s.Fp)(y);break;case s.Do.SimpleBezier:[g]=Qt(y);break;case s.Do.Step:[g]=(0,s.oN)({...y,borderRadius:0});break;case s.Do.SmoothStep:[g]=(0,s.oN)(y);break;default:[g]=(0,s.ah)(y)}return(0,r.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};De.displayName="ConnectionLine";const Re={};function Ie(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;(0,o.useRef)(t),w();(0,o.useEffect)(()=>{0},[t])}function Le(t){let{nodeTypes:e,edgeTypes:n,onInit:i,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:f,onSelectionStart:m,onSelectionEnd:g,connectionLineType:y,connectionLineStyle:v,connectionLineComponent:x,connectionLineContainerStyle:k,selectionKeyCode:S,selectionOnDrag:C,selectionMode:E,multiSelectionKeyCode:M,panActivationKeyCode:T,zoomActivationKeyCode:O,deleteKeyCode:_,onlyRenderVisibleElements:A,elementsSelectable:N,defaultViewport:P,translateExtent:D,minZoom:R,maxZoom:I,preventScrolling:L,defaultMarkerColor:j,zoomOnScroll:B,zoomOnPinch:z,panOnScroll:V,panOnScrollSpeed:F,panOnScrollMode:$,zoomOnDoubleClick:H,panOnDrag:U,onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:q,onPaneMouseLeave:X,onPaneScroll:J,onPaneContextMenu:Y,paneClickDistance:Z,nodeClickDistance:G,onEdgeContextMenu:Q,onEdgeMouseEnter:tt,onEdgeMouseMove:et,onEdgeMouseLeave:nt,reconnectRadius:rt,onReconnect:ot,onReconnectStart:it,onReconnectEnd:st,noDragClassName:at,noWheelClassName:lt,noPanClassName:ct,disableKeyboardA11y:dt,nodeExtent:ut,rfId:pt,viewport:ft,onViewportChange:mt}=t;return Ie(e),Ie(n),w(),(0,o.useRef)(!1),(0,o.useEffect)(()=>{},[]),function(t){const e=ht(),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}(i),function(t){const e=b(Oe),n=w();(0,o.useEffect)(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e])}(ft),(0,r.jsx)(Bt,{onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:q,onPaneMouseLeave:X,onPaneContextMenu:Y,onPaneScroll:J,paneClickDistance:Z,deleteKeyCode:_,selectionKeyCode:S,selectionOnDrag:C,selectionMode:E,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:M,panActivationKeyCode:T,zoomActivationKeyCode:O,elementsSelectable:N,zoomOnScroll:B,zoomOnPinch:z,zoomOnDoubleClick:H,panOnScroll:V,panOnScrollSpeed:F,panOnScrollMode:$,panOnDrag:U,defaultViewport:P,translateExtent:D,minZoom:R,maxZoom:I,onSelectionContextMenu:f,preventScrolling:L,noDragClassName:at,noWheelClassName:lt,noPanClassName:ct,disableKeyboardA11y:dt,onViewportChange:mt,isControlledViewport:!!ft,children:(0,r.jsxs)(Te,{children:[(0,r.jsx)(Ee,{edgeTypes:n,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:ot,onReconnectStart:it,onReconnectEnd:st,onlyRenderVisibleElements:A,onEdgeContextMenu:Q,onEdgeMouseEnter:tt,onEdgeMouseMove:et,onEdgeMouseLeave:nt,reconnectRadius:rt,defaultMarkerColor:j,noPanClassName:ct,disableKeyboardA11y:dt,rfId:pt}),(0,r.jsx)(Pe,{style:v,type:y,component:x,containerStyle:k}),(0,r.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,r.jsx)(Ut,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:G,onlyRenderVisibleElements:A,noPanClassName:ct,noDragClassName:at,disableKeyboardA11y:dt,nodeExtent:ut,rfId:pt}),(0,r.jsx)("div",{className:"react-flow__viewport-portal"})]})})}Le.displayName="GraphView";const je=(0,o.memo)(Le),Be=function(){let{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:l,minZoom:c=.5,maxZoom:d=2,nodeOrigin:u,nodeExtent:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p=new Map,f=new Map,m=new Map,g=new Map,y=r??e??[],v=n??t??[],x=u??[0,0],b=h??s.ZO;(0,s.qn)(m,g,y);const w=(0,s.bi)(v,p,f,{nodeOrigin:x,nodeExtent:b,elevateNodesOnSelect:!1});let k=[0,0,1];if(a&&o&&i){const t=(0,s.aZ)(p,{filter:t=>!(!t.width&&!t.initialWidth||!t.height&&!t.initialHeight)}),{x:e,y:n,zoom:r}=(0,s.R4)(t,o,i,c,d,l?.padding??.1);k=[e,n,r]}return{rfId:"1",width:0,height:0,transform:k,nodes:v,nodesInitialized:w,nodeLookup:p,parentLookup:f,edges:y,edgeLookup:g,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:c,maxZoom:d,translateExtent:s.ZO,nodeExtent:b,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:s.WZ.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:l,fitViewResolver:null,connection:{...s.bK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:s.KE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:s.tM}},ze=t=>{let{nodes:e,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:h,nodeExtent:p}=t;return m=(t,f)=>{async function m(){const{nodeLookup:e,panZoom:n,fitViewOptions:r,fitViewResolver:o,width:i,height:a,minZoom:l,maxZoom:c}=f();n&&(await(0,s.IO)({nodes:e,width:i,height:a,panZoom:n,minZoom:l,maxZoom:c},r),o?.resolve(!0),t({fitViewResolver:null}))}return{...Be({nodes:e,edges:n,width:i,height:a,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:h,nodeExtent:p,defaultNodes:r,defaultEdges:o}),setNodes:e=>{const{nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:i,fitViewQueued:a}=f(),l=(0,s.bi)(e,n,r,{nodeOrigin:o,nodeExtent:p,elevateNodesOnSelect:i,checkEquality:!0});a&&l?(m(),t({nodes:e,nodesInitialized:l,fitViewQueued:!1,fitViewOptions:void 0})):t({nodes:e,nodesInitialized:l})},setEdges:e=>{const{connectionLookup:n,edgeLookup:r}=f();(0,s.qn)(n,r,e),t({edges:e})},setDefaultNodesAndEdges:(e,n)=>{if(e){const{setNodes:n}=f();n(e),t({hasDefaultNodes:!0})}if(n){const{setEdges:e}=f();e(n),t({hasDefaultEdges:!0})}},updateNodeInternals:e=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,domNode:i,nodeOrigin:a,nodeExtent:l,debug:c,fitViewQueued:d}=f(),{changes:u,updatedInternals:h}=(0,s.uL)(e,r,o,i,a,l);h&&((0,s.vS)(r,o,{nodeOrigin:a,nodeExtent:l}),d?(m(),t({fitViewQueued:!1,fitViewOptions:void 0})):t({}),u?.length>0&&(c&&console.log("React Flow: trigger node changes",u),n?.(u)))},updateNodePositions:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],r=[],{nodeLookup:o,triggerNodeChanges:i}=f();for(const[s,a]of t){const t=o.get(s),i=!!(t?.expandParent&&t?.parentId&&a?.position),l={id:s,type:"position",position:i?{x:Math.max(0,a.position.x),y:Math.max(0,a.position.y)}:a.position,dragging:e};i&&t.parentId&&n.push({id:s,parentId:t.parentId,rect:{...a.internals.positionAbsolute,width:a.measured.width??0,height:a.measured.height??0}}),r.push(l)}if(n.length>0){const{parentLookup:t,nodeOrigin:e}=f(),i=(0,s.r8)(n,o,t,e);r.push(...i)}i(r)},triggerNodeChanges:t=>{const{onNodesChange:e,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=f();t?.length&&(o&&n(G(t,r)),i&&console.log("React Flow: trigger node changes",t),e?.(t))},triggerEdgeChanges:t=>{const{onEdgesChange:e,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=f();t?.length&&(o&&n(Q(t,r)),i&&console.log("React Flow: trigger edge changes",t),e?.(t))},addSelectedNodes:t=>{const{multiSelectionActive:e,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=f();e?o(t.map(t=>tt(t,!0))):(o(et(r,new Set([...t]),!0)),i(et(n)))},addSelectedEdges:t=>{const{multiSelectionActive:e,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=f();e?i(t.map(t=>tt(t,!0))):(i(et(n,new Set([...t]))),o(et(r,new Set,!0)))},unselectNodesAndEdges:function(){let{nodes:t,edges:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:s}=f(),a=e||n,l=(t||r).map(t=>{const e=o.get(t.id);return e&&(e.selected=!1),tt(t.id,!1)}),c=a.map(t=>tt(t.id,!1));i(l),s(c)},setMinZoom:e=>{const{panZoom:n,maxZoom:r}=f();n?.setScaleExtent([e,r]),t({minZoom:e})},setMaxZoom:e=>{const{panZoom:n,minZoom:r}=f();n?.setScaleExtent([r,e]),t({maxZoom:e})},setTranslateExtent:e=>{f().panZoom?.setTranslateExtent(e),t({translateExtent:e})},setPaneClickDistance:t=>{f().panZoom?.setClickDistance(t)},resetSelectedElements:()=>{const{edges:t,nodes:e,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:o}=f();if(!o)return;const i=e.reduce((t,e)=>e.selected?[...t,tt(e.id,!1)]:t,[]),s=t.reduce((t,e)=>e.selected?[...t,tt(e.id,!1)]:t,[]);n(i),r(s)},setNodeExtent:e=>{const{nodes:n,nodeLookup:r,parentLookup:o,nodeOrigin:i,elevateNodesOnSelect:a,nodeExtent:l}=f();e[0][0]===l[0][0]&&e[0][1]===l[0][1]&&e[1][0]===l[1][0]&&e[1][1]===l[1][1]||((0,s.bi)(n,r,o,{nodeOrigin:i,nodeExtent:e,elevateNodesOnSelect:a,checkEquality:!1}),t({nodeExtent:e}))},panBy:t=>{const{transform:e,width:n,height:r,panZoom:o,translateExtent:i}=f();return(0,s.No)({delta:t,panZoom:o,transform:e,translateExtent:i,width:n,height:r})},setCenter:async(t,e,n)=>{const{width:r,height:o,maxZoom:i,panZoom:s}=f();if(!s)return Promise.resolve(!1);const a="undefined"!==typeof n?.zoom?n.zoom:i;return await s.setViewport({x:r/2-t*a,y:o/2-e*a,zoom:a},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{t({connection:{...s.bK}})},updateConnection:e=>{t({connection:e})},reset:()=>t({...Be()})}},g=Object.is,m?f(m,g):f;var m,g};function Ve(t){let{initialNodes:e,initialEdges:n,defaultNodes:i,defaultEdges:s,initialWidth:a,initialHeight:l,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:u,fitView:h,nodeOrigin:p,nodeExtent:f,children:m}=t;const[g]=(0,o.useState)(()=>ze({nodes:e,edges:n,defaultNodes:i,defaultEdges:s,width:a,height:l,fitView:h,minZoom:c,maxZoom:d,fitViewOptions:u,nodeOrigin:p,nodeExtent:f}));return(0,r.jsx)(v,{value:g,children:(0,r.jsx)(dt,{children:m})})}function Fe(t){let{children:e,nodes:n,edges:i,defaultNodes:s,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:u,minZoom:h,maxZoom:p,nodeOrigin:f,nodeExtent:m}=t;return(0,o.useContext)(y)?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(Ve,{initialNodes:n,initialEdges:i,defaultNodes:s,defaultEdges:a,initialWidth:l,initialHeight:c,fitView:d,initialFitViewOptions:u,initialMinZoom:h,initialMaxZoom:p,nodeOrigin:f,nodeExtent:m,children:e})}const $e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var He=st(function(t,e){let{nodes:n,edges:a,defaultNodes:l,defaultEdges:c,className:d,nodeTypes:u,edgeTypes:h,onNodeClick:p,onEdgeClick:f,onInit:m,onMove:g,onMoveStart:y,onMoveEnd:v,onConnect:x,onConnectStart:b,onConnectEnd:w,onClickConnectStart:k,onClickConnectEnd:S,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:M,onNodeContextMenu:T,onNodeDoubleClick:O,onNodeDragStart:A,onNodeDrag:P,onNodeDragStop:D,onNodesDelete:R,onEdgesDelete:I,onDelete:L,onSelectionChange:V,onSelectionDragStart:F,onSelectionDrag:$,onSelectionDragStop:W,onSelectionContextMenu:K,onSelectionStart:q,onSelectionEnd:X,onBeforeDelete:J,connectionMode:Y,connectionLineType:Z=s.Do.Bezier,connectionLineStyle:G,connectionLineComponent:Q,connectionLineContainerStyle:tt,deleteKeyCode:et="Backspace",selectionKeyCode:nt="Shift",selectionOnDrag:rt=!1,selectionMode:ot=s.Qc.Full,panActivationKeyCode:it="Space",multiSelectionKeyCode:st=((0,s.Ue)()?"Meta":"Control"),zoomActivationKeyCode:at=((0,s.Ue)()?"Meta":"Control"),snapToGrid:lt,snapGrid:ct,onlyRenderVisibleElements:dt=!1,selectNodesOnDrag:ut,nodesDraggable:ht,autoPanOnNodeFocus:pt,nodesConnectable:ft,nodesFocusable:mt,nodeOrigin:gt=B,edgesFocusable:yt,edgesReconnectable:vt,elementsSelectable:xt=!0,defaultViewport:bt=z,minZoom:wt=.5,maxZoom:kt=2,translateExtent:St=s.ZO,preventScrolling:Ct=!0,nodeExtent:Et,defaultMarkerColor:Mt="#b1b1b7",zoomOnScroll:Tt=!0,zoomOnPinch:Ot=!0,panOnScroll:_t=!1,panOnScrollSpeed:At=.5,panOnScrollMode:Nt=s.ny.Free,zoomOnDoubleClick:Pt=!0,panOnDrag:Dt=!0,onPaneClick:Rt,onPaneMouseEnter:It,onPaneMouseMove:Lt,onPaneMouseLeave:jt,onPaneScroll:Bt,onPaneContextMenu:zt,paneClickDistance:Vt=0,nodeClickDistance:Ft=0,children:$t,onReconnect:Ht,onReconnectStart:Ut,onReconnectEnd:Wt,onEdgeContextMenu:Kt,onEdgeDoubleClick:qt,onEdgeMouseEnter:Xt,onEdgeMouseMove:Jt,onEdgeMouseLeave:Yt,reconnectRadius:Zt=10,onNodesChange:Gt,onEdgesChange:Qt,noDragClassName:te="nodrag",noWheelClassName:ee="nowheel",noPanClassName:ne="nopan",fitView:re,fitViewOptions:oe,connectOnClick:ie,attributionPosition:se,proOptions:ae,defaultEdgeOptions:le,elevateNodesOnSelect:ce,elevateEdgesOnSelect:de,disableKeyboardA11y:ue=!1,autoPanOnConnect:he,autoPanOnNodeDrag:pe,autoPanSpeed:fe,connectionRadius:me,isValidConnection:ge,onError:ye,style:ve,id:xe,nodeDragThreshold:be,connectionDragThreshold:we,viewport:ke,onViewportChange:Se,width:Ce,height:Ee,colorMode:Me="light",debug:Te,onScroll:Oe,ariaLabelConfig:_e,...Ae}=t;const Ne=xe||"1",Pe=function(t){const[e,n]=(0,o.useState)("system"===t?null:t);return(0,o.useEffect)(()=>{if("system"!==t)return void n(t);const e=U(),r=()=>n(e?.matches?"dark":"light");return r(),e?.addEventListener("change",r),()=>{e?.removeEventListener("change",r)}},[t]),null!==e?e:U()?.matches?"dark":"light"}(Me),De=(0,o.useCallback)(t=>{t.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Oe?.(t)},[Oe]);return(0,r.jsx)("div",{"data-testid":"rf__wrapper",...Ae,onScroll:De,style:{...ve,...$e},ref:e,className:i(["react-flow",d,Pe]),id:xe,role:"application",children:(0,r.jsxs)(Fe,{nodes:n,edges:a,width:Ce,height:Ee,fitView:re,fitViewOptions:oe,minZoom:wt,maxZoom:kt,nodeOrigin:gt,nodeExtent:Et,children:[(0,r.jsx)(je,{onInit:m,onNodeClick:p,onEdgeClick:f,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:M,onNodeContextMenu:T,onNodeDoubleClick:O,nodeTypes:u,edgeTypes:h,connectionLineType:Z,connectionLineStyle:G,connectionLineComponent:Q,connectionLineContainerStyle:tt,selectionKeyCode:nt,selectionOnDrag:rt,selectionMode:ot,deleteKeyCode:et,multiSelectionKeyCode:st,panActivationKeyCode:it,zoomActivationKeyCode:at,onlyRenderVisibleElements:dt,defaultViewport:bt,translateExtent:St,minZoom:wt,maxZoom:kt,preventScrolling:Ct,zoomOnScroll:Tt,zoomOnPinch:Ot,zoomOnDoubleClick:Pt,panOnScroll:_t,panOnScrollSpeed:At,panOnScrollMode:Nt,panOnDrag:Dt,onPaneClick:Rt,onPaneMouseEnter:It,onPaneMouseMove:Lt,onPaneMouseLeave:jt,onPaneScroll:Bt,onPaneContextMenu:zt,paneClickDistance:Vt,nodeClickDistance:Ft,onSelectionContextMenu:K,onSelectionStart:q,onSelectionEnd:X,onReconnect:Ht,onReconnectStart:Ut,onReconnectEnd:Wt,onEdgeContextMenu:Kt,onEdgeDoubleClick:qt,onEdgeMouseEnter:Xt,onEdgeMouseMove:Jt,onEdgeMouseLeave:Yt,reconnectRadius:Zt,defaultMarkerColor:Mt,noDragClassName:te,noWheelClassName:ee,noPanClassName:ne,rfId:Ne,disableKeyboardA11y:ue,nodeExtent:Et,viewport:ke,onViewportChange:Se}),(0,r.jsx)(H,{nodes:n,edges:a,defaultNodes:l,defaultEdges:c,onConnect:x,onConnectStart:b,onConnectEnd:w,onClickConnectStart:k,onClickConnectEnd:S,nodesDraggable:ht,autoPanOnNodeFocus:pt,nodesConnectable:ft,nodesFocusable:mt,edgesFocusable:yt,edgesReconnectable:vt,elementsSelectable:xt,elevateNodesOnSelect:ce,elevateEdgesOnSelect:de,minZoom:wt,maxZoom:kt,nodeExtent:Et,onNodesChange:Gt,onEdgesChange:Qt,snapToGrid:lt,snapGrid:ct,connectionMode:Y,translateExtent:St,connectOnClick:ie,defaultEdgeOptions:le,fitView:re,fitViewOptions:oe,onNodesDelete:R,onEdgesDelete:I,onDelete:L,onNodeDragStart:A,onNodeDrag:P,onNodeDragStop:D,onSelectionDrag:$,onSelectionDragStart:F,onSelectionDragStop:W,onMove:g,onMoveStart:y,onMoveEnd:v,noPanClassName:ne,nodeOrigin:gt,rfId:Ne,autoPanOnConnect:he,autoPanOnNodeDrag:pe,autoPanSpeed:fe,onError:ye,connectionRadius:me,isValidConnection:ge,selectNodesOnDrag:ut,nodeDragThreshold:be,connectionDragThreshold:we,onBeforeDelete:J,paneClickDistance:Vt,debug:Te,ariaLabelConfig:_e}),(0,r.jsx)(j,{onSelectionChange:V}),$t,(0,r.jsx)(N,{proOptions:ae,position:se}),(0,r.jsx)(_,{rfId:Ne,disableKeyboardA11y:ue})]})})});const Ue=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function We(t){let{children:e}=t;const n=b(Ue);return n?(0,g.createPortal)(e,n):null}function Ke(t){const[e,n]=(0,o.useState)(t),r=(0,o.useCallback)(t=>n(e=>G(t,e)),[]);return[e,n,r]}function qe(t){const[e,n]=(0,o.useState)(t),r=(0,o.useCallback)(t=>n(e=>Q(t,e)),[]);return[e,n,r]}s.xc.error014();function Xe(t){let{dimensions:e,lineWidth:n,variant:o,className:s}=t;return(0,r.jsx)("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:i(["react-flow__background-pattern",o,s])})}function Je(t){let{radius:e,className:n}=t;return(0,r.jsx)("circle",{cx:e,cy:e,r:e,className:i(["react-flow__background-pattern","dots",n])})}var Ye;!function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"}(Ye||(Ye={}));const Ze={[Ye.Dots]:1,[Ye.Lines]:1,[Ye.Cross]:6},Ge=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Qe(t){let{id:e,variant:n=Ye.Dots,gap:s=20,size:a,lineWidth:l=1,offset:c=0,color:d,bgColor:u,style:h,className:p,patternClassName:f}=t;const g=(0,o.useRef)(null),{transform:y,patternId:v}=b(Ge,m),x=a||Ze[n],w=n===Ye.Dots,k=n===Ye.Cross,S=Array.isArray(s)?s:[s,s],C=[S[0]*y[2]||1,S[1]*y[2]||1],E=x*y[2],M=Array.isArray(c)?c:[c,c],T=k?[E,E]:C,O=[M[0]*y[2]||1+T[0]/2,M[1]*y[2]||1+T[1]/2],_=`${v}${e||""}`;return(0,r.jsxs)("svg",{className:i(["react-flow__background",p]),style:{...h,...mt,"--xy-background-color-props":u,"--xy-background-pattern-color-props":d},ref:g,"data-testid":"rf__background",children:[(0,r.jsx)("pattern",{id:_,x:y[0]%C[0],y:y[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:w?(0,r.jsx)(Je,{radius:E/2,className:f}):(0,r.jsx)(Xe,{dimensions:T,lineWidth:l,variant:n,className:f})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}Qe.displayName="Background";(0,o.memo)(Qe);function tn(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,r.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function en(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,r.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function nn(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,r.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function rn(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function on(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function sn(t){let{children:e,className:n,...o}=t;return(0,r.jsx)("button",{type:"button",className:i(["react-flow__controls-button",n]),...o,children:e})}const an=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function ln(t){let{style:e,showZoom:n=!0,showFitView:o=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:l,onZoomOut:c,onFitView:d,onInteractiveChange:u,className:h,children:p,position:f="bottom-left",orientation:g="vertical","aria-label":y}=t;const v=w(),{isInteractive:x,minZoomReached:k,maxZoomReached:S,ariaLabelConfig:C}=b(an,m),{zoomIn:E,zoomOut:M,fitView:T}=ht(),O="horizontal"===g?"horizontal":"vertical";return(0,r.jsxs)(A,{className:i(["react-flow__controls",O,h]),position:f,style:e,"data-testid":"rf__controls","aria-label":y??C["controls.ariaLabel"],children:[n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(sn,{onClick:()=>{E(),l?.()},className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:S,children:(0,r.jsx)(tn,{})}),(0,r.jsx)(sn,{onClick:()=>{M(),c?.()},className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:k,children:(0,r.jsx)(en,{})})]}),o&&(0,r.jsx)(sn,{className:"react-flow__controls-fitview",onClick:()=>{T(a),d?.()},title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:(0,r.jsx)(nn,{})}),s&&(0,r.jsx)(sn,{className:"react-flow__controls-interactive",onClick:()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),u?.(!x)},title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:x?(0,r.jsx)(on,{}):(0,r.jsx)(rn,{})}),p]})}ln.displayName="Controls";const cn=(0,o.memo)(ln);const dn=(0,o.memo)(function(t){let{id:e,x:n,y:o,width:s,height:a,style:l,color:c,strokeColor:d,strokeWidth:u,className:h,borderRadius:p,shapeRendering:f,selected:m,onClick:g}=t;const{background:y,backgroundColor:v}=l||{},x=c||y||v;return(0,r.jsx)("rect",{className:i(["react-flow__minimap-node",{selected:m},h]),x:n,y:o,rx:p,ry:p,width:s,height:a,style:{fill:x,stroke:d,strokeWidth:u},shapeRendering:f,onClick:g?t=>g(t,e):void 0})}),un=t=>t.nodes.map(t=>t.id),hn=t=>t instanceof Function?t:()=>t;const pn=(0,o.memo)(function(t){let{id:e,nodeColorFunc:n,nodeStrokeColorFunc:o,nodeClassNameFunc:i,nodeBorderRadius:a,nodeStrokeWidth:l,shapeRendering:c,NodeComponent:d,onClick:u}=t;const{node:h,x:p,y:f,width:g,height:y}=b(t=>{const{internals:n}=t.nodeLookup.get(e),r=n.userNode,{x:o,y:i}=n.positionAbsolute,{width:a,height:l}=(0,s.uD)(r);return{node:r,x:o,y:i,width:a,height:l}},m);return h&&!h.hidden&&(0,s.QE)(h)?(0,r.jsx)(d,{x:p,y:f,width:g,height:y,style:h.style,selected:!!h.selected,className:i(h),color:n(h),borderRadius:a,strokeColor:o(h),strokeWidth:l,shapeRendering:c,onClick:u,id:h.id}):null});var fn=(0,o.memo)(function(t){let{nodeStrokeColor:e,nodeColor:n,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:a=dn,onClick:l}=t;const c=b(un,m),d=hn(n),u=hn(e),h=hn(o),p="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,r.jsx)(r.Fragment,{children:c.map(t=>(0,r.jsx)(pn,{id:t,nodeColorFunc:d,nodeStrokeColorFunc:u,nodeClassNameFunc:h,nodeBorderRadius:i,nodeStrokeWidth:s,NodeComponent:a,onClick:l,shapeRendering:p},t))})});const mn=t=>!t.hidden,gn=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?(0,s.Mi)((0,s.aZ)(t.nodeLookup,{filter:mn}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}};function yn(t){let{style:e,className:n,nodeStrokeColor:a,nodeColor:l,nodeClassName:c="",nodeBorderRadius:d=5,nodeStrokeWidth:u,nodeComponent:h,bgColor:p,maskColor:f,maskStrokeColor:g,maskStrokeWidth:y,position:v="bottom-right",onClick:x,onNodeClick:k,pannable:S=!1,zoomable:C=!1,ariaLabel:E,inversePan:M,zoomStep:T=10,offsetScale:O=5}=t;const _=w(),N=(0,o.useRef)(null),{boundingRect:P,viewBB:D,rfId:R,panZoom:I,translateExtent:L,flowWidth:j,flowHeight:B,ariaLabelConfig:z}=b(gn,m),V=e?.width??200,F=e?.height??150,$=P.width/V,H=P.height/F,U=Math.max($,H),W=U*V,K=U*F,q=O*U,X=P.x-(W-P.width)/2-q,J=P.y-(K-P.height)/2-q,Y=W+2*q,Z=K+2*q,G=`react-flow__minimap-desc-${R}`,Q=(0,o.useRef)(0),tt=(0,o.useRef)();Q.current=U,(0,o.useEffect)(()=>{if(N.current&&I)return tt.current=(0,s.di)({domNode:N.current,panZoom:I,getTransform:()=>_.getState().transform,getViewScale:()=>Q.current}),()=>{tt.current?.destroy()}},[I]),(0,o.useEffect)(()=>{tt.current?.update({translateExtent:L,width:j,height:B,inversePan:M,pannable:S,zoomStep:T,zoomable:C})},[S,C,M,T,L,j,B]);const et=x?t=>{const[e,n]=tt.current?.pointer(t)||[0,0];x(t,{x:e,y:n})}:void 0,nt=k?(0,o.useCallback)((t,e)=>{const n=_.getState().nodeLookup.get(e).internals.userNode;k(t,n)},[]):void 0,rt=E??z["minimap.ariaLabel"];return(0,r.jsx)(A,{position:v,style:{...e,"--xy-minimap-background-color-props":"string"===typeof p?p:void 0,"--xy-minimap-mask-background-color-props":"string"===typeof f?f:void 0,"--xy-minimap-mask-stroke-color-props":"string"===typeof g?g:void 0,"--xy-minimap-mask-stroke-width-props":"number"===typeof y?y*U:void 0,"--xy-minimap-node-background-color-props":"string"===typeof l?l:void 0,"--xy-minimap-node-stroke-color-props":"string"===typeof a?a:void 0,"--xy-minimap-node-stroke-width-props":"number"===typeof u?u:void 0},className:i(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:(0,r.jsxs)("svg",{width:V,height:F,viewBox:`${X} ${J} ${Y} ${Z}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:N,onClick:et,children:[rt&&(0,r.jsx)("title",{id:G,children:rt}),(0,r.jsx)(fn,{onClick:nt,nodeColor:l,nodeStrokeColor:a,nodeBorderRadius:d,nodeClassName:c,nodeStrokeWidth:u,nodeComponent:h}),(0,r.jsx)("path",{className:"react-flow__minimap-mask",d:`M${X-q},${J-q}h${Y+2*q}v${Z+2*q}h${-Y-2*q}z\n        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}yn.displayName="MiniMap";const vn=(0,o.memo)(yn),xn={[s.xN.Line]:"right",[s.xN.Handle]:"bottom-right"};(0,o.memo)(function(t){let{nodeId:e,position:n,variant:a=s.xN.Handle,className:l,style:c,children:d,color:u,minWidth:h=10,minHeight:p=10,maxWidth:f=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:v,autoScale:x=!0,shouldResize:k,onResizeStart:S,onResize:C,onResizeEnd:E}=t;const M=Ot(),T="string"===typeof e?e:M,O=w(),_=(0,o.useRef)(null),A=a===s.xN.Handle,N=b((0,o.useCallback)((P=A&&x,t=>P?`${Math.max(1/t.transform[2],1)}`:void 0),[A,x]),m);var P;const D=(0,o.useRef)(null),R=n??xn[a];(0,o.useEffect)(()=>{if(_.current&&T)return D.current||(D.current=(0,s.ET)({domNode:_.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:t,transform:e,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:i}=O.getState();return{nodeLookup:t,transform:e,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:i}},onChange:(t,e)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:i}=O.getState(),a=[],l={x:t.x,y:t.y},c=r.get(T);if(c&&c.expandParent&&c.parentId){const e=c.origin??i,n=t.width??c.measured.width??0,d=t.height??c.measured.height??0,u={id:c.id,parentId:c.parentId,rect:{width:n,height:d,...(0,s.us)({x:t.x??c.position.x,y:t.y??c.position.y},{width:n,height:d},c.parentId,r,e)}},h=(0,s.r8)([u],r,o,i);a.push(...h),l.x=t.x?Math.max(e[0]*n,t.x):void 0,l.y=t.y?Math.max(e[1]*d,t.y):void 0}if(void 0!==l.x&&void 0!==l.y){const t={id:T,type:"position",position:{...l}};a.push(t)}if(void 0!==t.width&&void 0!==t.height){const e={id:T,type:"dimensions",resizing:!0,setAttributes:!v||("horizontal"===v?"width":"height"),dimensions:{width:t.width,height:t.height}};a.push(e)}for(const s of e){const t={...s,type:"position"};a.push(t)}n(a)},onEnd:t=>{let{width:e,height:n}=t;const r={id:T,type:"dimensions",resizing:!1,dimensions:{width:e,height:n}};O.getState().triggerNodeChanges([r])}})),D.current.update({controlPosition:R,boundaries:{minWidth:h,minHeight:p,maxWidth:f,maxHeight:g},keepAspectRatio:y,resizeDirection:v,onResizeStart:S,onResize:C,onResizeEnd:E,shouldResize:k}),()=>{D.current?.destroy()}},[R,h,p,f,g,y,S,C,E,k]);const I=R.split("-");return(0,r.jsx)("div",{className:i(["react-flow__resize-control","nodrag",...I,a,l]),ref:_,style:{...c,scale:N,...u&&{[A?"backgroundColor":"borderColor"]:u}},children:d})})},7856:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},7857:(t,e,n)=>{var r=n(3440),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},7887:(t,e,n)=>{var r=n(5791),o=n(7574),i=n(6832),s=i&&i.isMap,a=s?o(s):r;t.exports=a},7894:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},7937:(t,e,n)=>{var r=n(6954),o=n(4657);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},7938:(t,e,n)=>{var r;try{r=n(9207)}catch(o){}r||(r=window.graphlib),t.exports=r},8114:t=>{t.exports=function(t,e){return t.has(e)}},8115:(t,e,n)=>{"use strict";n.d(e,{$L:()=>D,Ln:()=>v,N0:()=>N,Um:()=>P,Wg:()=>x,X9:()=>c,dL:()=>q,jP:()=>S,n9:()=>_,oM:()=>C,zy:()=>O});var r=n(4282);const o=Math.pow(2,16);function i(t,e){return t+e*o}function s(t){return 65535&t}class a{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class l{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges=t,this.inverted=e,!t.length&&l.empty)return l.empty}recover(t){let e=0,n=s(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/o}(t)}mapResult(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(t,e,!1)}map(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let d=this.ranges[l+o],u=this.ranges[l+s],h=c+d;if(t<=h){let o=c+r+((d?t==c?-1:t==h?1:e:e)<0?0:u);if(n)return o;let s=t==(e<0?c:h)?null:i(l/3,t-c),p=t==c?2:t==h?1:4;return(e<0?t!=c:t!=h)&&(p|=8),new a(o,p,s)}r+=u-d}return n?t+r:new a(t+r,0,null)}touches(t,e){let n=0,r=s(e),o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let e=this.ranges[s]-(this.inverted?n:0);if(e>t)break;let a=this.ranges[s+o];if(t<=e+a&&s==3*r)return!0;n+=this.ranges[s+i]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+e],c=this.ranges[r+n];t(s,s+l,a,a+c),o+=c-l}}invert(){return new l(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?l.empty:new l(t<0?[0,-t,0]:[0,0,t])}}l.empty=new l([]);class c{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t?t.length:0;this.mirror=e,this.from=n,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new c(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),null!=e&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,n=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new c;return t.appendMappingInverted(this),t}map(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,e);return t}mapResult(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let o=this.from;o<this.to;o++){let n=this._maps[o].mapResult(t,e);if(null!=n.recover){let e=this.getMirror(o);if(null!=e&&e>o&&e<this.to){o=e,t=this._maps[e].recover(n.recover);continue}}r|=n.delInfo,t=n.pos}return n?t:new a(t,r,null)}}const d=Object.create(null);class u{getMap(){return l.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=d[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in d)throw new RangeError("Duplicate use of step JSON ID "+t);return d[t]=e,e.prototype.jsonID=t,e}}class h{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new h(t,null)}static fail(t){return new h(null,t)}static fromReplace(t,e,n,o){try{return h.ok(t.replace(e,n,o))}catch(i){if(i instanceof r.vI)return h.fail(i.message);throw i}}}function p(t,e,n){let o=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(p(i.content,e,i))),i.isInline&&(i=e(i,n,r)),o.push(i)}return r.FK.fromArray(o)}class f extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new r.Ji(p(e.content,(t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,o),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,i)}invert(){return new m(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new f(e.pos,n.pos,this.mark)}merge(t){return t instanceof f&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new f(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("addMark",f);class m extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r.Ji(p(e.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new m(e.pos,n.pos,this.mark)}merge(t){return t instanceof m&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new m(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new m(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("removeMark",m);class g extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return h.fromReplace(t,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new g(this.pos,e.marks[n]);return new g(this.pos,this.mark)}}return new y(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new g(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new g(e.pos,t.markFromJSON(e.mark))}}u.jsonID("addNodeMark",g);class y extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return h.fromReplace(t,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new g(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new y(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new y(e.pos,t.markFromJSON(e.mark))}}u.jsonID("removeNodeMark",y);class v extends u{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&b(t,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new l([this.from,this.to-this.from,this.slice.size])}invert(t){return new v(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new v(e.pos,Math.max(e.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof v)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r.Ji.empty:new r.Ji(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new v(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r.Ji.empty:new r.Ji(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new v(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new v(e.from,e.to,r.Ji.fromJSON(t,e.slice),!!e.structure)}}u.jsonID("replace",v);class x extends u{constructor(t,e,n,r,o,i){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(t){if(this.structure&&(b(t,this.from,this.gapFrom)||b(t,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return h.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?h.fromReplace(t,this.from,this.to,n):h.fail("Content does not fit in gap")}getMap(){return new l([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new x(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||o>n.pos?null:new x(e.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new x(e.from,e.to,e.gapFrom,e.gapTo,r.Ji.fromJSON(t,e.slice),e.insert,!!e.structure)}}function b(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let t=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,o--}}return!1}function w(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let e=s.child(c),d=l+e.nodeSize,u=o.matchType(e.type);if(u){o=u;for(let r=0;r<e.marks.length;r++)n.allowsMarkType(e.marks[r].type)||t.step(new m(l,d,e.marks[r]));if(i&&e.isText&&"pre"!=n.whitespace){let t,o,i=/\r?\n|\r/g;for(;t=i.exec(e.text);)o||(o=new r.Ji(r.FK.from(n.schema.text(" ",n.allowedMarks(e.marks))),0,0)),a.push(new v(l+t.index,l+t.index+t[0].length,o))}}else a.push(new v(l,d,r.Ji.empty));l=d}if(!o.validEnd){let e=o.fillBefore(r.FK.empty,!0);t.replace(l,l,new r.Ji(e,0,0))}for(let r=a.length-1;r>=0;r--)t.step(a[r])}function k(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function S(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!k(r,o,i))break}return null}function C(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=function(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}(t,e),i=o&&function(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let l=r;a&&l<o;l++)a=a.matchType(n.child(l).type);return a&&a.validEnd?s:null}(r,e);return i?o.map(E).concat({type:e,attrs:n}).concat(i.map(E)):null}function E(t){return{type:t,attrs:null}}function M(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let o=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(o,o+1,e.type.schema.linebreakReplacement.create())}}})}function T(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text("\n"))}})}function O(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,d=n-2;c>i;c--,d--){let t=o.node(c),e=o.index(c);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount),i=r&&r[d+1];i&&(n=n.replaceChild(0,i.type.create(i.attrs)));let s=r&&r[d]||t;if(!t.canReplace(e+1,t.childCount)||!s.type.validContent(n))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function _(t,e){let n=t.resolve(e),r=n.index();return A(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function A(t,e){return!(!t||!e||t.isLeaf||!function(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n)return!1;if(!t.type.allowsMarks(i.marks))return!1}return n.validEnd}(t,e))}function N(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=t.resolve(e);for(let o=r.depth;;o--){let t,i,s=r.index(o);if(o==r.depth?(t=r.nodeBefore,i=r.nodeAfter):n>0?(t=r.node(o+1),s++,i=r.node(o).maybeChild(s)):(t=r.node(o).maybeChild(s-1),i=r.node(o+1)),t&&!t.isTextblock&&A(t,i)&&r.node(o).canReplace(s,s+1))return e;if(0==o)break;e=n<0?r.before(o):r.after(o)}}function P(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let t=r.depth;t>=0;t--){let e=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,n=r.index(t)+(e>0?1:0),s=r.node(t),a=!1;if(1==i)a=s.canReplace(n,n,o);else{let t=s.contentMatchAt(n).findWrapping(o.firstChild.type);a=t&&s.canReplaceWith(n,n,t[0])}if(a)return 0==e?r.pos:e<0?r.before(t+1):r.after(t+1)}return null}function D(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Ji.empty;if(e==n&&!o.size)return null;let i=t.resolve(e),s=t.resolve(n);return R(i,s,o)?new v(e,n,o):new I(i,s,o).fit()}function R(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}u.jsonID("replaceAround",x);class I{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.FK.empty;for(let r=0;r<=t.depth;r++){let e=t.node(r);this.frontier.push({type:e.type,match:e.contentMatchAt(t.indexAfter(r))})}for(let o=t.depth;o>0;o--)this.placed=r.FK.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(t<0?this.$to:n.doc.resolve(t));if(!o)return null;let i=this.placed,s=n.depth,a=o.depth;for(;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;let l=new r.Ji(i,s,a);return t>-1?new x(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new v(n.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,o=null;n?(o=B(this.unplaced.content,n-1).firstChild,t=o.content):t=this.unplaced.content;let i=t.firstChild;for(let s=this.depth;s>=0;s--){let t,{type:a,match:l}=this.frontier[s],c=null;if(1==e&&(i?l.matchType(i.type)||(c=l.fillBefore(r.FK.from(i),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:c};if(2==e&&i&&(t=l.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:t};if(o&&l.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,o=B(t,e);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r.Ji(t,e+1,Math.max(n,o.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,o=B(t,e);if(o.childCount<=1&&e>0){let i=t.size-e<=e+o.size;this.unplaced=new r.Ji(L(t,e-1,1),e-1,i?e-1:n)}else this.unplaced=new r.Ji(L(t,e,1),e,n)}placeNodes(t){let{sliceDepth:e,frontierDepth:n,parent:o,inject:i,wrap:s}=t;for(;this.depth>n;)this.closeFrontierNode();if(s)for(let r=0;r<s.length;r++)this.openFrontierNode(s[r]);let a=this.unplaced,l=o?o.content:a.content,c=a.openStart-e,d=0,u=[],{match:h,type:p}=this.frontier[n];if(i){for(let t=0;t<i.childCount;t++)u.push(i.child(t));h=h.matchFragment(i)}let f=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let t=l.child(d),e=h.matchType(t.type);if(!e)break;d++,(d>1||0==c||t.content.size)&&(h=e,u.push(z(t.mark(p.allowedMarks(t.marks)),1==d?c:0,d==l.childCount?f:-1)))}let m=d==l.childCount;m||(f=-1),this.placed=j(this.placed,n,r.FK.from(u)),this.frontier[n].match=h,m&&f<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let r=0,g=l;r<f;r++){let t=g.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),g=t.content}this.unplaced=m?0==e?r.Ji.empty:new r.Ji(L(a.content,e-1,1),e-1,f<0?a.openEnd:e-1):new r.Ji(L(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!V(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),i=V(t,e,r,n,o);if(i){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],o=V(t,n,r,e,!0);if(!o||o.childCount)continue t}return{depth:e,fit:i,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=j(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=j(this.placed,this.depth,r.FK.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(r.FK.empty,!0);t.childCount&&(this.placed=j(this.placed,this.frontier.length,t))}}function L(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(L(t.firstChild.content,e-1,n)))}function j(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(j(t.lastChild.content,e-1,n)))}function B(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function z(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,z(o.firstChild,e-1,1==o.childCount?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(r.FK.empty,!0)))),t.copy(o)}function V(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!function(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function F(t){return t.spec.defining||t.spec.definingForContent}function $(t,e,n,o,i){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy($(r.content,e+1,n,o,r)))}if(e>o){let e=i.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.FK.empty,!0))}return t}function H(t,e){let n=[];for(let r=Math.min(t.depth,e.depth);r>=0;r--){let o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}class U extends u{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at attribute step's position");let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,null,e.marks);return h.fromReplace(t,this.pos,this.pos+1,new r.Ji(r.FK.from(o),0,e.isLeaf?0:1))}getMap(){return l.empty}invert(t){return new U(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new U(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new U(e.pos,e.attr,e.value)}}u.jsonID("attr",U);class W extends u{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return h.ok(n)}getMap(){return l.empty}invert(t){return new W(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new W(e.attr,e.value)}}u.jsonID("docAttr",W);let K=class extends Error{};K=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},(K.prototype=Object.create(Error.prototype)).constructor=K,K.prototype.name="TransformError";class q{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new c}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new K(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Ji.empty,o=D(this.doc,t,e,n);return o&&this.step(o),this}replaceWith(t,e,n){return this.replace(t,e,new r.Ji(r.FK.from(n),0,0))}delete(t,e){return this.replace(t,e,r.Ji.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return function(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(R(i,s,o))return t.step(new v(e,n,o));let a=H(i,t.doc.resolve(n));0==a[a.length-1]&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let r=i.depth,p=i.pos-1;r>0;r--,p--){let t=i.node(r).type.spec;if(t.defining||t.definingAsContext||t.isolating)break;a.indexOf(r)>-1?l=r:i.before(r)==p&&a.splice(1,0,-r)}let c=a.indexOf(l),d=[],u=o.openStart;for(let r=o.content,p=0;;p++){let t=r.firstChild;if(d.push(t),p==o.openStart)break;r=t.content}for(let r=u-1;r>=0;r--){let t=d[r],e=F(t.type);if(e&&!t.sameMarkup(i.node(Math.abs(l)-1)))u=r;else if(e||!t.type.isTextblock)break}for(let p=o.openStart;p>=0;p--){let e=(p+u+1)%(o.openStart+1),l=d[e];if(l)for(let d=0;d<a.length;d++){let u=a[(d+c)%a.length],h=!0;u<0&&(h=!1,u=-u);let p=i.node(u-1),f=i.index(u-1);if(p.canReplaceWith(f,f,l.type,l.marks))return t.replace(i.before(u),h?s.after(u):n,new r.Ji($(o.content,0,o.openStart,e),e,o.openEnd))}}let h=t.steps.length;for(let r=a.length-1;r>=0&&(t.replace(e,n,o),!(t.steps.length>h));r--){let t=a[r];t<0||(e=i.before(t),n=s.after(t))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=function(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let o=r.depth-1;o>=0;o--){let t=r.index(o);if(r.node(o).canReplaceWith(t,t,n))return r.before(o+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let t=r.indexAfter(o);if(r.node(o).canReplaceWith(t,t,n))return r.after(o+1);if(t<r.node(o).childCount)return null}return null}(t.doc,e,o.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r.Ji(r.FK.from(o),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=H(r,o);for(let s=0;s<i.length;s++){let e=i[s],n=s==i.length-1;if(n&&0==e||r.node(e).type.contentMatch.validEnd)return t.delete(r.start(e),o.end(e));if(e>0&&(n||r.node(e-1).canReplace(r.index(e-1),o.indexAfter(e-1))))return t.delete(r.before(e),o.after(e))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}(this,t,e),this}lift(t,e){return function(t,e,n){let{$from:o,$to:i,depth:s}=e,a=o.before(s+1),l=i.after(s+1),c=a,d=l,u=r.FK.empty,h=0;for(let m=s,g=!1;m>n;m--)g||o.index(m)>0?(g=!0,u=r.FK.from(o.node(m).copy(u)),h++):c--;let p=r.FK.empty,f=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,p=r.FK.from(i.node(m).copy(p)),f++):d++;t.step(new x(c,d,a,l,new r.Ji(u.append(p),h,f),u.size-h,!0))}(this,t,e),this}join(t){return function(t,e,n){let o=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let t="pre"==a.whitespace,e=!!a.contentMatch.matchType(i);t&&!e?o=!1:!t&&e&&(o=!0)}let l=t.steps.length;if(!1===o){let r=t.doc.resolve(e+n);T(t,r.node(),r.before(),l)}a.inlineContent&&w(t,e+n-1,a,s.node().contentMatchAt(s.index()),null==o);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new v(d,c.map(e+n,-1),r.Ji.empty,!0)),!0===o){let e=t.doc.resolve(d);M(t,e.node(),e.before(),t.steps.length)}}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}wrap(t,e){return function(t,e,n){let o=r.FK.empty;for(let a=n.length-1;a>=0;a--){if(o.size){let t=n[a].type.contentMatch.matchFragment(o);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=r.FK.from(n[a].type.create(n[a].attrs,o))}let i=e.start,s=e.end;t.step(new x(i,s,i,s,new r.Ji(o,0,0),n.length,!0))}(this,t,e),this}setBlockType(t){return function(t,e,n,o,i){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(e,n)=>{let a="function"==typeof i?i(e):i;if(e.isTextblock&&!e.hasMarkup(o,a)&&function(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(t.doc,t.mapping.slice(s).map(n),o)){let i=null;if(o.schema.linebreakReplacement){let t="pre"==o.whitespace,e=!!o.contentMatch.matchType(o.schema.linebreakReplacement);t&&!e?i=!1:!t&&e&&(i=!0)}!1===i&&T(t,e,n,s),w(t,t.mapping.slice(s).map(n,1),o,void 0,null===i);let l=t.mapping.slice(s),c=l.map(n,1),d=l.map(n+e.nodeSize,1);return t.step(new x(c,d,c+1,d-1,new r.Ji(r.FK.from(o.create(a,null,e.marks)),0,0),1,!0)),!0===i&&M(t,e,n,s),!1}})}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}setNodeMarkup(t,e){return function(t,e,n,o,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(o,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new x(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new r.Ji(r.FK.from(a),0,0),1,!0))}(this,t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}setNodeAttribute(t,e,n){return this.step(new U(t,e,n)),this}setDocAttribute(t,e){return this.step(new W(t,e)),this}addNodeMark(t,e){return this.step(new g(t,e)),this}removeNodeMark(t,e){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e instanceof r.CU)e.isInSet(n.marks)&&this.step(new y(t,e));else{let r,o=n.marks,i=[];for(;r=e.isInSet(o);)i.push(new y(t,r)),o=r.removeFromSet(o);for(let t=i.length-1;t>=0;t--)this.step(i[t])}return this}split(t){return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,i=t.doc.resolve(e),s=r.FK.empty,a=r.FK.empty;for(let l=i.depth,c=i.depth-n,d=n-1;l>c;l--,d--){s=r.FK.from(i.node(l).copy(s));let t=o&&o[d];a=r.FK.from(t?t.type.create(t.attrs,a):i.node(l).copy(a))}t.step(new v(e,e,new r.Ji(s.append(a),n,n),!0))}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}addMark(t,e,n){return function(t,e,n,r){let o,i,s=[],a=[];t.doc.nodesBetween(e,n,(t,l,c)=>{if(!t.isInline)return;let d=t.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,e),u=Math.min(l+t.nodeSize,n),h=r.addToSet(d);for(let t=0;t<d.length;t++)d[t].isInSet(h)||(o&&o.to==c&&o.mark.eq(d[t])?o.to=u:s.push(o=new m(c,u,d[t])));i&&i.to==c?i.to=u:a.push(i=new f(c,u,r))}}),s.forEach(e=>t.step(e)),a.forEach(e=>t.step(e))}(this,t,e,n),this}removeMark(t,e,n){return function(t,e,n,o){let i=[],s=0;t.doc.nodesBetween(e,n,(t,a)=>{if(!t.isInline)return;s++;let l=null;if(o instanceof r.sX){let e,n=t.marks;for(;e=o.isInSet(n);)(l||(l=[])).push(e),n=e.removeFromSet(n)}else o?o.isInSet(t.marks)&&(l=[o]):l=t.marks;if(l&&l.length){let r=Math.min(a+t.nodeSize,n);for(let t=0;t<l.length;t++){let n,o=l[t];for(let t=0;t<i.length;t++){let e=i[t];e.step==s-1&&o.eq(i[t].style)&&(n=e)}n?(n.to=r,n.step=s):i.push({style:o,from:Math.max(a,e),to:r,step:s})}}}),i.forEach(e=>t.step(new m(e.from,e.to,e.style)))}(this,t,e,n),this}clearIncompatible(t,e,n){return w(this,t,e,n),this}}},8122:(t,e,n)=>{var r=n(6686),o=n(6140),i=n(3516),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},8124:(t,e,n)=>{var r=n(6614),o=n(9621);t.exports=function(t,e){return r(t,o(t),e)}},8129:(t,e,n)=>{var r=n(8420),o=n(9377);t.exports=function(t,e){return o(t||[],e||[],r)}},8182:(t,e,n)=>{var r=n(2070),o=n(5713),i=n(2074),s=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=s},8208:(t,e,n)=>{var r;try{r={cloneDeep:n(6434),constant:n(2541),defaults:n(1163),each:n(2580),filter:n(723),find:n(8990),flatten:n(819),forEach:n(5491),forIn:n(7717),has:n(2117),isUndefined:n(141),last:n(4065),map:n(3411),mapValues:n(1733),max:n(539),merge:n(4677),min:n(6745),minBy:n(9364),now:n(4757),pick:n(2616),range:n(6604),reduce:n(2759),sortBy:n(7424),uniqueId:n(111),values:n(6727),zipObject:n(8129)}}catch(o){}r||(r=window._),t.exports=r},8259:(t,e,n)=>{var r=n(5797);t.exports=function(t){var e=r(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}},8268:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},8270:(t,e,n)=>{"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,{os:()=>Hr});var i,s,a,l,c,d,u,h,p,f,m,g={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},y={duration:.5,overwrite:!1,delay:0},v=1e8,x=1e-8,b=2*Math.PI,w=b/4,k=0,S=Math.sqrt,C=Math.cos,E=Math.sin,M=function(t){return"string"===typeof t},T=function(t){return"function"===typeof t},O=function(t){return"number"===typeof t},_=function(t){return"undefined"===typeof t},A=function(t){return"object"===typeof t},N=function(t){return!1!==t},P=function(){return"undefined"!==typeof window},D=function(t){return T(t)||M(t)},R="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},I=Array.isArray,L=/(?:-?\.?\d|\.)+/gi,j=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,B=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,z=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,V=/[+-]=-?[.\d]+/,F=/[^,'"\[\]\s]+/gi,$=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,H={},U={},W=function(t){return(U=wt(t,H))&&Sn},K=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},q=function(t,e){return!e&&console.warn(t)},X=function(t,e){return t&&(H[t]=e)&&U&&(U[t]=e)||H},J=function(){return 0},Y={suppressEvents:!0,isStart:!0,kill:!1},Z={suppressEvents:!0,kill:!1},G={suppressEvents:!0},Q={},tt=[],et={},nt={},rt={},ot=30,it=[],st="",at=function(t){var e,n,r=t[0];if(A(r)||T(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=it.length;n--&&!it[n].targetTest(r););e=it[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Le(t[n],e)))||t.splice(n,1);return t},lt=function(t){return t._gsap||at(Qt(t))[0]._gsap},ct=function(t,e,n){return(n=t[e])&&T(n)?t[e]():_(n)&&t.getAttribute&&t.getAttribute(e)||n},dt=function(t,e){return(t=t.split(",")).forEach(e)||t},ut=function(t){return Math.round(1e5*t)/1e5||0},ht=function(t){return Math.round(1e7*t)/1e7||0},pt=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},ft=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},mt=function(){var t,e,n=tt.length,r=tt.slice(0);for(et={},tt.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},gt=function(t){return!!(t._initted||t._startAt||t.add)},yt=function(t,e,n,r){tt.length&&!s&&mt(),t.render(e,n,r||!!(s&&e<0&&gt(t))),tt.length&&!s&&mt()},vt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(F).length<2?e:M(t)?t.trim():t},xt=function(t){return t},bt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},wt=function(t,e){for(var n in e)t[n]=e[n];return t},kt=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=A(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},St=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},Ct=function(t){var e,n=t.parent||l,r=t.keyframes?(e=I(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):bt;if(N(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},Et=function(t,e,n,r,o){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i,s=t[r];if(o)for(i=e[o];s&&s[o]>i;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t,e},Mt=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o=e._prev,i=e._next;o?o._next=i:t[n]===e&&(t[n]=i),i?i._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},Tt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ot=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},_t=function(t,e,n,r){return t._startAt&&(s?t._startAt.revert(Z):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},At=function t(e){return!e||e._ts&&t(e.parent)},Nt=function(t){return t._repeat?Pt(t._tTime,t=t.duration()+t._rDelay)*t:0},Pt=function(t,e){var n=Math.floor(t=ht(t/e));return t&&n===t?n-1:n},Dt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Rt=function(t){return t._end=ht(t._start+(t._tDur/Math.abs(t._ts||t._rts||x)||0))},It=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=ht(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Rt(t),n._dirty||Ot(n,t)),t},Lt=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Dt(t.rawTime(),e),(!e._dur||Xt(0,e.totalDuration(),n)-e._tTime>x)&&e.render(n,!0)),Ot(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},jt=function(t,e,n,r){return e.parent&&Tt(e),e._start=ht((O(n)?n:n||t!==l?Wt(t,n,e):t._time)+e._delay),e._end=ht(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Et(t,e,"_first","_last",t._sort?"_start":0),Ft(e)||(t._recent=e),r||Lt(t,e),t._ts<0&&It(t,t._tTime),t},Bt=function(t,e){return(H.ScrollTrigger||K("scrollTrigger",e))&&H.ScrollTrigger.create(e,t)},zt=function(t,e,n,r,o){return Ue(t,e,o),t._initted?!n&&t._pt&&!s&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&p!==Se.frame?(tt.push(t),t._lazy=[o,r],1):void 0:1},Vt=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Ft=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},$t=function(t,e,n,r){var o=t._repeat,i=ht(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=i/t._dur),t._dur=i,t._tDur=o?o<0?1e10:ht(i*(o+1)+t._rDelay*o):i,s>0&&!r&&It(t,t._tTime=t._tDur*s),t.parent&&Rt(t),n||Ot(t.parent,t),t},Ht=function(t){return t instanceof Be?Ot(t):$t(t,t._dur)},Ut={_start:0,endTime:J,totalDuration:J},Wt=function t(e,n,r){var o,i,s,a=e.labels,l=e._recent||Ut,c=e.duration()>=v?l.endTime(!1):e._dur;return M(n)&&(isNaN(n)||n in a)?(i=n.charAt(0),s="%"===n.substr(-1),o=n.indexOf("="),"<"===i||">"===i?(o>=0&&(n=n.replace(/=/,"")),("<"===i?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(o<0?l:r).totalDuration()/100:1)):o<0?(n in a||(a[n]=c),a[n]):(i=parseFloat(n.charAt(o-1)+n.substr(o+1)),s&&r&&(i=i/100*(I(r)?r[0]:r).totalDuration()),o>1?t(e,n.substr(0,o-1),r)+i:c+i)):null==n?c:+n},Kt=function(t,e,n){var r,o,i=O(e[1]),s=(i?2:1)+(t<2?0:1),a=e[s];if(i&&(a.duration=e[1]),a.parent=n,t){for(r=a,o=n;o&&!("immediateRender"in r);)r=o.vars.defaults||{},o=N(o.vars.inherit)&&o.parent;a.immediateRender=N(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new Je(e[0],a,e[s+1])},qt=function(t,e){return t||0===t?e(t):e},Xt=function(t,e,n){return n<t?t:n>e?e:n},Jt=function(t,e){return M(t)&&(e=$.exec(t))?e[1]:""},Yt=[].slice,Zt=function(t,e){return t&&A(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&A(t[0]))&&!t.nodeType&&t!==c},Gt=function(t,e,n){return void 0===n&&(n=[]),t.forEach(function(t){var r;return M(t)&&!e||Zt(t,1)?(r=n).push.apply(r,Qt(t)):n.push(t)})||n},Qt=function(t,e,n){return a&&!e&&a.selector?a.selector(t):!M(t)||n||!d&&Ce()?I(t)?Gt(t,n):Zt(t)?Yt.call(t,0):t?[t]:[]:Yt.call((e||u).querySelectorAll(t),0)},te=function(t){return t=Qt(t)[0]||q("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Qt(e,n.querySelectorAll?n:n===t?q("Invalid scope")||u.createElement("div"):t)}},ee=function(t){return t.sort(function(){return.5-Math.random()})},ne=function(t){if(T(t))return t;var e=A(t)?t:{each:t},n=Ne(e.ease),r=e.from||0,o=parseFloat(e.base)||0,i={},s=r>0&&r<1,a=isNaN(r)||s,l=e.axis,c=r,d=r;return M(r)?c=d={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(c=r[0],d=r[1]),function(t,s,u){var h,p,f,m,g,y,x,b,w,k=(u||e).length,C=i[k];if(!C){if(!(w="auto"===e.grid?0:(e.grid||[1,v])[1])){for(x=-v;x<(x=u[w++].getBoundingClientRect().left)&&w<k;);w<k&&w--}for(C=i[k]=[],h=a?Math.min(w,k)*c-.5:r%w,p=w===v?0:a?k*d/w-.5:r/w|0,x=0,b=v,y=0;y<k;y++)f=y%w-h,m=p-(y/w|0),C[y]=g=l?Math.abs("y"===l?m:f):S(f*f+m*m),g>x&&(x=g),g<b&&(b=g);"random"===r&&ee(C),C.max=x-b,C.min=b,C.v=k=(parseFloat(e.amount)||parseFloat(e.each)*(w>k?k-1:l?"y"===l?k/w:w:Math.max(w,k/w))||0)*("edges"===r?-1:1),C.b=k<0?o-k:o,C.u=Jt(e.amount||e.each)||0,n=n&&k<0?_e(n):n}return k=(C[t]-C.min)/C.max||0,ht(C.b+(n?n(k):k)*C.v)+C.u}},re=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=ht(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(O(n)?0:Jt(n))}},oe=function(t,e){var n,r,o=I(t);return!o&&A(t)&&(n=o=t.radius||v,t.values?(t=Qt(t.values),(r=!O(t[0]))&&(n*=n)):t=re(t.increment)),qt(e,o?T(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var o,i,s=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),l=v,c=0,d=t.length;d--;)(o=r?(o=t[d].x-s)*o+(i=t[d].y-a)*i:Math.abs(t[d]-s))<l&&(l=o,c=d);return c=!n||l<=n?t[c]:e,r||c===e||O(e)?c:c+Jt(e)}:re(t))},ie=function(t,e,n,r){return qt(I(t)?!e:!0===n?!!(n=0):!r,function(){return I(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r})},se=function(t,e,n){return qt(n,function(n){return t[~~e(n)]})},ae=function(t){for(var e,n,r,o,i=0,s="";~(e=t.indexOf("random(",i));)r=t.indexOf(")",e),o="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(o?F:L),s+=t.substr(i,e-i)+ie(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),i=r+1;return s+t.substr(i,t.length-i)},le=function(t,e,n,r,o){var i=e-t,s=r-n;return qt(o,function(e){return n+((e-t)/i*s||0)})},ce=function(t,e,n){var r,o,i,s=t.labels,a=v;for(r in s)(o=s[r]-e)<0===!!n&&o&&a>(o=Math.abs(o))&&(i=r,a=o);return i},de=function(t,e,n){var r,o,i,s=t.vars,l=s[e],c=a,d=t._ctx;if(l)return r=s[e+"Params"],o=s.callbackScope||t,n&&tt.length&&mt(),d&&(a=d),i=r?l.apply(o,r):l.call(o),a=c,i},ue=function(t){return Tt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!s),t.progress()<1&&de(t,"onInterrupt"),t},he=[],pe=function(t){if(t)if(t=!t.name&&t.default||t,P()||t.headless){var e=t.name,n=T(t),r=e&&!n&&t.init?function(){this._props=[]}:t,o={init:J,render:on,add:$e,kill:an,modifier:sn,rawVars:0},i={targetTest:0,get:0,getSetter:tn,aliases:{},register:0};if(Ce(),t!==r){if(nt[e])return;bt(r,bt(St(t,o),i)),wt(r.prototype,wt(o,St(t,i))),nt[r.prop=e]=r,t.targetTest&&(it.push(r),Q[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}X(e,r),t.register&&t.register(Sn,r,dn)}else he.push(t)},fe=255,me={aqua:[0,fe,fe],lime:[0,fe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,fe],navy:[0,0,128],white:[fe,fe,fe],olive:[128,128,0],yellow:[fe,fe,0],orange:[fe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[fe,0,0],pink:[fe,192,203],cyan:[0,fe,fe],transparent:[fe,fe,fe,0]},ge=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*fe+.5|0},ye=function(t,e,n){var r,o,i,s,a,l,c,d,u,h,p=t?O(t)?[t>>16,t>>8&fe,t&fe]:0:me.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),me[t])p=me[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),i=t.charAt(3),t="#"+r+r+o+o+i+i+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&fe,p&fe,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&fe,t&fe]}else if("hsl"===t.substr(0,3))if(p=h=t.match(L),e){if(~t.indexOf("="))return p=t.match(j),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,r=2*(l=+p[2]/100)-(o=l<=.5?l*(a+1):l+a-l*a),p.length>3&&(p[3]*=1),p[0]=ge(s+1/3,r,o),p[1]=ge(s,r,o),p[2]=ge(s-1/3,r,o);else p=t.match(L)||me.transparent;p=p.map(Number)}return e&&!h&&(r=p[0]/fe,o=p[1]/fe,i=p[2]/fe,l=((c=Math.max(r,o,i))+(d=Math.min(r,o,i)))/2,c===d?s=a=0:(u=c-d,a=l>.5?u/(2-c-d):u/(c+d),s=c===r?(o-i)/u+(o<i?6:0):c===o?(i-r)/u+2:(r-o)/u+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p},ve=function(t){var e=[],n=[],r=-1;return t.split(be).forEach(function(t){var o=t.match(B)||[];e.push.apply(e,o),n.push(r+=o.length+1)}),e.c=n,e},xe=function(t,e,n){var r,o,i,s,a="",l=(t+a).match(be),c=e?"hsla(":"rgba(",d=0;if(!l)return t;if(l=l.map(function(t){return(t=ye(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),n&&(i=ve(t),(r=n.c).join(a)!==i.c.join(a)))for(s=(o=t.replace(be,"1").split(B)).length-1;d<s;d++)a+=o[d]+(~r.indexOf(d)?l.shift()||c+"0,0,0,0)":(i.length?i:l.length?l:n).shift());if(!o)for(s=(o=t.split(be)).length-1;d<s;d++)a+=o[d]+l[d];return a+o[s]},be=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in me)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),we=/hsl[a]?\(/,ke=function(t){var e,n=t.join(" ");if(be.lastIndex=0,be.test(n))return e=we.test(n),t[1]=xe(t[1],e),t[0]=xe(t[0],e,ve(t[1])),!0},Se=function(){var t,e,n,r,o,i,s=Date.now,a=500,l=33,p=s(),f=p,g=1e3/240,y=g,v=[],x=function n(c){var d,u,h,m,x=s()-f,b=!0===c;if((x>a||x<0)&&(p+=x-l),((d=(h=(f+=x)-p)-y)>0||b)&&(m=++r.frame,o=h-1e3*r.time,r.time=h/=1e3,y+=d+(d>=g?4:g-d),u=1),b||(t=e(n)),u)for(i=0;i<v.length;i++)v[i](h,o,m,c)};return r={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(t){return o/(1e3/(t||60))},wake:function(){h&&(!d&&P()&&(c=d=window,u=c.document||{},H.gsap=Sn,(c.gsapVersions||(c.gsapVersions=[])).push(Sn.version),W(U||c.GreenSockGlobals||!c.gsap&&c||{}),he.forEach(pe)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,y-1e3*r.time+1|0)},m=1,x(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),m=0,e=J},lagSmoothing:function(t,e){a=t||1/0,l=Math.min(e||33,a)},fps:function(t){g=1e3/(t||240),y=1e3*r.time+g},add:function(t,e,n){var o=e?function(e,n,i,s){t(e,n,i,s),r.remove(o)}:t;return r.remove(t),v[n?"unshift":"push"](o),Ce(),o},remove:function(t,e){~(e=v.indexOf(t))&&v.splice(e,1)&&i>=e&&i--},_listeners:v}}(),Ce=function(){return!m&&Se.wake()},Ee={},Me=/^[\d.\-M][\d.\-,\s]/,Te=/["']/g,Oe=function(t){for(var e,n,r,o={},i=t.substr(1,t.length-3).split(":"),s=i[0],a=1,l=i.length;a<l;a++)n=i[a],e=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),o[s]=isNaN(r)?r.replace(Te,"").trim():+r,s=n.substr(e+1).trim();return o},_e=function(t){return function(e){return 1-t(1-e)}},Ae=function t(e,n){for(var r,o=e._first;o;)o instanceof Be?t(o,n):!o.vars.yoyoEase||o._yoyo&&o._repeat||o._yoyo===n||(o.timeline?t(o.timeline,n):(r=o._ease,o._ease=o._yEase,o._yEase=r,o._yoyo=n)),o=o._next},Ne=function(t,e){return t&&(T(t)?t:Ee[t]||function(t){var e=(t+"").split("("),n=Ee[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Oe(e[1])]:function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<n?t.indexOf(")",n+1):n)}(t).split(",").map(vt)):Ee._CE&&Me.test(t)?Ee._CE("",t):n}(t))||e},Pe=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var o,i={easeIn:e,easeOut:n,easeInOut:r};return dt(t,function(t){for(var e in Ee[t]=H[t]=i,Ee[o=t.toLowerCase()]=n,i)Ee[o+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ee[t+"."+e]=i[e]}),i},De=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Re=function t(e,n,r){var o=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),s=i/b*(Math.asin(1/o)||0),a=function(t){return 1===t?1:o*Math.pow(2,-10*t)*E((t-s)*i)+1},l="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:De(a);return i=b/i,l.config=function(n,r){return t(e,n,r)},l},Ie=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},o="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:De(r);return o.config=function(n){return t(e,n)},o};dt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Pe(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},function(t){return 1-Math.pow(1-t,n)},function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2})}),Ee.Linear.easeNone=Ee.none=Ee.Linear.easeIn,Pe("Elastic",Re("in"),Re("out"),Re()),function(t,e){var n=1/e,r=2*n,o=2.5*n,i=function(i){return i<n?t*i*i:i<r?t*Math.pow(i-1.5/e,2)+.75:i<o?t*(i-=2.25/e)*i+.9375:t*Math.pow(i-2.625/e,2)+.984375};Pe("Bounce",function(t){return 1-i(1-t)},i)}(7.5625,2.75),Pe("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),Pe("Circ",function(t){return-(S(1-t*t)-1)}),Pe("Sine",function(t){return 1===t?1:1-C(t*w)}),Pe("Back",Ie("in"),Ie("out"),Ie()),Ee.SteppedEase=Ee.steps=H.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),o=e?1:0;return function(t){return((r*Xt(0,.99999999,t)|0)+o)*n}}},y.ease=Ee["quad.out"],dt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return st+=t+","+t+"Params,"});var Le=function(t,e){this.id=k++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ct,this.set=e?e.getSetter:tn},je=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,$t(this,+t.duration,1,1),this.data=t.data,a&&(this._ctx=a,a.data.push(this)),m||Se.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,$t(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ce(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(It(this,t),!n._dp||n.parent||Lt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&jt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===x||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),yt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Nt(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Nt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Pt(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Dt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Xt(-Math.abs(this._delay),this.totalDuration(),n),!1!==e),Rt(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ce(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==x&&(this._tTime-=x)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&jt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(N(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=G);var e=s;return s=t,gt(this)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),s=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ht(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Ht(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Wt(this,t),N(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,N(e)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-x))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise(function(n){var r=T(t)?t:xt,o=function(){var t=e.then;e.then=null,T(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?o():e._prom=o})},e.kill=function(){ue(this)},t}();bt(je.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Be=function(t){function e(e,n){var o;return void 0===e&&(e={}),(o=t.call(this,e)||this).labels={},o.smoothChildTiming=!!e.smoothChildTiming,o.autoRemoveChildren=!!e.autoRemoveChildren,o._sort=N(e.sortChildren),l&&jt(e.parent||l,r(o),n),e.reversed&&o.reverse(),e.paused&&o.paused(!0),e.scrollTrigger&&Bt(r(o),e.scrollTrigger),o}o(e,t);var n=e.prototype;return n.to=function(t,e,n){return Kt(0,arguments,this),this},n.from=function(t,e,n){return Kt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Kt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Ct(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Je(t,e,Wt(this,n),1),this},n.call=function(t,e,n){return jt(this,Je.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,o,i,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=i,n.onCompleteParams=s,n.parent=this,new Je(t,n,Wt(this,o)),this},n.staggerFrom=function(t,e,n,r,o,i,s){return n.runBackwards=1,Ct(n).immediateRender=N(n.immediateRender),this.staggerTo(t,e,n,r,o,i,s)},n.staggerFromTo=function(t,e,n,r,o,i,s,a){return r.startAt=n,Ct(r).immediateRender=N(r.immediateRender),this.staggerTo(t,e,r,o,i,s,a)},n.render=function(t,e,n){var r,o,i,a,c,d,u,h,p,f,m,g,y=this._time,v=this._dirty?this.totalDuration():this._tDur,b=this._dur,w=t<=0?0:ht(t),k=this._zTime<0!==t<0&&(this._initted||!b);if(this!==l&&w>v&&t>=0&&(w=v),w!==this._tTime||n||k){if(y!==this._time&&b&&(w+=this._time-y,t+=this._time-y),r=w,p=this._start,d=!(h=this._ts),k&&(b||(y=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(m=this._yoyo,c=b+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*c+t,e,n);if(r=ht(w%c),w===v?(a=this._repeat,r=b):((a=~~(f=ht(w/c)))&&a===f&&(r=b,a--),r>b&&(r=b)),f=Pt(this._tTime,c),!y&&this._tTime&&f!==a&&this._tTime-f*c-this._dur<=0&&(f=a),m&&1&a&&(r=b-r,g=1),a!==f&&!this._lock){var S=m&&1&f,C=S===(m&&1&a);if(a<f&&(S=!S),y=S?0:w%b?b:w,this._lock=1,this.render(y||(g?0:ht(a*c)),e,!b)._lock=0,this._tTime=w,!e&&this.parent&&de(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),y&&y!==this._time||d!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,v=this._tDur,C&&(this._lock=2,y=S?b:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!d)return this;Ae(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,ht(y),ht(r)),u&&(w-=r-(r=u._start))),this._tTime=w,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,y=0),!y&&w&&!e&&!f&&(de(this,"onStart"),this._tTime!==w))return this;if(r>=y&&t>=0)for(o=this._first;o;){if(i=o._next,(o._act||r>=o._start)&&o._ts&&u!==o){if(o.parent!==this)return this.render(t,e,n);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,e,n),r!==this._time||!this._ts&&!d){u=0,i&&(w+=this._zTime=-1e-8);break}}o=i}else{o=this._last;for(var E=t<0?t:r;o;){if(i=o._prev,(o._act||E<=o._end)&&o._ts&&u!==o){if(o.parent!==this)return this.render(t,e,n);if(o.render(o._ts>0?(E-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(E-o._start)*o._ts,e,n||s&&gt(o)),r!==this._time||!this._ts&&!d){u=0,i&&(w+=this._zTime=E?-1e-8:x);break}}o=i}}if(u&&!e&&(this.pause(),u.render(r>=y?0:-1e-8)._zTime=r>=y?1:-1,this._ts))return this._start=p,Rt(this),this.render(t,e,n);this._onUpdate&&!e&&de(this,"onUpdate",!0),(w===v&&this._tTime>=this.totalDuration()||!w&&y)&&(p!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!b)&&(w===v&&this._ts>0||!w&&this._ts<0)&&Tt(this,1),e||t<0&&!y||!w&&!y&&v||(de(this,w===v&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(w<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(O(e)||(e=Wt(this,e,t)),!(t instanceof je)){if(I(t))return t.forEach(function(t){return n.add(t,e)}),this;if(M(t))return this.addLabel(t,e);if(!T(t))return this;t=Je.delayedCall(0,t)}return this!==t?jt(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-v);for(var o=[],i=this._first;i;)i._start>=r&&(i instanceof Je?e&&o.push(i):(n&&o.push(i),t&&o.push.apply(o,i.getChildren(!0,e,n)))),i=i._next;return o},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return M(t)?this.removeLabel(t):T(t)?this.killTweensOf(t):(t.parent===this&&Mt(this,t),t===this._recent&&(this._recent=this._last),Ot(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ht(Se.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Wt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Je.delayedCall(0,e||J,n);return r.data="isPause",this._hasPause=1,jt(this,r,Wt(this,t))},n.removePause=function(t){var e=this._first;for(t=Wt(this,t);e;)e._start===t&&"isPause"===e.data&&Tt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),o=r.length;o--;)ze!==r[o]&&r[o].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],o=Qt(t),i=this._first,s=O(e);i;)i instanceof Je?ft(i._targets,o)&&(s?(!ze||i._initted&&i._ts)&&i.globalTime(0)<=e&&i.globalTime(i.totalDuration())>e:!e||i.isActive())&&r.push(i):(n=i.getTweensOf(o,e)).length&&r.push.apply(r,n),i=i._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,o=Wt(r,t),i=e,s=i.startAt,a=i.onStart,l=i.onStartParams,c=i.immediateRender,d=Je.to(r,bt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:e.duration||Math.abs((o-(s&&"time"in s?s.time:r._time))/r.timeScale())||x,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((o-(s&&"time"in s?s.time:r._time))/r.timeScale());d._dur!==t&&$t(d,t,0,1).render(d._time,!0,!0),n=1}a&&a.apply(d,l||[])}},e));return c?d.render(0):d},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,bt({startAt:{time:Wt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ce(this,Wt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ce(this,Wt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+x)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,o=this._first,i=this.labels;o;)o._start>=n&&(o._start+=t,o._end+=t),o=o._next;if(e)for(r in i)i[r]>=n&&(i[r]+=t);return Ot(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ot(this)},n.totalDuration=function(t){var e,n,r,o=0,i=this,s=i._last,a=v;if(arguments.length)return i.timeScale((i._repeat<0?i.duration():i.totalDuration())/(i.reversed()?-t:t));if(i._dirty){for(r=i.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&i._sort&&s._ts&&!i._lock?(i._lock=1,jt(i,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(o-=n,(!r&&!i._dp||r&&r.smoothChildTiming)&&(i._start+=n/i._ts,i._time-=n,i._tTime-=n),i.shiftChildren(-n,!1,-Infinity),a=0),s._end>o&&s._ts&&(o=s._end),s=e;$t(i,i===l&&i._time>o?i._time:o,1,1),i._dirty=0}return i._tDur},e.updateRoot=function(t){if(l._ts&&(yt(l,Dt(t,l)),p=Se.frame),Se.frame>=ot){ot+=g.autoSleep||120;var e=l._first;if((!e||!e._ts)&&g.autoSleep&&Se._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Se.sleep()}}},e}(je);bt(Be.prototype,{_lock:0,_hasPause:0,_forcing:0});var ze,Ve,Fe=function(t,e,n,r,o,i,s){var a,l,c,d,u,h,p,f,m=new dn(this._pt,t,e,0,1,rn,null,o),g=0,y=0;for(m.b=n,m.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=ae(r)),i&&(i(f=[n,r],t,e),n=f[0],r=f[1]),l=n.match(z)||[];a=z.exec(r);)d=a[0],u=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===u.substr(-5)&&(c=1),d!==l[y++]&&(h=parseFloat(l[y-1])||0,m._pt={_next:m._pt,p:u||1===y?u:",",s:h,c:"="===d.charAt(1)?pt(h,d)-h:parseFloat(d)-h,m:c&&c<4?Math.round:0},g=z.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(V.test(r)||p)&&(m.e=0),this._pt=m,m},$e=function(t,e,n,r,o,i,s,a,l,c){T(r)&&(r=r(o||0,t,i));var d,u=t[e],h="get"!==n?n:T(u)?l?t[e.indexOf("set")||!T(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():u,p=T(u)?l?Ge:Ze:Ye;if(M(r)&&(~r.indexOf("random(")&&(r=ae(r)),"="===r.charAt(1)&&((d=pt(h,r)+(Jt(h)||0))||0===d)&&(r=d)),!c||h!==r||Ve)return isNaN(h*r)||""===r?(!u&&!(e in t)&&K(e,r),Fe.call(this,t,e,h,r,p,a||g.stringFilter,l)):(d=new dn(this._pt,t,e,+h||0,r-(h||0),"boolean"===typeof u?nn:en,0,p),l&&(d.fp=l),s&&d.modifier(s,this,t),this._pt=d)},He=function(t,e,n,r,o,i){var s,a,l,c;if(nt[t]&&!1!==(s=new nt[t]).init(o,s.rawVars?e[t]:function(t,e,n,r,o){if(T(t)&&(t=Ke(t,o,e,n,r)),!A(t)||t.style&&t.nodeType||I(t)||R(t))return M(t)?Ke(t,o,e,n,r):t;var i,s={};for(i in t)s[i]=Ke(t[i],o,e,n,r);return s}(e[t],r,o,i,n),n,r,i)&&(n._pt=a=new dn(n._pt,o,t,0,1,s.render,s,0,s.priority),n!==f))for(l=n._ptLookup[n._targets.indexOf(o)],c=s._props.length;c--;)l[s._props[c]]=a;return s},Ue=function t(e,n,r){var o,a,c,d,u,h,p,f,m,g,b,w,k,S=e.vars,C=S.ease,E=S.startAt,M=S.immediateRender,T=S.lazy,O=S.onUpdate,_=S.runBackwards,A=S.yoyoEase,P=S.keyframes,D=S.autoRevert,R=e._dur,I=e._startAt,L=e._targets,j=e.parent,B=j&&"nested"===j.data?j.vars.targets:L,z="auto"===e._overwrite&&!i,V=e.timeline;if(V&&(!P||!C)&&(C="none"),e._ease=Ne(C,y.ease),e._yEase=A?_e(Ne(!0===A?C:A,y.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),e._from=!V&&!!S.runBackwards,!V||P&&!S.stagger){if(w=(f=L[0]?lt(L[0]).harness:0)&&S[f.prop],o=St(S,Q),I&&(I._zTime<0&&I.progress(1),n<0&&_&&M&&!D?I.render(-1,!0):I.revert(_&&R?Z:Y),I._lazy=0),E){if(Tt(e._startAt=Je.set(L,bt({data:"isStart",overwrite:!1,parent:j,immediateRender:!0,lazy:!I&&N(T),startAt:null,delay:0,onUpdate:O&&function(){return de(e,"onUpdate")},stagger:0},E))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(s||!M&&!D)&&e._startAt.revert(Z),M&&R&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(_&&R&&!I)if(n&&(M=!1),c=bt({overwrite:!1,data:"isFromStart",lazy:M&&!I&&N(T),immediateRender:M,stagger:0,parent:j},o),w&&(c[f.prop]=w),Tt(e._startAt=Je.set(L,c)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(s?e._startAt.revert(Z):e._startAt.render(-1,!0)),e._zTime=n,M){if(!n)return}else t(e._startAt,x,x);for(e._pt=e._ptCache=0,T=R&&N(T)||T&&!R,a=0;a<L.length;a++){if(p=(u=L[a])._gsap||at(L)[a]._gsap,e._ptLookup[a]=g={},et[p.id]&&tt.length&&mt(),b=B===L?a:B.indexOf(u),f&&!1!==(m=new f).init(u,w||o,e,b,B)&&(e._pt=d=new dn(e._pt,u,m.name,0,1,m.render,m,0,m.priority),m._props.forEach(function(t){g[t]=d}),m.priority&&(h=1)),!f||w)for(c in o)nt[c]&&(m=He(c,o,e,b,u,B))?m.priority&&(h=1):g[c]=d=$e.call(e,u,c,"get",o[c],b,B,0,S.stringFilter);e._op&&e._op[a]&&e.kill(u,e._op[a]),z&&e._pt&&(ze=e,l.killTweensOf(u,g,e.globalTime(n)),k=!e.parent,ze=0),e._pt&&T&&(et[p.id]=1)}h&&cn(e),e._onInit&&e._onInit(e)}e._onUpdate=O,e._initted=(!e._op||e._pt)&&!k,P&&n<=0&&V.render(v,!0,!0)},We=function(t,e,n,r){var o,i,s=e.ease||r||"power1.inOut";if(I(e))i=n[t]||(n[t]=[]),e.forEach(function(t,n){return i.push({t:n/(e.length-1)*100,v:t,e:s})});else for(o in e)i=n[o]||(n[o]=[]),"ease"===o||i.push({t:parseFloat(t),v:e[o],e:s})},Ke=function(t,e,n,r,o){return T(t)?t.call(e,n,r,o):M(t)&&~t.indexOf("random(")?ae(t):t},qe=st+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Xe={};dt(qe+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Xe[t]=1});var Je=function(t){function e(e,n,o,s){var a;"number"===typeof n&&(o.duration=n,n=o,o=null);var c,d,u,h,p,f,m,y,v=(a=t.call(this,s?n:Ct(n))||this).vars,x=v.duration,b=v.delay,w=v.immediateRender,k=v.stagger,S=v.overwrite,C=v.keyframes,E=v.defaults,M=v.scrollTrigger,T=v.yoyoEase,_=n.parent||l,P=(I(e)||R(e)?O(e[0]):"length"in n)?[e]:Qt(e);if(a._targets=P.length?at(P):q("GSAP target "+e+" not found. https://gsap.com",!g.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=S,C||k||D(x)||D(b)){if(n=a.vars,(c=a.timeline=new Be({data:"nested",defaults:E||{},targets:_&&"nested"===_.data?_.vars.targets:P})).kill(),c.parent=c._dp=r(a),c._start=0,k||D(x)||D(b)){if(h=P.length,m=k&&ne(k),A(k))for(p in k)~qe.indexOf(p)&&(y||(y={}),y[p]=k[p]);for(d=0;d<h;d++)(u=St(n,Xe)).stagger=0,T&&(u.yoyoEase=T),y&&wt(u,y),f=P[d],u.duration=+Ke(x,r(a),d,f,P),u.delay=(+Ke(b,r(a),d,f,P)||0)-a._delay,!k&&1===h&&u.delay&&(a._delay=b=u.delay,a._start+=b,u.delay=0),c.to(f,u,m?m(d,f,P):0),c._ease=Ee.none;c.duration()?x=b=0:a.timeline=0}else if(C){Ct(bt(c.vars.defaults,{ease:"none"})),c._ease=Ne(C.ease||n.ease||"none");var L,j,B,z=0;if(I(C))C.forEach(function(t){return c.to(P,t,">")}),c.duration();else{for(p in u={},C)"ease"===p||"easeEach"===p||We(p,C[p],u,C.easeEach);for(p in u)for(L=u[p].sort(function(t,e){return t.t-e.t}),z=0,d=0;d<L.length;d++)(B={ease:(j=L[d]).e,duration:(j.t-(d?L[d-1].t:0))/100*x})[p]=j.v,c.to(P,B,z),z+=B.duration;c.duration()<x&&c.to({},{duration:x-c.duration()})}}x||a.duration(x=c.duration())}else a.timeline=0;return!0!==S||i||(ze=r(a),l.killTweensOf(P),ze=0),jt(_,r(a),o),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(w||!x&&!C&&a._start===ht(_._time)&&N(w)&&At(r(a))&&"nested"!==_.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-b)||0)),M&&Bt(r(a),M),a}o(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,o,i,a,l,c,d,u,h,p=this._time,f=this._tDur,m=this._dur,g=t<0,y=t>f-x&&!g?f:t<x?0:t;if(m){if(y!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(r=y,u=this.timeline,this._repeat){if(a=m+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+t,e,n);if(r=ht(y%a),y===f?(i=this._repeat,r=m):(i=~~(l=ht(y/a)))&&i===l?(r=m,i--):r>m&&(r=m),(c=this._yoyo&&1&i)&&(h=this._yEase,r=m-r),l=Pt(this._tTime,a),r===p&&!n&&this._initted&&i===l)return this._tTime=y,this;i!==l&&(u&&this._yEase&&Ae(u,c),this.vars.repeatRefresh&&!c&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(ht(a*i),!0).invalidate()._lock=0))}if(!this._initted){if(zt(this,g?t:r,n,e,y))return this._tTime=0,this;if(p!==this._time&&(!n||!this.vars.repeatRefresh||i===l))return this;if(m!==this._dur)return this.render(t,e,n)}if(this._tTime=y,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=d=(h||this._ease)(r/m),this._from&&(this.ratio=d=1-d),!p&&y&&!e&&!l&&(de(this,"onStart"),this._tTime!==y))return this;for(o=this._pt;o;)o.r(d,o.d),o=o._next;u&&u.render(t<0?t:u._dur*u._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&_t(this,t,0,n),de(this,"onUpdate")),this._repeat&&i!==l&&this.vars.onRepeat&&!e&&this.parent&&de(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(g&&!this._onUpdate&&_t(this,t,0,!0),(t||!m)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&Tt(this,1),e||g&&!p||!(y||p||c)||(de(this,y===f?"onComplete":"onReverseComplete",!0),this._prom&&!(y<f&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var o,i,a,l=t.ratio,c=e<0||!e&&(!t._start&&Vt(t)&&(t._initted||!Ft(t))||(t._ts<0||t._dp._ts<0)&&!Ft(t))?0:1,d=t._rDelay,u=0;if(d&&t._repeat&&(u=Xt(0,t._tDur,e),i=Pt(u,d),t._yoyo&&1&i&&(c=1-c),i!==Pt(t._tTime,d)&&(l=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==l||s||r||t._zTime===x||!e&&t._zTime){if(!t._initted&&zt(t,e,r,n,u))return;for(a=t._zTime,t._zTime=e||(n?x:0),n||(n=e&&!a),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=u,o=t._pt;o;)o.r(c,o.d),o=o._next;e<0&&_t(t,e,0,!0),t._onUpdate&&!n&&de(t,"onUpdate"),u&&t._repeat&&!n&&t.parent&&de(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Tt(t,1),n||s||(de(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,o){m||Se.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ue(this,i),function(t,e,n,r,o,i,s,a){var l,c,d,u,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],d=t._ptLookup,u=t._targets.length;u--;){if((l=d[u][e])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return Ve=1,t.vars[e]="+=0",Ue(t,s),Ve=0,a?q(e+" not eligible for reset"):1;h.push(l)}for(u=h.length;u--;)(l=(c=h[u])._pt||c).s=!r&&0!==r||o?l.s+(r||0)+i*l.c:r,l.c=n-l.s,c.e&&(c.e=ut(n)+Jt(c.e)),c.b&&(c.b=l.s+Jt(c.b))}(this,t,e,n,r,this._ease(i/this._dur),i,o)?this.resetTo(t,e,n,r,1):(It(this,0),this.parent||Et(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!t&&(!e||"all"===e))return this._lazy=this._pt=0,this.parent?ue(this):this.scrollTrigger&&this.scrollTrigger.kill(!!s),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ze&&!0!==ze.vars.overwrite)._first||ue(this),this.parent&&n!==this.timeline.totalDuration()&&$t(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,i,a,l,c,d,u=this._targets,h=t?Qt(t):u,p=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(u,h))return"all"===e&&(this._pt=0),ue(this);for(r=this._op=this._op||[],"all"!==e&&(M(e)&&(l={},dt(e,function(t){return l[t]=1}),e=l),e=function(t,e){var n,r,o,i,s=t[0]?lt(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(r in n=wt({},e),a)if(r in n)for(o=(i=a[r].split(",")).length;o--;)n[i[o]]=n[r];return n}(u,e)),d=u.length;d--;)if(~h.indexOf(u[d]))for(l in o=p[d],"all"===e?(r[d]=e,a=o,i={}):(i=r[d]=r[d]||{},a=e),a)(c=o&&o[l])&&("kill"in c.d&&!0!==c.d.kill(l)||Mt(this,c,"_pt"),delete o[l]),"all"!==i&&(i[l]=1);return this._initted&&!this._pt&&f&&ue(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Kt(1,arguments)},e.delayedCall=function(t,n,r,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:o})},e.fromTo=function(t,e,n){return Kt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return l.killTweensOf(t,e,n)},e}(je);bt(Je.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),dt("staggerTo,staggerFrom,staggerFromTo",function(t){Je[t]=function(){var e=new Be,n=Yt.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}});var Ye=function(t,e,n){return t[e]=n},Ze=function(t,e,n){return t[e](n)},Ge=function(t,e,n,r){return t[e](r.fp,n)},Qe=function(t,e,n){return t.setAttribute(e,n)},tn=function(t,e){return T(t[e])?Ze:_(t[e])&&t.setAttribute?Qe:Ye},en=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},nn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},rn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},on=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},sn=function(t,e,n,r){for(var o,i=this._pt;i;)o=i._next,i.p===r&&i.modifier(t,e,n),i=o},an=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Mt(this,r,"_pt"):r.dep||(e=1),r=n;return!e},ln=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},cn=function(t){for(var e,n,r,o,i=t._pt;i;){for(e=i._next,n=r;n&&n.pr>i.pr;)n=n._next;(i._prev=n?n._prev:o)?i._prev._next=i:r=i,(i._next=n)?n._prev=i:o=i,i=e}t._pt=r},dn=function(){function t(t,e,n,r,o,i,s,a,l){this.t=e,this.s=r,this.c=o,this.p=n,this.r=i||en,this.d=s||this,this.set=a||Ye,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=ln,this.m=t,this.mt=n,this.tween=e},t}();dt(st+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Q[t]=1}),H.TweenMax=H.TweenLite=Je,H.TimelineLite=H.TimelineMax=Be,l=new Be({sortChildren:!1,defaults:y,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),g.stringFilter=ke;var un=[],hn={},pn=[],fn=0,mn=0,gn=function(t){return(hn[t]||pn).map(function(t){return t()})},yn=function(){var t=Date.now(),e=[];t-fn>2&&(gn("matchMediaInit"),un.forEach(function(t){var n,r,o,i,s=t.queries,a=t.conditions;for(r in s)(n=c.matchMedia(s[r]).matches)&&(o=1),n!==a[r]&&(a[r]=n,i=1);i&&(t.revert(),o&&e.push(t))}),gn("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t,function(e){return t.add(null,e)})}),fn=t,gn("matchMedia"))},vn=function(){function t(t,e){this.selector=e&&te(e),this.data=[],this._r=[],this.isReverted=!1,this.id=mn++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){T(t)&&(n=e,e=t,t=T);var r=this,o=function(){var t,o=a,i=r.selector;return o&&o!==r&&o.data.push(r),n&&(r.selector=te(n)),a=r,t=e.apply(r,arguments),T(t)&&r._r.push(t),a=o,r.selector=i,r.isReverted=!1,t};return r.last=o,t===T?o(r,function(t){return r.add(null,t)}):t?r[t]=o:o},e.ignore=function(t){var e=a;a=null,t(this),a=e},e.getTweens=function(){var e=[];return this.data.forEach(function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof Je&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)}),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),o=n.data.length;o--;)"isFlip"===(e=n.data[o]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach(function(t){return r.splice(r.indexOf(t),1)}));for(r.map(function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}}).sort(function(t,e){return e.g-t.g||-1/0}).forEach(function(e){return e.t.revert(t)}),o=n.data.length;o--;)(e=n.data[o])instanceof Be?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof Je)&&e.revert&&e.revert(t);n._r.forEach(function(e){return e(t,n)}),n.isReverted=!0}():this.data.forEach(function(t){return t.kill&&t.kill()}),this.clear(),e)for(var r=un.length;r--;)un[r].id===this.id&&un.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),xn=function(){function t(t){this.contexts=[],this.scope=t,a&&a.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){A(t)||(t={matches:t});var r,o,i,s=new vn(0,n||this.scope),l=s.conditions={};for(o in a&&!s.selector&&(s.selector=a.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===o?i=1:(r=c.matchMedia(t[o]))&&(un.indexOf(s)<0&&un.push(s),(l[o]=r.matches)&&(i=1),r.addListener?r.addListener(yn):r.addEventListener("change",yn));return i&&e(s,function(t){return s.add(null,t)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(e){return e.kill(t,!0)})},t}(),bn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(t){return pe(t)})},timeline:function(t){return new Be(t)},getTweensOf:function(t,e){return l.getTweensOf(t,e)},getProperty:function(t,e,n,r){M(t)&&(t=Qt(t)[0]);var o=lt(t||{}).get,i=n?xt:vt;return"native"===n&&(n=""),t?e?i((nt[e]&&nt[e].get||o)(t,e,n,r)):function(e,n,r){return i((nt[e]&&nt[e].get||o)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=Qt(t)).length>1){var r=t.map(function(t){return Sn.quickSetter(t,e,n)}),o=r.length;return function(t){for(var e=o;e--;)r[e](t)}}t=t[0]||{};var i=nt[e],s=lt(t),a=s.harness&&(s.harness.aliases||{})[e]||e,l=i?function(e){var r=new i;f._pt=0,r.init(t,n?e+n:e,f,0,[t]),r.render(1,r),f._pt&&on(1,f)}:s.set(t,a);return i?l:function(e){return l(t,a,n?e+n:e,s,1)}},quickTo:function(t,e,n){var r,o=Sn.to(t,bt(((r={})[e]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),i=function(t,n,r){return o.resetTo(e,t,n,r)};return i.tween=o,i},isTweening:function(t){return l.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ne(t.ease,y.ease)),kt(y,t||{})},config:function(t){return kt(g,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,o=t.defaults,i=t.extendTimeline;(r||"").split(",").forEach(function(t){return t&&!nt[t]&&!H[t]&&q(e+" effect requires "+t+" plugin.")}),rt[e]=function(t,e,r){return n(Qt(t),bt(e||{},o),r)},i&&(Be.prototype[e]=function(t,n,r){return this.add(rt[e](t,A(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Ee[t]=Ne(e)},parseEase:function(t,e){return arguments.length?Ne(t,e):Ee},getById:function(t){return l.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,o=new Be(t);for(o.smoothChildTiming=N(t.smoothChildTiming),l.remove(o),o._dp=0,o._time=o._tTime=l._time,n=l._first;n;)r=n._next,!e&&!n._dur&&n instanceof Je&&n.vars.onComplete===n._targets[0]||jt(o,n,n._start-n._delay),n=r;return jt(l,o,0),o},context:function(t,e){return t?new vn(t,e):a},matchMedia:function(t){return new xn(t)},matchMediaRefresh:function(){return un.forEach(function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()})||yn()},addEventListener:function(t,e){var n=hn[t]||(hn[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=hn[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var o=n-e;return I(e)?se(e,t(0,e.length),n):qt(r,function(t){return(o+(t-e)%o)%o+e})},wrapYoyo:function t(e,n,r){var o=n-e,i=2*o;return I(e)?se(e,t(0,e.length-1),n):qt(r,function(t){return e+((t=(i+(t-e)%i)%i||0)>o?i-t:t)})},distribute:ne,random:ie,snap:oe,normalize:function(t,e,n){return le(t,e,0,1,n)},getUnit:Jt,clamp:function(t,e,n){return qt(n,function(n){return Xt(t,e,n)})},splitColor:ye,toArray:Qt,selector:te,mapRange:le,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Jt(n))}},interpolate:function t(e,n,r,o){var i=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!i){var s,a,l,c,d,u=M(e),h={};if(!0===r&&(o=1)&&(r=null),u)e={p:e},n={p:n};else if(I(e)&&!I(n)){for(l=[],c=e.length,d=c-2,a=1;a<c;a++)l.push(t(e[a-1],e[a]));c--,i=function(t){t*=c;var e=Math.min(d,~~t);return l[e](t-e)},r=n}else o||(e=wt(I(e)?[]:{},e));if(!l){for(s in n)$e.call(h,e,s,"get",n[s]);i=function(t){return on(t,h)||(u?e.p:e)}}}return qt(r,i)},shuffle:ee},install:W,effects:rt,ticker:Se,updateRoot:Be.updateRoot,plugins:nt,globalTimeline:l,core:{PropTween:dn,globals:X,Tween:Je,Timeline:Be,Animation:je,getCache:lt,_removeLinkedListItem:Mt,reverting:function(){return s},context:function(t){return t&&a&&(a.data.push(t),t._ctx=a),a},suppressOverwrites:function(t){return i=t}}};dt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return bn[t]=Je[t]}),Se.add(Be.updateRoot),f=bn.to({},{duration:0});var wn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},kn=function(t,e){return{name:t,headless:1,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,o;if(M(n)&&(r={},dt(n,function(t){return r[t]=1}),n=r),e){for(o in r={},n)r[o]=e(n[o]);n=r}!function(t,e){var n,r,o,i=t._targets;for(n in e)for(r=i.length;r--;)(o=t._ptLookup[r][n])&&(o=o.d)&&(o._pt&&(o=wn(o,n)),o&&o.modifier&&o.modifier(e[n],t,i[r],n))}(t,n)}}}},Sn=bn.registerPlugin({name:"attr",init:function(t,e,n,r,o){var i,s,a;for(i in this.tween=n,e)a=t.getAttribute(i)||"",(s=this.add(t,"setAttribute",(a||0)+"",e[i],r,o,0,0,i)).op=i,s.b=a,this._props.push(i)},render:function(t,e){for(var n=e._pt;n;)s?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},kn("roundProps",re),kn("modifiers"),kn("snap",oe))||bn;Je.version=Be.version=Sn.version="3.13.0",h=1,P()&&Ce();Ee.Power0,Ee.Power1,Ee.Power2,Ee.Power3,Ee.Power4,Ee.Linear,Ee.Quad,Ee.Cubic,Ee.Quart,Ee.Quint,Ee.Strong,Ee.Elastic,Ee.Back,Ee.SteppedEase,Ee.Bounce,Ee.Sine,Ee.Expo,Ee.Circ;var Cn,En,Mn,Tn,On,_n,An,Nn,Pn={},Dn=180/Math.PI,Rn=Math.PI/180,In=Math.atan2,Ln=/([A-Z])/g,jn=/(left|right|width|margin|padding|x)/i,Bn=/[\s,\(]\S/,zn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Fn=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},$n=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Hn=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Un=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Wn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Kn=function(t,e,n){return t.style[e]=n},qn=function(t,e,n){return t.style.setProperty(e,n)},Xn=function(t,e,n){return t._gsap[e]=n},Jn=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Yn=function(t,e,n,r,o){var i=t._gsap;i.scaleX=i.scaleY=n,i.renderTransform(o,i)},Zn=function(t,e,n,r,o){var i=t._gsap;i[e]=n,i.renderTransform(o,i)},Gn="transform",Qn=Gn+"Origin",tr=function t(e,n){var r=this,o=this.target,i=o.style,s=o._gsap;if(e in Pn&&i){if(this.tfm=this.tfm||{},"transform"===e)return zn.transform.split(",").forEach(function(e){return t.call(r,e,n)});if(~(e=zn[e]||e).indexOf(",")?e.split(",").forEach(function(t){return r.tfm[t]=vr(o,t)}):this.tfm[e]=s.x?s[e]:vr(o,e),e===Qn&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(Gn)>=0)return;s.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(Qn,n,"")),e=Gn}(i||n)&&this.props.push(e,n,i[e])},er=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},nr=function(){var t,e,n=this.props,r=this.target,o=r.style,i=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?2===n[t+1]?r[n[t]](n[t+2]):r[n[t]]=n[t+2]:n[t+2]?o[n[t]]=n[t+2]:o.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Ln,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)i[e]=this.tfm[e];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=An())&&t.isStart||o[Gn]||(er(o),i.zOrigin&&o[Qn]&&(o[Qn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},rr=function(t,e){var n={target:t,props:[],revert:nr,save:tr};return t._gsap||Sn.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(t){return n.save(t)}),n},or=function(t,e){var n=En.createElementNS?En.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):En.createElement(t);return n&&n.style?n:En.createElement(t)},ir=function t(e,n,r){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(Ln,"-$1").toLowerCase())||o.getPropertyValue(n)||!r&&t(e,ar(n)||n,1)||""},sr="O,Moz,ms,Ms,Webkit".split(","),ar=function(t,e,n){var r=(e||On).style,o=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(sr[o]+t in r););return o<0?null:(3===o?"ms":o>=0?sr[o]:"")+t},lr=function(){"undefined"!==typeof window&&window.document&&(Cn=window,En=Cn.document,Mn=En.documentElement,On=or("div")||{style:{}},or("div"),Gn=ar(Gn),Qn=Gn+"Origin",On.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Nn=!!ar("perspective"),An=Sn.core.reverting,Tn=1)},cr=function(t){var e,n=t.ownerSVGElement,r=or("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=t.cloneNode(!0);o.style.display="block",r.appendChild(o),Mn.appendChild(r);try{e=o.getBBox()}catch(i){}return r.removeChild(o),Mn.removeChild(r),e},dr=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},ur=function(t){var e,n;try{e=t.getBBox()}catch(r){e=cr(t),n=1}return e&&(e.width||e.height)||n||(e=cr(t)),!e||e.width||e.x||e.y?e:{x:+dr(t,["x","cx","x1"])||0,y:+dr(t,["y","cy","y1"])||0,width:0,height:0}},hr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!ur(t))},pr=function(t,e){if(e){var n,r=t.style;e in Pn&&e!==Qn&&(e=Gn),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(Ln,"-$1").toLowerCase())):r.removeAttribute(e)}},fr=function(t,e,n,r,o,i){var s=new dn(t._pt,e,n,0,1,i?Wn:Un);return t._pt=s,s.b=r,s.e=o,t._props.push(n),s},mr={deg:1,rad:1,turn:1},gr={grid:1,flex:1},yr=function t(e,n,r,o){var i,s,a,l,c=parseFloat(r)||0,d=(r+"").trim().substr((c+"").length)||"px",u=On.style,h=jn.test(n),p="svg"===e.tagName.toLowerCase(),f=(p?"client":"offset")+(h?"Width":"Height"),m=100,g="px"===o,y="%"===o;if(o===d||!c||mr[o]||mr[d])return c;if("px"!==d&&!g&&(c=t(e,n,r,"px")),l=e.getCTM&&hr(e),(y||"%"===d)&&(Pn[n]||~n.indexOf("adius")))return i=l?e.getBBox()[h?"width":"height"]:e[f],ut(y?c/i*m:c/100*i);if(u[h?"width":"height"]=m+(g?d:o),s="rem"!==o&&~n.indexOf("adius")||"em"===o&&e.appendChild&&!p?e:e.parentNode,l&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==En&&s.appendChild||(s=En.body),(a=s._gsap)&&y&&a.width&&h&&a.time===Se.time&&!a.uncache)return ut(c/a.width*m);if(!y||"height"!==n&&"width"!==n)(y||"%"===d)&&!gr[ir(s,"display")]&&(u.position=ir(e,"position")),s===e&&(u.position="static"),s.appendChild(On),i=On[f],s.removeChild(On),u.position="absolute";else{var v=e.style[n];e.style[n]=m+o,i=e[f],v?e.style[n]=v:pr(e,n)}return h&&y&&((a=lt(s)).time=Se.time,a.width=s[f]),ut(g?i*c/m:i&&c?m/i*c:0)},vr=function(t,e,n,r){var o;return Tn||lr(),e in zn&&"transform"!==e&&~(e=zn[e]).indexOf(",")&&(e=e.split(",")[0]),Pn[e]&&"transform"!==e?(o=Ar(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:Nr(ir(t,Qn))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=Sr[e]&&Sr[e](t,e,n)||ir(t,e)||ct(t,e)||("opacity"===e?1:0)),n&&!~(o+"").trim().indexOf(" ")?yr(t,e,o,n)+n:o},xr=function(t,e,n,r){if(!n||"none"===n){var o=ar(e,t,1),i=o&&ir(t,o,1);i&&i!==n?(e=o,n=i):"borderColor"===e&&(n=ir(t,"borderTopColor"))}var s,a,l,c,d,u,h,p,f,m,y,v=new dn(this._pt,t.style,e,0,1,rn),x=0,b=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=ir(t,r.substring(4,r.indexOf(")")))),"auto"===r&&(u=t.style[e],t.style[e]=r,r=ir(t,e)||r,u?t.style[e]=u:pr(t,e)),ke(s=[n,r]),r=s[1],l=(n=s[0]).match(B)||[],(r.match(B)||[]).length){for(;a=B.exec(r);)h=a[0],f=r.substring(x,a.index),d?d=(d+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(d=1),h!==(u=l[b++]||"")&&(c=parseFloat(u)||0,y=u.substr((c+"").length),"="===h.charAt(1)&&(h=pt(c,h)+y),p=parseFloat(h),m=h.substr((p+"").length),x=B.lastIndex-m.length,m||(m=m||g.units[e]||y,x===r.length&&(r+=m,v.e+=m)),y!==m&&(c=yr(t,e,u,m)||0),v._pt={_next:v._pt,p:f||1===b?f:",",s:c,c:p-c,m:d&&d<4||"zIndex"===e?Math.round:0});v.c=x<r.length?r.substring(x,r.length):""}else v.r="display"===e&&"none"===r?Wn:Un;return V.test(r)&&(v.e=0),this._pt=v,v},br={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wr=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(t=n,n=r,r=t),e[0]=br[n]||n,e[1]=br[r]||r,e.join(" ")},kr=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,o,i=e.t,s=i.style,a=e.u,l=i._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(o=(a=a.split(",")).length;--o>-1;)n=a[o],Pn[n]&&(r=1,n="transformOrigin"===n?Qn:Gn),pr(i,n);r&&(pr(i,Gn),l&&(l.svg&&i.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Ar(i,1),l.uncache=1,er(s)))}},Sr={clearProps:function(t,e,n,r,o){if("isFromStart"!==o.data){var i=t._pt=new dn(t._pt,e,n,0,0,kr);return i.u=r,i.pr=-10,i.tween=o,t._props.push(n),1}}},Cr=[1,0,0,1,0,0],Er={},Mr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Tr=function(t){var e=ir(t,Gn);return Mr(e)?Cr:e.substr(7).match(j).map(ut)},Or=function(t,e){var n,r,o,i,s=t._gsap||lt(t),a=t.style,l=Tr(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(o=t.transform.baseVal.consolidate().matrix).a,o.b,o.c,o.d,o.e,o.f]).join(",")?Cr:l:(l!==Cr||t.offsetParent||t===Mn||s.svg||(o=a.display,a.display="block",(n=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(i=1,r=t.nextElementSibling,Mn.appendChild(t)),l=Tr(t),o?a.display=o:pr(t,"display"),i&&(r?n.insertBefore(t,r):n?n.appendChild(t):Mn.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},_r=function(t,e,n,r,o,i){var s,a,l,c=t._gsap,d=o||Or(t,!0),u=c.xOrigin||0,h=c.yOrigin||0,p=c.xOffset||0,f=c.yOffset||0,m=d[0],g=d[1],y=d[2],v=d[3],x=d[4],b=d[5],w=e.split(" "),k=parseFloat(w[0])||0,S=parseFloat(w[1])||0;n?d!==Cr&&(a=m*v-g*y)&&(l=k*(-g/a)+S*(m/a)-(m*b-g*x)/a,k=k*(v/a)+S*(-y/a)+(y*b-v*x)/a,S=l):(k=(s=ur(t)).x+(~w[0].indexOf("%")?k/100*s.width:k),S=s.y+(~(w[1]||w[0]).indexOf("%")?S/100*s.height:S)),r||!1!==r&&c.smooth?(x=k-u,b=S-h,c.xOffset=p+(x*m+b*y)-x,c.yOffset=f+(x*g+b*v)-b):c.xOffset=c.yOffset=0,c.xOrigin=k,c.yOrigin=S,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[Qn]="0px 0px",i&&(fr(i,c,"xOrigin",u,k),fr(i,c,"yOrigin",h,S),fr(i,c,"xOffset",p,c.xOffset),fr(i,c,"yOffset",f,c.yOffset)),t.setAttribute("data-svg-origin",k+" "+S)},Ar=function(t,e){var n=t._gsap||new Le(t);if("x"in n&&!e&&!n.uncache)return n;var r,o,i,s,a,l,c,d,u,h,p,f,m,y,v,x,b,w,k,S,C,E,M,T,O,_,A,N,P,D,R,I,L=t.style,j=n.scaleX<0,B="px",z="deg",V=getComputedStyle(t),F=ir(t,Qn)||"0";return r=o=i=l=c=d=u=h=p=0,s=a=1,n.svg=!(!t.getCTM||!hr(t)),V.translate&&("none"===V.translate&&"none"===V.scale&&"none"===V.rotate||(L[Gn]=("none"!==V.translate?"translate3d("+(V.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==V.rotate?"rotate("+V.rotate+") ":"")+("none"!==V.scale?"scale("+V.scale.split(" ").join(",")+") ":"")+("none"!==V[Gn]?V[Gn]:"")),L.scale=L.rotate=L.translate="none"),y=Or(t,n.svg),n.svg&&(n.uncache?(O=t.getBBox(),F=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",T=""):T=!e&&t.getAttribute("data-svg-origin"),_r(t,T||F,!!T||n.originIsAbsolute,!1!==n.smooth,y)),f=n.xOrigin||0,m=n.yOrigin||0,y!==Cr&&(w=y[0],k=y[1],S=y[2],C=y[3],r=E=y[4],o=M=y[5],6===y.length?(s=Math.sqrt(w*w+k*k),a=Math.sqrt(C*C+S*S),l=w||k?In(k,w)*Dn:0,(u=S||C?In(S,C)*Dn+l:0)&&(a*=Math.abs(Math.cos(u*Rn))),n.svg&&(r-=f-(f*w+m*S),o-=m-(f*k+m*C))):(I=y[6],D=y[7],A=y[8],N=y[9],P=y[10],R=y[11],r=y[12],o=y[13],i=y[14],c=(v=In(I,P))*Dn,v&&(T=E*(x=Math.cos(-v))+A*(b=Math.sin(-v)),O=M*x+N*b,_=I*x+P*b,A=E*-b+A*x,N=M*-b+N*x,P=I*-b+P*x,R=D*-b+R*x,E=T,M=O,I=_),d=(v=In(-S,P))*Dn,v&&(x=Math.cos(-v),R=C*(b=Math.sin(-v))+R*x,w=T=w*x-A*b,k=O=k*x-N*b,S=_=S*x-P*b),l=(v=In(k,w))*Dn,v&&(T=w*(x=Math.cos(v))+k*(b=Math.sin(v)),O=E*x+M*b,k=k*x-w*b,M=M*x-E*b,w=T,E=O),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,d=180-d),s=ut(Math.sqrt(w*w+k*k+S*S)),a=ut(Math.sqrt(M*M+I*I)),v=In(E,M),u=Math.abs(v)>2e-4?v*Dn:0,p=R?1/(R<0?-R:R):0),n.svg&&(T=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Mr(ir(t,Gn)),T&&t.setAttribute("transform",T))),Math.abs(u)>90&&Math.abs(u)<270&&(j?(s*=-1,u+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+B,n.y=o-((n.yPercent=o&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-o)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+B,n.z=i+B,n.scaleX=ut(s),n.scaleY=ut(a),n.rotation=ut(l)+z,n.rotationX=ut(c)+z,n.rotationY=ut(d)+z,n.skewX=u+z,n.skewY=h+z,n.transformPerspective=p+B,(n.zOrigin=parseFloat(F.split(" ")[2])||!e&&n.zOrigin||0)&&(L[Qn]=Nr(F)),n.xOffset=n.yOffset=0,n.force3D=g.force3D,n.renderTransform=n.svg?Br:Nn?jr:Dr,n.uncache=0,n},Nr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Pr=function(t,e,n){var r=Jt(e);return ut(parseFloat(e)+parseFloat(yr(t,"x",n+"px",r)))+r},Dr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,jr(t,e)},Rr="0deg",Ir="0px",Lr=") ",jr=function(t,e){var n=e||this,r=n.xPercent,o=n.yPercent,i=n.x,s=n.y,a=n.z,l=n.rotation,c=n.rotationY,d=n.rotationX,u=n.skewX,h=n.skewY,p=n.scaleX,f=n.scaleY,m=n.transformPerspective,g=n.force3D,y=n.target,v=n.zOrigin,x="",b="auto"===g&&t&&1!==t||!0===g;if(v&&(d!==Rr||c!==Rr)){var w,k=parseFloat(c)*Rn,S=Math.sin(k),C=Math.cos(k);k=parseFloat(d)*Rn,w=Math.cos(k),i=Pr(y,i,S*w*-v),s=Pr(y,s,-Math.sin(k)*-v),a=Pr(y,a,C*w*-v+v)}m!==Ir&&(x+="perspective("+m+Lr),(r||o)&&(x+="translate("+r+"%, "+o+"%) "),(b||i!==Ir||s!==Ir||a!==Ir)&&(x+=a!==Ir||b?"translate3d("+i+", "+s+", "+a+") ":"translate("+i+", "+s+Lr),l!==Rr&&(x+="rotate("+l+Lr),c!==Rr&&(x+="rotateY("+c+Lr),d!==Rr&&(x+="rotateX("+d+Lr),u===Rr&&h===Rr||(x+="skew("+u+", "+h+Lr),1===p&&1===f||(x+="scale("+p+", "+f+Lr),y.style[Gn]=x||"translate(0, 0)"},Br=function(t,e){var n,r,o,i,s,a=e||this,l=a.xPercent,c=a.yPercent,d=a.x,u=a.y,h=a.rotation,p=a.skewX,f=a.skewY,m=a.scaleX,g=a.scaleY,y=a.target,v=a.xOrigin,x=a.yOrigin,b=a.xOffset,w=a.yOffset,k=a.forceCSS,S=parseFloat(d),C=parseFloat(u);h=parseFloat(h),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),h+=f),h||p?(h*=Rn,p*=Rn,n=Math.cos(h)*m,r=Math.sin(h)*m,o=Math.sin(h-p)*-g,i=Math.cos(h-p)*g,p&&(f*=Rn,s=Math.tan(p-f),o*=s=Math.sqrt(1+s*s),i*=s,f&&(s=Math.tan(f),n*=s=Math.sqrt(1+s*s),r*=s)),n=ut(n),r=ut(r),o=ut(o),i=ut(i)):(n=m,i=g,r=o=0),(S&&!~(d+"").indexOf("px")||C&&!~(u+"").indexOf("px"))&&(S=yr(y,"x",d,"px"),C=yr(y,"y",u,"px")),(v||x||b||w)&&(S=ut(S+v-(v*n+x*o)+b),C=ut(C+x-(v*r+x*i)+w)),(l||c)&&(s=y.getBBox(),S=ut(S+l/100*s.width),C=ut(C+c/100*s.height)),s="matrix("+n+","+r+","+o+","+i+","+S+","+C+")",y.setAttribute("transform",s),k&&(y.style[Gn]=s)},zr=function(t,e,n,r,o){var i,s,a=360,l=M(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?Dn:1)-r,d=r+c+"deg";return l&&("short"===(i=o.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===i&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===i&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),t._pt=s=new dn(t._pt,e,n,r,c,Fn),s.e=d,s.u="deg",t._props.push(n),s},Vr=function(t,e){for(var n in e)t[n]=e[n];return t},Fr=function(t,e,n){var r,o,i,s,a,l,c,d=Vr({},n._gsap),u=n.style;for(o in d.svg?(i=n.getAttribute("transform"),n.setAttribute("transform",""),u[Gn]=e,r=Ar(n,1),pr(n,Gn),n.setAttribute("transform",i)):(i=getComputedStyle(n)[Gn],u[Gn]=e,r=Ar(n,1),u[Gn]=i),Pn)(i=d[o])!==(s=r[o])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(o)<0&&(a=Jt(i)!==(c=Jt(s))?yr(n,o,i,c):parseFloat(i),l=parseFloat(s),t._pt=new dn(t._pt,r,o,a,l-a,Vn),t._pt.u=c||0,t._props.push(o));Vr(r,d)};dt("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",o="Bottom",i="Left",s=(e<3?[n,r,o,i]:[n+i,n+r,o+r,o+i]).map(function(n){return e<2?t+n:"border"+n+t});Sr[e>1?"border"+t:t]=function(t,e,n,r,o){var i,a;if(arguments.length<4)return i=s.map(function(e){return vr(t,e,n)}),5===(a=i.join(" ")).split(i[0]).length?i[0]:a;i=(r+"").split(" "),a={},s.forEach(function(t,e){return a[t]=i[e]=i[e]||i[(e-1)/2|0]}),t.init(e,a,o)}});var $r={name:"css",register:lr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,o){var i,s,a,l,c,d,u,h,p,f,m,y,v,x,b,w,k=this._props,S=t.style,C=n.vars.startAt;for(u in Tn||lr(),this.styles=this.styles||rr(t),w=this.styles.props,this.tween=n,e)if("autoRound"!==u&&(s=e[u],!nt[u]||!He(u,e,n,r,t,o)))if(c=typeof s,d=Sr[u],"function"===c&&(c=typeof(s=s.call(n,r,t,o))),"string"===c&&~s.indexOf("random(")&&(s=ae(s)),d)d(this,t,u,s,n)&&(b=1);else if("--"===u.substr(0,2))i=(getComputedStyle(t).getPropertyValue(u)+"").trim(),s+="",be.lastIndex=0,be.test(i)||(h=Jt(i),p=Jt(s)),p?h!==p&&(i=yr(t,u,i,p)+p):h&&(s+=h),this.add(S,"setProperty",i,s,r,o,0,0,u),k.push(u),w.push(u,0,S[u]);else if("undefined"!==c){if(C&&u in C?(i="function"===typeof C[u]?C[u].call(n,r,t,o):C[u],M(i)&&~i.indexOf("random(")&&(i=ae(i)),Jt(i+"")||"auto"===i||(i+=g.units[u]||Jt(vr(t,u))||""),"="===(i+"").charAt(1)&&(i=vr(t,u))):i=vr(t,u),l=parseFloat(i),(f="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),u in zn&&("autoAlpha"===u&&(1===l&&"hidden"===vr(t,"visibility")&&a&&(l=0),w.push("visibility",0,S.visibility),fr(this,S,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==u&&"transform"!==u&&~(u=zn[u]).indexOf(",")&&(u=u.split(",")[0])),m=u in Pn)if(this.styles.save(u),"string"===c&&"var(--"===s.substring(0,6)&&(s=ir(t,s.substring(4,s.indexOf(")"))),a=parseFloat(s)),y||((v=t._gsap).renderTransform&&!e.parseTransform||Ar(t,e.parseTransform),x=!1!==e.smoothOrigin&&v.smooth,(y=this._pt=new dn(this._pt,S,Gn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===u)this._pt=new dn(this._pt,v,"scaleY",v.scaleY,(f?pt(v.scaleY,f+a):a)-v.scaleY||0,Vn),this._pt.u=0,k.push("scaleY",u),u+="X";else{if("transformOrigin"===u){w.push(Qn,0,S[Qn]),s=wr(s),v.svg?_r(t,s,0,x,0,this):((p=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&fr(this,v,"zOrigin",v.zOrigin,p),fr(this,S,u,Nr(i),Nr(s)));continue}if("svgOrigin"===u){_r(t,s,1,x,0,this);continue}if(u in Er){zr(this,v,u,l,f?pt(l,f+s):s);continue}if("smoothOrigin"===u){fr(this,v,"smooth",v.smooth,s);continue}if("force3D"===u){v[u]=s;continue}if("transform"===u){Fr(this,s,t);continue}}else u in S||(u=ar(u)||u);if(m||(a||0===a)&&(l||0===l)&&!Bn.test(s)&&u in S)a||(a=0),(h=(i+"").substr((l+"").length))!==(p=Jt(s)||(u in g.units?g.units[u]:h))&&(l=yr(t,u,i,p)),this._pt=new dn(this._pt,m?v:S,u,l,(f?pt(l,f+a):a)-l,m||"px"!==p&&"zIndex"!==u||!1===e.autoRound?Vn:Hn),this._pt.u=p||0,h!==p&&"%"!==p&&(this._pt.b=i,this._pt.r=$n);else if(u in S)xr.call(this,t,u,i,f?f+s:s);else if(u in t)this.add(t,u,i||t[u],f?f+s:s,r,o);else if("parseTransform"!==u){K(u,s);continue}m||(u in S?w.push(u,0,S[u]):"function"===typeof t[u]?w.push(u,2,t[u]()):w.push(u,1,i||t[u])),k.push(u)}b&&cn(this)},render:function(t,e){if(e.tween._time||!An())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:vr,aliases:zn,getSetter:function(t,e,n){var r=zn[e];return r&&r.indexOf(",")<0&&(e=r),e in Pn&&e!==Qn&&(t._gsap.x||vr(t,"x"))?n&&_n===n?"scale"===e?Jn:Xn:(_n=n||{})&&("scale"===e?Yn:Zn):t.style&&!_(t.style[e])?Kn:~e.indexOf("-")?qn:tn(t,e)},core:{_removeProperty:pr,_getMatrix:Or}};Sn.utils.checkPrefix=ar,Sn.core.getStyleSaver=rr,function(t,e){var n=dt(t+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){Pn[t]=1});dt(e,function(t){g.units[t]="deg",Er[t]=1}),zn[n[13]]=t+","+e,dt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");zn[e[1]]=n[e[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),dt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){g.units[t]="px"}),Sn.registerPlugin($r);var Hr=Sn.registerPlugin($r)||Sn;Hr.core.Tween},8311:t=>{t.exports="2.1.8"},8325:(t,e,n)=>{var r=n(2541),o=n(5654),i=n(3279),s=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=s},8326:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8328:(t,e,n)=>{"use strict";function r(t){return"object"===typeof t&&null!==t}n.d(e,{G:()=>r})},8353:(t,e,n)=>{var r=n(5750);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),function s(a){if(r.has(n,a))throw new i;r.has(e,a)||(n[a]=!0,e[a]=!0,r.each(t.predecessors(a),s),delete n[a],o.push(a))}),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},8381:(t,e,n)=>{var r=n(8208);t.exports=function(t,e,n){var o,i={};r.forEach(n,function(n){for(var r,s,a=t.parent(n);a;){if((r=t.parent(a))?(s=i[r],i[r]=a):(s=o,o=a),s&&s!==a)return void e.setEdge(s,a);a=r}})}},8396:(t,e,n)=>{"use strict";var r=n(8208);t.exports=function(t,e){var n={};return r.forEach(t,function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)}),r.forEach(e.edges(),function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,function(t){return!t.merged}),function(t){return r.pick(t,["vs","i","barycenter","weight"])})}(r.filter(n,function(t){return!t.indegree}))}},8420:(t,e,n)=>{var r=n(1775),o=n(3211),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];i.call(t,e)&&o(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},8443:(t,e,n)=>{"use strict";t.exports=n(9717)},8468:(t,e,n)=>{var r=n(5816),o=n(644),i=n(4020);t.exports=function(t,e,n){return e===e?i(t,e,n):r(t,o,n)}},8487:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},8541:(t,e,n)=>{var r=n(9812),o=n(149),i=n(4052),s=n(9841),a=r?r.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(s(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},8582:(t,e,n)=>{t.exports={components:n(5992),dijkstra:n(5822),dijkstraAll:n(8976),findCycles:n(247),floydWarshall:n(6945),isAcyclic:n(9825),postorder:n(1896),preorder:n(127),prim:n(6368),tarjan:n(8808),topsort:n(8353)}},8592:(t,e,n)=>{var r=n(4262),o=n(6326),i=n(474);t.exports=function(t){return r(t,i,o)}},8630:(t,e,n)=>{var r=n(1516),o=n(6806),i=n(8962),s=n(1295),a=n(8710);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return i(t);case"[object Symbol]":return s(t)}}},8646:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8673:(t,e,n)=>{var r=n(823),o=n(3713),i=n(6571);t.exports=function(t){return i(t)?r(t):o(t)}},8676:(t,e,n)=>{"use strict";n.d(e,{s:()=>o});var r=n(8328);function o(t){return(0,r.G)(t)&&"offsetHeight"in t}},8693:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},8710:(t,e,n)=>{var r=n(1516);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},8724:(t,e,n)=>{var r=n(7615),o=n(5051),i=n(2154),s=n(8734),a=n(2662);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,t.exports=l},8734:(t,e,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},8808:(t,e,n)=>{var r=n(5750);t.exports=function(t){var e=0,n=[],o={},i=[];function s(a){var l=o[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(t){r.has(o,t)?o[t].onStack&&(l.lowlink=Math.min(l.lowlink,o[t].index)):(s(t),l.lowlink=Math.min(l.lowlink,o[t].lowlink))}),l.lowlink===l.index){var c,d=[];do{c=n.pop(),o[c].onStack=!1,d.push(c)}while(a!==c);i.push(d)}}return t.nodes().forEach(function(t){r.has(o,t)||s(t)}),i}},8853:(t,e,n)=>{"use strict";t.exports=n(5896)},8883:(t,e,n)=>{var r=n(5652),o=n(6571);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,function(t,r,o){i[++n]=e(t,r,o)}),i}},8895:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},8902:(t,e,n)=>{var r=n(4816),o=n(6179),i=n(6704);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},8917:(t,e,n)=>{"use strict";n.d(e,{xQ:()=>i});var r=n(5043),o=n(9674);function i(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=(0,r.useContext)(o.t);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=(0,r.useId)();(0,r.useEffect)(()=>{if(t)return s(a)},[t]);const l=(0,r.useCallback)(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}},8962:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},8976:(t,e,n)=>{var r=n(5822),o=n(5750);t.exports=function(t,e,n){return o.transform(t.nodes(),function(o,i){o[i]=r(t,i,e,n)},{})}},8990:(t,e,n)=>{var r=n(9995)(n(2520));t.exports=r},9057:(t,e,n)=>{var r=n(5324),o=n(2777),i=n(4052),s=n(9194),a=n(6173),l=n(914);t.exports=function(t,e,n){for(var c=-1,d=(e=r(e,t)).length,u=!1;++c<d;){var h=l(e[c]);if(!(u=null!=t&&n(t,h)))break;t=t[h]}return u||++c!=d?u:!!(d=null==t?0:t.length)&&a(d)&&s(h,d)&&(i(t)||o(t))}},9075:(t,e,n)=>{var r=n(6614),o=n(6326);t.exports=function(t,e){return r(t,o(t),e)}},9096:(t,e,n)=>{var r=n(9256),o=n(5029),i=n(3279),s=n(4052),a=n(3932);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?s(t)?o(t[0],t[1]):r(t):a(t)}},9140:(t,e,n)=>{var r=n(7303);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},9194:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},9207:(t,e,n)=>{var r=n(9383);t.exports={Graph:r.Graph,json:n(1097),alg:n(8582),version:r.version}},9256:(t,e,n)=>{var r=n(6532),o=n(3781),i=n(1310);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},9261:(t,e,n)=>{var r=n(8420),o=n(5324),i=n(9194),s=n(6686),a=n(914);t.exports=function(t,e,n,l){if(!s(t))return t;for(var c=-1,d=(e=o(e,t)).length,u=d-1,h=t;null!=h&&++c<d;){var p=a(e[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=u){var m=h[p];void 0===(f=l?l(m,p,h):void 0)&&(f=s(m)?m:i(e[c+1])?[]:{})}r(h,p,f),h=h[p]}return t}},9292:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9340:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},9350:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},9364:(t,e,n)=>{var r=n(9742),o=n(9096),i=n(61);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},9377:t=>{t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,s={};++r<o;){var a=r<i?e[r]:void 0;n(s,t[r],a)}return s}},9383:(t,e,n)=>{t.exports={Graph:n(191),version:n(8311)}},9394:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).has(t)}},9395:(t,e,n)=>{var r=n(4262),o=n(9621),i=n(8673);t.exports=function(t){return r(t,i,o)}},9417:(t,e,n)=>{var r=n(6686);t.exports=function(t){return t===t&&!r(t)}},9421:t=>{t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},9461:(t,e,n)=>{"use strict";t.exports=n(2330)},9558:(t,e,n)=>{"use strict";var r=n(8208),o=n(7938).Graph,i=n(5641);function s(t,e){var n={};return r.reduce(e,function(e,o){var i=0,s=0,a=e.length,c=r.last(o);return r.forEach(o,function(e,d){var u=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),h=u?t.node(u).order:a;(u||e===c)&&(r.forEach(o.slice(s,d+1),function(e){r.forEach(t.predecessors(e),function(r){var o=t.node(r),s=o.order;!(s<i||h<s)||o.dummy&&t.node(e).dummy||l(n,r,e)})}),s=d+1,i=h)}),o}),n}function a(t,e){var n={};function o(e,o,i,s,a){var c;r.forEach(r.range(o,i),function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),function(e){var r=t.node(e);r.dummy&&(r.order<s||r.order>a)&&l(n,e,c)})})}return r.reduce(e,function(e,n){var i,s=-1,a=0;return r.forEach(n,function(r,l){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,a,l,s,i),a=l,s=i)}o(n,a,n.length,i,e.length)}),n}),n}function l(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function d(t,e,n,o){var i={},s={},a={};return r.forEach(e,function(t){r.forEach(t,function(t,e){i[t]=t,s[t]=t,a[t]=e})}),r.forEach(e,function(t){var e=-1;r.forEach(t,function(t){var l=o(t);if(l.length){l=r.sortBy(l,function(t){return a[t]});for(var d=(l.length-1)/2,u=Math.floor(d),h=Math.ceil(d);u<=h;++u){var p=l[u];s[t]===t&&e<a[p]&&!c(n,t,p)&&(s[p]=t,s[t]=i[t]=i[p],e=a[p])}}})}),{root:i,align:s}}function u(t,e,n,i,s){var a={},l=function(t,e,n,i){var s=new o,a=t.graph(),l=function(t,e,n){return function(o,i,s){var a,l=o.node(i),c=o.node(s),d=0;if(d+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=-l.width/2;break;case"r":a=l.width/2}if(a&&(d+=n?a:-a),a=0,d+=(l.dummy?e:t)/2,d+=(c.dummy?e:t)/2,d+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(d+=n?a:-a),a=0,d}}(a.nodesep,a.edgesep,i);return r.forEach(e,function(e){var o;r.forEach(e,function(e){var r=n[e];if(s.setNode(r),o){var i=n[o],a=s.edge(i,r);s.setEdge(i,r,Math.max(l(t,e,o),a||0))}o=e})}),s}(t,e,n,s),c=s?"borderLeft":"borderRight";function d(t,e){for(var n=l.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return d(function(t){a[t]=l.inEdges(t).reduce(function(t,e){return Math.max(t,a[e.v]+l.edge(e))},0)},l.predecessors.bind(l)),d(function(e){var n=l.outEdges(e).reduce(function(t,e){return Math.min(t,a[e.w]-l.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(a[e]=Math.max(a[e],n))},l.successors.bind(l)),r.forEach(i,function(t){a[t]=a[n[t]]}),a}function h(t,e){return r.minBy(r.values(e),function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)}),n-o})}function p(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(s){var a,l=n+s,c=t[l];if(c!==e){var d=r.values(c);(a="l"===s?o-r.min(d):i-r.max(d))&&(t[l]=r.mapValues(c,function(t){return t+a}))}})})}function f(t,e){return r.mapValues(t.ul,function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2})}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(s(t,n),a(t,n)),l={};r.forEach(["u","d"],function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(e=r.map(e,function(t){return r.values(t).reverse()}));var s=("u"===i?t.predecessors:t.successors).bind(t),a=d(t,e,o,s),c=u(t,e,a.root,a.align,"r"===n);"r"===n&&(c=r.mapValues(c,function(t){return-t})),l[i+n]=c})});var c=h(t,l);return p(l,c),f(l,t.graph().align)},findType1Conflicts:s,findType2Conflicts:a,addConflict:l,hasConflict:c,verticalAlignment:d,horizontalCompaction:u,alignCoordinates:p,findSmallestWidthAlignment:h,balance:f}},9621:(t,e,n)=>{var r=n(7529),o=n(7828),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return i.call(t,e)}))}:o;t.exports=a},9674:(t,e,n)=>{"use strict";n.d(e,{t:()=>r});const r=(0,n(5043).createContext)(null)},9676:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,o,i){for(var s=-1,a=n(e((r-t)/(o||1)),0),l=Array(a);a--;)l[i?a:++s]=t,t+=o;return l}},9717:(t,e,n)=>{"use strict";var r=n(5043),o=n(9461);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},s=o.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var u=a(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=c(function(){function t(t){if(!l){if(l=!0,s=t,t=r(t),void 0!==o&&h.hasValue){var e=h.value;if(o(e,t))return a=e}return a=t}if(e=a,i(s,t))return e;var n=r(t);return void 0!==o&&o(e,n)?(s=t,e):(s=t,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]},[e,n,r,o]);var p=s(t,u[0],u[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),d(p),p}},9742:(t,e,n)=>{var r=n(9841);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var s=t[o],a=e(s);if(null!=a&&(void 0===l?a===a&&!r(a):n(a,l)))var l=a,c=s}return c}},9791:(t,e,n)=>{var r=n(8208),o=n(6297),i=n(8396),s=n(388);t.exports=function t(e,n,a,l){var c=e.children(n),d=e.node(n),u=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,p={};u&&(c=r.filter(c,function(t){return t!==u&&t!==h}));var f=o(e,c);r.forEach(f,function(n){if(e.children(n.v).length){var o=t(e,n.v,a,l);p[n.v]=o,r.has(o,"barycenter")&&(i=n,s=o,r.isUndefined(i.barycenter)?(i.barycenter=s.barycenter,i.weight=s.weight):(i.barycenter=(i.barycenter*i.weight+s.barycenter*s.weight)/(i.weight+s.weight),i.weight+=s.weight))}var i,s});var m=i(f,a);!function(t,e){r.forEach(t,function(t){t.vs=r.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(m,p);var g=s(m,l);if(u&&(g.vs=r.flatten([u,g.vs,h],!0),e.predecessors(u).length)){var y=e.node(e.predecessors(u)[0]),v=e.node(e.predecessors(h)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+y.order+v.order)/(g.weight+2),g.weight+=2}return g}},9812:(t,e,n)=>{var r=n(6552).Symbol;t.exports=r},9825:(t,e,n)=>{var r=n(8353);t.exports=function(t){try{r(t)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},9841:(t,e,n)=>{var r=n(6913),o=n(2761);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},9855:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9917:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=(0,n(7784).A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9935:(t,e,n)=>{var r=n(1340),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},9987:(t,e,n)=>{var r=n(9812),o=n(2929),i=n(3211),s=n(3668),a=n(4160),l=n(2074),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,u,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),t.size!=e.size&&!f)return!1;var m=h.get(t);if(m)return m==e;r|=2,h.set(t,e);var g=s(p(t),p(e),r,c,u,h);return h.delete(t),g;case"[object Symbol]":if(d)return d.call(t)==d.call(e)}return!1}},9995:(t,e,n)=>{var r=n(9096),o=n(6571),i=n(8673);t.exports=function(t){return function(e,n,s){var a=Object(e);if(!o(e)){var l=r(n,3);e=i(e),n=function(t){return l(a[t],t,a)}}var c=t(e,n,s);return c>-1?a[l?e[c]:c]:void 0}}}}]);
//# sourceMappingURL=vendors.69a33470.js.map